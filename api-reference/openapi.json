{
  "openapi": "3.0.0",
  "info": {
    "title": "1Club API Documentation",
    "version": "1.0.0",
    "description": "Comprehensive API documentation for the 1Club platform. Use with the Developer Portal or integrate with your app.",
    "contact": {
      "name": "1Club API Support",
      "email": "support@1club.ai"
    }
  },
  "servers": [
    {
      "url": "http://localhost:8000",
      "description": "Local development"
    },
    {
      "url": "https://api.1club.ai",
      "description": "Production API"
    },
    {
      "url": "https://developer.1club.ai",
      "description": "Developer portal"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      },
      "sessionAuth": {
        "type": "apiKey",
        "in": "cookie",
        "name": "connect.sid"
      }
    }
  },
  "security": [
    {
      "bearerAuth": []
    },
    {
      "sessionAuth": []
    }
  ],
  "paths": {
    "/v1/access-control/credentials/enroll": {
      "post": {
        "summary": "Enroll a new credential",
        "description": "Enroll a new credential (e.g. NFC card, QR code) and optionally assign it to a contact, membership, or booking",
        "tags": [
          "Access Control"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "credentialType",
                  "identifier"
                ],
                "properties": {
                  "credentialType": {
                    "type": "string",
                    "description": "Type of credential"
                  },
                  "identifier": {
                    "type": "string",
                    "description": "Unique identifier for the credential"
                  },
                  "contactId": {
                    "type": "integer",
                    "description": "Contact to assign the credential to"
                  },
                  "membershipId": {
                    "type": "integer",
                    "description": "Membership to assign the credential to"
                  },
                  "bookingId": {
                    "type": "integer",
                    "description": "Booking to assign the credential to"
                  },
                  "isPrimary": {
                    "type": "boolean",
                    "description": "Whether this is the primary credential"
                  },
                  "metadata": {
                    "type": "object",
                    "description": "Additional metadata"
                  },
                  "expiresAt": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Expiration date"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Enrolled credential object"
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/access-control/credentials/scan": {
      "post": {
        "summary": "Scan/tap credential to enroll (kiosk)",
        "description": "Public kiosk endpoint that scans a credential (e.g. NFC tap) and enrolls it for the user identified by QR code",
        "tags": [
          "Access Control"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "scanData",
                  "code",
                  "clubId"
                ],
                "properties": {
                  "scanData": {
                    "type": "string",
                    "description": "Raw data from the credential scan"
                  },
                  "code": {
                    "type": "string",
                    "description": "QR code for user identification"
                  },
                  "clubId": {
                    "type": "integer",
                    "description": "Club ID where the scan is happening"
                  },
                  "context": {
                    "type": "object",
                    "description": "Additional context"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Enrolled credential summary",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "credentialId": {
                      "type": "integer"
                    },
                    "credentialType": {
                      "type": "string"
                    },
                    "status": {
                      "type": "string"
                    },
                    "enrolledAt": {
                      "type": "string",
                      "format": "date-time"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error or enrollment not enabled"
          },
          "404": {
            "description": "Club, user, or contact not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/access-control/credentials/assign": {
      "post": {
        "summary": "Assign credential to contact or purchase",
        "description": "Assign an existing credential to exactly one of a contact, membership, or booking",
        "tags": [
          "Access Control"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "credentialId"
                ],
                "properties": {
                  "credentialId": {
                    "type": "integer",
                    "description": "ID of the credential to assign"
                  },
                  "contactId": {
                    "type": "integer",
                    "description": "Contact to assign to"
                  },
                  "membershipId": {
                    "type": "integer",
                    "description": "Membership to assign to"
                  },
                  "bookingId": {
                    "type": "integer",
                    "description": "Booking to assign to"
                  },
                  "isPrimary": {
                    "type": "boolean",
                    "description": "Whether this is the primary credential for the contact"
                  },
                  "notes": {
                    "type": "string",
                    "description": "Assignment notes"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Credential assignment with credential and contact details"
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Credential not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/access-control/credentials": {
      "get": {
        "summary": "Get organization credentials",
        "description": "Retrieve all credentials for the organization with their active assignments",
        "tags": [
          "Access Control"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of credentials with decrypted identifiers and active assignments"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/access-control/credentials/contact/{contactId}": {
      "get": {
        "summary": "Get credentials for a contact",
        "description": "Retrieve all credential assignments for a specific contact",
        "tags": [
          "Access Control"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "contactId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "responses": {
          "200": {
            "description": "List of credential assignments with decrypted identifiers"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Contact not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/access-control/credentials/{credentialId}/revoke": {
      "post": {
        "summary": "Revoke a credential",
        "description": "Deactivate a credential while keeping the record. Optionally revoke all active assignments.",
        "tags": [
          "Access Control"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "credentialId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Credential ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "reason": {
                    "type": "string",
                    "description": "Reason for revocation"
                  },
                  "revokeAssignments": {
                    "type": "boolean",
                    "description": "Whether to also revoke all active assignments"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Credential revoked successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Credential not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/access-control/credentials/{credentialId}": {
      "delete": {
        "summary": "Delete a credential",
        "description": "Permanently delete a credential and all its assignments",
        "tags": [
          "Access Control"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "credentialId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Credential ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Credential deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/access-control/events": {
      "post": {
        "summary": "Ingest access events",
        "description": "Receive access events from an edge gateway. Authenticated via gateway bearer token.",
        "tags": [
          "Access Control"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "events"
                ],
                "properties": {
                  "events": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "credentialIdentifier": {
                          "type": "string"
                        },
                        "doorId": {
                          "type": "integer"
                        },
                        "controllerId": {
                          "type": "string"
                        },
                        "eventType": {
                          "type": "string"
                        },
                        "result": {
                          "type": "string"
                        },
                        "timestamp": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "timezone": {
                          "type": "string"
                        },
                        "rawEventData": {
                          "type": "object"
                        },
                        "denialReason": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Ingestion result",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "processed": {
                      "type": "integer"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing or empty events array"
          },
          "401": {
            "description": "Invalid or missing gateway token"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "get": {
        "summary": "Query access events",
        "description": "Query access events with optional filters for credential, door, date range, and result",
        "tags": [
          "Access Control"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "credentialId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by credential ID"
          },
          {
            "in": "query",
            "name": "doorId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by door ID"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Filter events from this date"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Filter events until this date"
          },
          {
            "in": "query",
            "name": "result",
            "schema": {
              "type": "string"
            },
            "description": "Filter by event result"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 100
            },
            "description": "Number of events to return"
          },
          {
            "in": "query",
            "name": "offset",
            "schema": {
              "type": "integer",
              "default": 0
            },
            "description": "Pagination offset"
          }
        ],
        "responses": {
          "200": {
            "description": "Paginated list of access events",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "events": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "total": {
                      "type": "integer"
                    },
                    "limit": {
                      "type": "integer"
                    },
                    "offset": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/access-control/events/reconcile": {
      "post": {
        "summary": "Reconcile access events",
        "description": "Reconcile access events to match them with grants and detect discrepancies",
        "tags": [
          "Access Control"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "eventIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "Specific event IDs to reconcile. If omitted, reconciles all unreconciled events."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Reconciliation results",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "results": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/access-control/events/discrepancies": {
      "get": {
        "summary": "Get event discrepancies",
        "description": "Retrieve access events that have discrepancies (e.g. access without valid grant)",
        "tags": [
          "Access Control"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Filter from this date"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Filter until this date"
          }
        ],
        "responses": {
          "200": {
            "description": "List of event discrepancies"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/access-control/gateways": {
      "post": {
        "summary": "Provision a new edge gateway",
        "description": "Create and provision a new edge gateway for a club, returning a gateway token for authentication",
        "tags": [
          "Access Control"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "clubId",
                  "name",
                  "controllerType"
                ],
                "properties": {
                  "clubId": {
                    "type": "integer",
                    "description": "Club to provision the gateway for"
                  },
                  "name": {
                    "type": "string",
                    "description": "Gateway name"
                  },
                  "controllerType": {
                    "type": "string",
                    "description": "Type of access controller"
                  },
                  "config": {
                    "type": "object",
                    "description": "Gateway configuration"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Provisioned gateway with token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "gatewayToken": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "status": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing required fields"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Club not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/access-control/gateways/{gatewayId}/grants": {
      "get": {
        "summary": "Get grants to sync",
        "description": "Edge gateway endpoint to fetch access grants that need syncing. Authenticated via gateway bearer token.",
        "tags": [
          "Access Control"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "gatewayId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Gateway ID"
          },
          {
            "in": "query",
            "name": "since",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Only return grants updated since this date"
          }
        ],
        "responses": {
          "200": {
            "description": "Grants data for syncing"
          },
          "401": {
            "description": "Invalid or missing gateway token"
          },
          "403": {
            "description": "Gateway ID mismatch"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/access-control/gateways/{gatewayId}/heartbeat": {
      "post": {
        "summary": "Gateway heartbeat",
        "description": "Edge gateway sends periodic heartbeats to report status. Authenticated via gateway bearer token.",
        "tags": [
          "Access Control"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "gatewayId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Gateway ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "version": {
                    "type": "string",
                    "description": "Gateway software version"
                  },
                  "status": {
                    "type": "string",
                    "description": "Gateway health status"
                  },
                  "lastSyncAt": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Last successful sync timestamp"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Heartbeat acknowledged",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Invalid or missing gateway token"
          },
          "403": {
            "description": "Gateway ID mismatch"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/access-control/gateways/{gatewayId}/rotate-token": {
      "post": {
        "summary": "Rotate gateway token",
        "description": "Generate a new authentication token for a gateway, invalidating the previous one",
        "tags": [
          "Access Control"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "gatewayId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Gateway ID"
          }
        ],
        "responses": {
          "200": {
            "description": "New gateway token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "gatewayToken": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Gateway not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/access-control/grants": {
      "post": {
        "summary": "Create access grant",
        "description": "Create a time-bound access grant for a credential, linked to a membership or booking",
        "tags": [
          "Access Control"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "credentialId",
                  "validFrom",
                  "validUntil"
                ],
                "properties": {
                  "credentialId": {
                    "type": "integer",
                    "description": "Credential to grant access for"
                  },
                  "membershipId": {
                    "type": "integer",
                    "description": "Associated membership"
                  },
                  "bookingId": {
                    "type": "integer",
                    "description": "Associated booking"
                  },
                  "clubId": {
                    "type": "integer",
                    "description": "Club scope for the grant"
                  },
                  "doorGroupId": {
                    "type": "integer",
                    "description": "Door group to grant access to"
                  },
                  "validFrom": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Grant start date"
                  },
                  "validUntil": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Grant end date"
                  },
                  "timezone": {
                    "type": "string",
                    "description": "Timezone for access windows (default UTC)"
                  },
                  "accessWindows": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    },
                    "description": "Time windows when access is permitted"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Created access grant"
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Credential not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/access-control/grants/credential/{credentialId}": {
      "get": {
        "summary": "Get credential grants",
        "description": "Retrieve all active access grants for a specific credential",
        "tags": [
          "Access Control"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "credentialId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Credential ID"
          }
        ],
        "responses": {
          "200": {
            "description": "List of active grants"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Credential not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/access-control/grants/{grantId}": {
      "delete": {
        "summary": "Revoke an access grant",
        "description": "Revoke an existing access grant by ID",
        "tags": [
          "Access Control"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "grantId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Grant ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Grant revoked successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Grant not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/access-control/grants/sync": {
      "post": {
        "summary": "Trigger grant sync",
        "description": "Trigger synchronization of access grants to specified edge gateways",
        "tags": [
          "Access Control"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "gatewayIds"
                ],
                "properties": {
                  "gatewayIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "Gateway IDs to sync"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Sync results per gateway",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "results": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "gatewayId": {
                            "type": "integer"
                          },
                          "status": {
                            "type": "string"
                          },
                          "error": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing gatewayIds array"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/access-control/settings/club/{clubId}": {
      "get": {
        "summary": "Get club access control settings",
        "description": "Retrieve access control settings for a club. Creates default settings if none exist.",
        "tags": [
          "Access Control"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "clubId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Club ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Access control settings"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Club not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "put": {
        "summary": "Update club access control settings",
        "description": "Update access control settings for a club. Creates settings if they don't exist.",
        "tags": [
          "Access Control"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "clubId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Club ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "enrollmentEnabled": {
                    "type": "boolean"
                  },
                  "enrollmentRequired": {
                    "type": "boolean"
                  },
                  "allowSkipEnrollment": {
                    "type": "boolean"
                  },
                  "scannerType": {
                    "type": "string"
                  },
                  "scannerFallback": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "enrollmentInstructions": {
                    "type": "object"
                  },
                  "enabledIdentificationMethods": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated settings"
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Club not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/clubs/{slug}/access-control-settings": {
      "get": {
        "summary": "Get public access control settings",
        "description": "Public endpoint to retrieve access control settings for a club by slug",
        "tags": [
          "Access Control"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Club slug"
          }
        ],
        "responses": {
          "200": {
            "description": "Access control settings (or defaults if not configured)"
          },
          "404": {
            "description": "Club not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/account/billing/plans": {
      "get": {
        "summary": "Get billing plans",
        "description": "Retrieve available admin subscription plans",
        "tags": [
          "Admin - Account Billing"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of billing plans"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/account/billing/subscription": {
      "get": {
        "summary": "Get subscription summary",
        "description": "Retrieve the current subscription summary for the organization",
        "tags": [
          "Admin - Account Billing"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Subscription summary"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/account/billing/select-plan": {
      "post": {
        "summary": "Select a billing plan",
        "description": "Select a plan and billing frequency for the organization",
        "tags": [
          "Admin - Account Billing"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "planKey",
                  "billingFrequency"
                ],
                "properties": {
                  "planKey": {
                    "type": "string"
                  },
                  "billingFrequency": {
                    "type": "string",
                    "enum": [
                      "monthly",
                      "yearly"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated subscription"
          },
          "400": {
            "description": "Validation error"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/account/billing/setup-intent": {
      "post": {
        "summary": "Create setup intent",
        "description": "Create a Stripe setup intent for collecting payment method details",
        "tags": [
          "Admin - Account Billing"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "paymentMethodTypes": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "usage": {
                    "type": "string",
                    "enum": [
                      "off_session",
                      "on_session"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Setup intent details"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/account/billing/subscribe": {
      "post": {
        "summary": "Create subscription",
        "description": "Create a Stripe subscription for the selected plan",
        "tags": [
          "Admin - Account Billing"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "paymentMethodId": {
                    "type": "string"
                  },
                  "trialOverrideDays": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Subscription created"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/account/billing/invoices": {
      "get": {
        "summary": "List invoices",
        "description": "List Stripe invoices for the organization",
        "tags": [
          "Admin - Account Billing"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 12,
              "maximum": 50
            },
            "description": "Number of invoices to return"
          }
        ],
        "responses": {
          "200": {
            "description": "List of invoices"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/account/billing/billing-portal": {
      "post": {
        "summary": "Create billing portal session",
        "description": "Create a Stripe billing portal session for the customer",
        "tags": [
          "Admin - Account Billing"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "returnUrl": {
                    "type": "string",
                    "format": "uri"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Billing portal session URL"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/account/billing/update-payment-method": {
      "post": {
        "summary": "Update payment method",
        "description": "Set a new default payment method for the subscription",
        "tags": [
          "Admin - Account Billing"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "paymentMethodId"
                ],
                "properties": {
                  "paymentMethodId": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated subscription"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/account/billing/cancel-subscription": {
      "post": {
        "summary": "Cancel subscription",
        "description": "Cancel the current subscription, optionally at the end of the billing period",
        "tags": [
          "Admin - Account Billing"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cancelAtPeriodEnd": {
                    "type": "boolean",
                    "default": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated subscription"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/account/billing/payment-methods": {
      "get": {
        "summary": "List payment methods",
        "description": "List saved payment methods for the organization",
        "tags": [
          "Admin - Account Billing"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of payment methods"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/account/billing/payment-methods/{paymentMethodId}": {
      "delete": {
        "summary": "Delete payment method",
        "description": "Remove a saved payment method",
        "tags": [
          "Admin - Account Billing"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "paymentMethodId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Stripe payment method ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Payment method deleted"
          },
          "400": {
            "description": "Payment method ID required"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/accounts": {
      "get": {
        "summary": "List accounts",
        "description": "Retrieve all accounts for the organization",
        "tags": [
          "Admin - Accounts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of accounts"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Create account",
        "description": "Create a new billing account",
        "tags": [
          "Admin - Accounts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "code"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "code": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "defaultTaxRateId": {
                    "type": "integer"
                  },
                  "isActive": {
                    "type": "boolean"
                  },
                  "isDefault": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created account"
          },
          "400": {
            "description": "Validation error or duplicate code"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/accounts/{id}": {
      "put": {
        "summary": "Update account",
        "description": "Update an existing billing account",
        "tags": [
          "Admin - Accounts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Account ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "code": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "defaultTaxRateId": {
                    "type": "integer"
                  },
                  "isActive": {
                    "type": "boolean"
                  },
                  "isDefault": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated account"
          },
          "404": {
            "description": "Account not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "patch": {
        "summary": "Patch account",
        "description": "Partially update an existing billing account",
        "tags": [
          "Admin - Accounts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Account ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "code": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "defaultTaxRateId": {
                    "type": "integer"
                  },
                  "isActive": {
                    "type": "boolean"
                  },
                  "isDefault": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated account"
          },
          "404": {
            "description": "Account not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete account",
        "description": "Delete a billing account (cannot delete default account)",
        "tags": [
          "Admin - Accounts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Account ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Account deleted"
          },
          "400": {
            "description": "Cannot delete default account"
          },
          "404": {
            "description": "Account not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/ai-chat/session": {
      "get": {
        "summary": "Get or initialize chat session",
        "description": "Load an existing chat session by sessionId or create a new one with a welcome message",
        "tags": [
          "Admin - AI Chat"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "sessionId",
            "schema": {
              "type": "string"
            },
            "description": "Existing session ID to load"
          }
        ],
        "responses": {
          "200": {
            "description": "Chat session with messages"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/ai-chat/sessions": {
      "get": {
        "summary": "List chat sessions",
        "description": "Get all AI chat sessions for the current user with message previews",
        "tags": [
          "Admin - AI Chat"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of chat sessions"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/ai-chat/session/{sessionId}": {
      "get": {
        "summary": "Get chat session by ID",
        "description": "Retrieve a specific chat session with full message history",
        "tags": [
          "Admin - AI Chat"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "sessionId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Session ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Chat session with messages and context"
          },
          "404": {
            "description": "Session not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/ai-chat": {
      "post": {
        "summary": "Send chat message",
        "description": "Send a message to the AI chat, which routes to the appropriate agent (configuration, booking, insights, etc.)",
        "tags": [
          "Admin - AI Chat"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "message"
                ],
                "properties": {
                  "message": {
                    "type": "string"
                  },
                  "sessionId": {
                    "type": "string"
                  },
                  "createNew": {
                    "type": "boolean"
                  },
                  "selectedAgent": {
                    "type": "string",
                    "description": "Agent to use (auto, configuration, booking, insights, member-communication)"
                  },
                  "currentScreen": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "AI response with optional suggested actions"
          },
          "400": {
            "description": "Message required"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/ai-chat/website": {
      "post": {
        "summary": "Website builder chat",
        "description": "LLM-driven website builder assistant with session-based conversation history",
        "tags": [
          "Admin - AI Chat"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "message": {
                    "type": "string"
                  },
                  "sessionId": {
                    "type": "string"
                  },
                  "settings": {
                    "type": "object",
                    "description": "Site settings to apply from the editor"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Website builder response"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/ai-chat/agents": {
      "get": {
        "summary": "List available AI agents",
        "description": "Get list of available AI agents for the chat",
        "tags": [
          "Admin - AI Chat"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of available agents"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/ai-manager/settings": {
      "get": {
        "summary": "Get AI Manager settings for current organization",
        "description": "Retrieve AI Manager settings with defaults if not exists",
        "tags": [
          "Admin - AI Manager"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "AI Manager settings"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "put": {
        "summary": "Create or update AI Manager settings",
        "description": "Create or update AI Manager settings for current organization",
        "tags": [
          "Admin - AI Manager"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "enabled": {
                    "type": "boolean"
                  },
                  "mode": {
                    "type": "string",
                    "enum": [
                      "auto",
                      "suggestions",
                      "both"
                    ]
                  },
                  "tone": {
                    "type": "string",
                    "enum": [
                      "professional",
                      "friendly",
                      "casual",
                      "formal"
                    ]
                  },
                  "rules": {
                    "type": "string"
                  },
                  "confidenceThreshold": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                  },
                  "includeCmsContent": {
                    "type": "boolean"
                  },
                  "includeMemberHistory": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "AI Manager settings updated"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/ai-messages/{messageId}/suggest": {
      "post": {
        "summary": "Generate AI response suggestion for a message",
        "description": "Generate an AI-powered response suggestion for a message",
        "tags": [
          "Admin - AI Manager"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "messageId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "AI response suggestion generated"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Message not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/ai-messages/{messageId}/auto-respond": {
      "post": {
        "summary": "Trigger auto-response for a message",
        "description": "Process message and auto-respond if enabled and confidence allows",
        "tags": [
          "Admin - AI Manager"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "messageId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Auto-response processed"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/ai-messages/{messageId}/response": {
      "get": {
        "summary": "Get AI response data for a message",
        "description": "Retrieve AI response data for a message",
        "tags": [
          "Admin - AI Manager"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "messageId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "AI response data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "AI response not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/ai-messages/{responseId}/review": {
      "put": {
        "summary": "Approve or reject an AI suggestion",
        "description": "Approve and send, or reject an AI suggestion",
        "tags": [
          "Admin - AI Manager"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "responseId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "action"
                ],
                "properties": {
                  "action": {
                    "type": "string",
                    "enum": [
                      "approve",
                      "reject"
                    ]
                  },
                  "editedResponse": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Review action completed"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "AI response not found"
          },
          "500": {
            "description": "Internal error"
          }
        }
      }
    },
    "/v1/ai-messages/stats": {
      "get": {
        "summary": "Get AI usage statistics",
        "description": "Get AI usage statistics for current organization",
        "tags": [
          "Admin - AI Manager"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "AI usage statistics"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/ai-messages/pending": {
      "get": {
        "summary": "Get pending AI suggestions for review",
        "description": "Get list of pending AI suggestions that need review",
        "tags": [
          "Admin - AI Manager"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 20
            }
          },
          {
            "in": "query",
            "name": "offset",
            "schema": {
              "type": "integer",
              "default": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of pending AI suggestions"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/ai-reports": {
      "get": {
        "summary": "Get AI business reports",
        "description": "Retrieve all AI-generated business reports for the organization with scores and report URLs",
        "tags": [
          "Admin - AI Reports"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of AI reports with scores and URLs"
          },
          "400": {
            "description": "Organization ID required"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/area-types": {
      "get": {
        "summary": "Get organization area types",
        "description": "Retrieve all area types for an organization",
        "tags": [
          "Admin - Area Types"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID (optional, uses user's organization if not provided)"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            },
            "description": "Filter by area type status"
          },
          {
            "in": "query",
            "name": "isBookable",
            "schema": {
              "type": "boolean"
            },
            "description": "Filter by bookable status"
          }
        ],
        "responses": {
          "200": {
            "description": "List of area types"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Create new area type",
        "description": "Create a new area type for an organization",
        "tags": [
          "Admin - Area Types"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "slug"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Area type name"
                  },
                  "slug": {
                    "type": "string",
                    "description": "Area type slug"
                  },
                  "description": {
                    "type": "string",
                    "description": "Area type description"
                  },
                  "sports": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "List of sports"
                  },
                  "isBookable": {
                    "type": "boolean",
                    "default": true,
                    "description": "Whether area type is bookable"
                  },
                  "customFields": {
                    "type": "array",
                    "description": "Custom fields configuration"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive"
                    ],
                    "default": "active",
                    "description": "Area type status"
                  },
                  "sortOrder": {
                    "type": "integer",
                    "default": 0,
                    "description": "Sort order"
                  },
                  "defaultPricePerHour": {
                    "type": "number",
                    "description": "Default price per hour"
                  },
                  "defaultPricePerDay": {
                    "type": "number",
                    "description": "Default price per day"
                  },
                  "defaultPricePerMonth": {
                    "type": "number",
                    "description": "Default price per month"
                  },
                  "revenueAccountId": {
                    "type": "integer",
                    "description": "Revenue account ID"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Area type created successfully"
          },
          "400": {
            "description": "Validation error or area type with slug already exists"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/area-types/{id}": {
      "get": {
        "summary": "Get area type by ID",
        "description": "Retrieve a specific area type by its ID",
        "tags": [
          "Admin - Area Types"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Area type ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Area type details"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Area type not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "patch": {
        "summary": "Update area type",
        "description": "Update an existing area type",
        "tags": [
          "Admin - Area Types"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Area type ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Area type name"
                  },
                  "slug": {
                    "type": "string",
                    "description": "Area type slug"
                  },
                  "description": {
                    "type": "string",
                    "description": "Area type description"
                  },
                  "sports": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "List of sports"
                  },
                  "isBookable": {
                    "type": "boolean",
                    "description": "Whether area type is bookable"
                  },
                  "customFields": {
                    "type": "array",
                    "description": "Custom fields configuration"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive"
                    ],
                    "description": "Area type status"
                  },
                  "sortOrder": {
                    "type": "integer",
                    "description": "Sort order"
                  },
                  "defaultPricePerHour": {
                    "type": "number",
                    "description": "Default price per hour"
                  },
                  "defaultPricePerDay": {
                    "type": "number",
                    "description": "Default price per day"
                  },
                  "defaultPricePerMonth": {
                    "type": "number",
                    "description": "Default price per month"
                  },
                  "revenueAccountId": {
                    "type": "integer",
                    "description": "Revenue account ID"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Area type updated successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Area type not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete area type",
        "description": "Delete an area type",
        "tags": [
          "Admin - Area Types"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Area type ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Area type deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Area type not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/area-types/by-slug/{slug}": {
      "get": {
        "summary": "Get area type by slug",
        "description": "Retrieve a specific area type by its slug",
        "tags": [
          "Admin - Area Types"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Area type slug"
          }
        ],
        "responses": {
          "200": {
            "description": "Area type details"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Area type not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/area-types/stats/{organizationId}": {
      "get": {
        "summary": "Get area type statistics",
        "description": "Get statistics for area types in an organization",
        "tags": [
          "Admin - Area Types"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "organizationId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Area type statistics"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/areas": {
      "get": {
        "summary": "Get organization areas",
        "description": "Retrieve all areas for an organization with optional filtering",
        "tags": [
          "Admin - Areas"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID (optional, uses user's organization if not provided)"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            },
            "description": "Filter by area status"
          },
          {
            "in": "query",
            "name": "clubId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by club ID"
          },
          {
            "in": "query",
            "name": "areaTypeId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by area type ID"
          }
        ],
        "responses": {
          "200": {
            "description": "List of areas"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Create new area",
        "description": "Create a new area for a club",
        "tags": [
          "Admin - Areas"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "clubId",
                  "areaTypeId"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Area name"
                  },
                  "description": {
                    "type": "string",
                    "description": "Area description"
                  },
                  "clubId": {
                    "type": "integer",
                    "description": "Club ID"
                  },
                  "areaTypeId": {
                    "type": "integer",
                    "description": "Area type ID"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "maintenance",
                      "inactive"
                    ],
                    "default": "active",
                    "description": "Area status"
                  },
                  "visibility": {
                    "type": "string",
                    "enum": [
                      "Private",
                      "Member_only",
                      "Public"
                    ],
                    "default": "Private",
                    "description": "Area visibility (Private, Member only, or Public)"
                  },
                  "amenities": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "List of amenities"
                  },
                  "images": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Area images"
                  },
                  "pricePerHour": {
                    "type": "number",
                    "description": "Price per hour"
                  },
                  "customFields": {
                    "type": "object",
                    "description": "Custom fields data"
                  },
                  "operatingHours": {
                    "type": "object",
                    "description": "Operating hours configuration"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Area created successfully"
          },
          "400": {
            "description": "Validation error, club not found, or area type not found"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/areas/{id}": {
      "get": {
        "summary": "Get area by ID",
        "description": "Retrieve a specific area by its ID",
        "tags": [
          "Admin - Areas"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Area ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Area details"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Area not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "patch": {
        "summary": "Update area",
        "description": "Update an existing area",
        "tags": [
          "Admin - Areas"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Area ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Area name"
                  },
                  "description": {
                    "type": "string",
                    "description": "Area description"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "maintenance",
                      "inactive"
                    ],
                    "description": "Area status"
                  },
                  "visibility": {
                    "type": "string",
                    "enum": [
                      "Private",
                      "Member_only",
                      "Public"
                    ],
                    "description": "Area visibility (Private, Member only, or Public)"
                  },
                  "amenities": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "List of amenities"
                  },
                  "images": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Area images"
                  },
                  "pricePerHour": {
                    "type": "number",
                    "description": "Price per hour"
                  },
                  "customFields": {
                    "type": "object",
                    "description": "Custom fields data"
                  },
                  "operatingHours": {
                    "type": "object",
                    "description": "Operating hours configuration"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Area updated successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Area not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete area",
        "description": "Delete an area and all its related data",
        "tags": [
          "Admin - Areas"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Area ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Area deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Area not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/areas/stats/{organizationId}": {
      "get": {
        "summary": "Get area statistics",
        "description": "Get statistics for areas in an organization",
        "tags": [
          "Admin - Areas"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "organizationId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Area statistics"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/bill-runs": {
      "get": {
        "summary": "List bill runs",
        "description": "Retrieve all bill runs for the organization",
        "tags": [
          "Admin - Bill Runs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of bill runs"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Create bill run",
        "description": "Create a new bill run for the organization",
        "tags": [
          "Admin - Bill Runs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "periodStart",
                  "periodEnd"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "periodStart": {
                    "type": "string",
                    "format": "date"
                  },
                  "periodEnd": {
                    "type": "string",
                    "format": "date"
                  },
                  "autoCharge": {
                    "type": "boolean"
                  },
                  "filters": {
                    "type": "object",
                    "properties": {
                      "transactionTypes": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "contactIds": {
                        "type": "array",
                        "items": {
                          "type": "integer"
                        }
                      },
                      "planIds": {
                        "type": "array",
                        "items": {
                          "type": "integer"
                        }
                      },
                      "minAmount": {
                        "type": "number"
                      },
                      "maxAmount": {
                        "type": "number"
                      },
                      "tags": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created bill run"
          },
          "400": {
            "description": "Validation error"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/bill-runs/{id}": {
      "get": {
        "summary": "Get bill run by ID",
        "description": "Retrieve a specific bill run",
        "tags": [
          "Admin - Bill Runs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Bill run ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Bill run details"
          },
          "404": {
            "description": "Bill run not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete bill run",
        "description": "Delete a bill run",
        "tags": [
          "Admin - Bill Runs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Bill run ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Bill run deleted"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/billing/transactions": {
      "get": {
        "summary": "Get billable transactions for a period",
        "description": "Retrieve all billable transactions for invoice generation",
        "tags": [
          "Admin - Billing"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID (optional, uses user's organization if not provided)"
          },
          {
            "in": "query",
            "name": "periodStart",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "required": true,
            "description": "Start date for billing period (YYYY-MM-DD format)"
          },
          {
            "in": "query",
            "name": "periodEnd",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "required": true,
            "description": "End date for billing period (YYYY-MM-DD format)"
          }
        ],
        "responses": {
          "200": {
            "description": "Billable transactions list"
          },
          "400": {
            "description": "Missing required parameters"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/billing/summary": {
      "get": {
        "summary": "Get billing summary for a period",
        "description": "Get summary statistics for billable transactions in a period",
        "tags": [
          "Admin - Billing"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID (optional, uses user's organization if not provided)"
          },
          {
            "in": "query",
            "name": "periodStart",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "required": true,
            "description": "Start date for billing period (YYYY-MM-DD format)"
          },
          {
            "in": "query",
            "name": "periodEnd",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "required": true,
            "description": "End date for billing period (YYYY-MM-DD format)"
          }
        ],
        "responses": {
          "200": {
            "description": "Billing summary"
          },
          "400": {
            "description": "Missing required parameters"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/billing/create-invoice": {
      "post": {
        "summary": "Create invoice from transactions",
        "description": "Create an invoice from a list of transaction IDs",
        "tags": [
          "Admin - Billing"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "contactId",
                  "transactionIds"
                ],
                "properties": {
                  "contactId": {
                    "type": "integer",
                    "description": "Contact ID for the invoice"
                  },
                  "transactionIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "Array of transaction IDs to include in the invoice"
                  },
                  "invoiceDate": {
                    "type": "string",
                    "format": "date",
                    "description": "Invoice date (optional, defaults to today)"
                  },
                  "dueDate": {
                    "type": "string",
                    "format": "date",
                    "description": "Due date (optional, defaults to 30 days from today)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Invoice created successfully"
          },
          "400": {
            "description": "Invalid request data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/booking-policies": {
      "get": {
        "summary": "List booking policies",
        "description": "Retrieve all booking policies for the organization with associated club IDs",
        "tags": [
          "Admin - Booking Policies"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of booking policies"
          },
          "500": {
            "description": "Failed to fetch booking policies"
          }
        }
      },
      "post": {
        "summary": "Create booking policy",
        "description": "Create a new booking policy with cancellation rules and scope",
        "tags": [
          "Admin - Booking Policies"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "cancellationRules": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "hoursInAdvance": {
                          "type": "integer"
                        },
                        "refundPercentage": {
                          "type": "number"
                        },
                        "description": {
                          "type": "string"
                        }
                      }
                    }
                  },
                  "requirePaymentUpfront": {
                    "type": "boolean"
                  },
                  "minBookingSlotMinutes": {
                    "type": "integer"
                  },
                  "checkInRequired": {
                    "type": "boolean"
                  },
                  "scopeType": {
                    "type": "string",
                    "enum": [
                      "class",
                      "area_type",
                      "instructor"
                    ]
                  },
                  "scopeAreaTypeId": {
                    "type": "integer"
                  },
                  "scopeInstructorId": {
                    "type": "integer"
                  },
                  "clubIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Booking policy created"
          },
          "400": {
            "description": "Validation error"
          },
          "500": {
            "description": "Failed to create booking policy"
          }
        }
      }
    },
    "/v1/booking-policies/for-booking/query": {
      "get": {
        "summary": "Get effective booking policy for context",
        "description": "Get the effective booking policy for a specific booking context (club, class, area, or instructor)",
        "tags": [
          "Admin - Booking Policies"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "clubId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Club ID"
          },
          {
            "in": "query",
            "name": "classId",
            "schema": {
              "type": "integer"
            },
            "description": "Class ID (optional)"
          },
          {
            "in": "query",
            "name": "areaId",
            "schema": {
              "type": "integer"
            },
            "description": "Area ID (optional)"
          },
          {
            "in": "query",
            "name": "instructorId",
            "schema": {
              "type": "integer"
            },
            "description": "Instructor ID (optional)"
          }
        ],
        "responses": {
          "200": {
            "description": "Effective booking policy for the context"
          },
          "400": {
            "description": "clubId query parameter is required"
          },
          "500": {
            "description": "Failed to fetch policy for booking"
          }
        }
      }
    },
    "/v1/booking-policies/{id}": {
      "get": {
        "summary": "Get booking policy by ID",
        "description": "Retrieve a specific booking policy with associated club IDs",
        "tags": [
          "Admin - Booking Policies"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Policy ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Booking policy details"
          },
          "404": {
            "description": "Booking policy not found"
          },
          "500": {
            "description": "Failed to fetch booking policy"
          }
        }
      },
      "put": {
        "summary": "Update booking policy",
        "description": "Update an existing booking policy",
        "tags": [
          "Admin - Booking Policies"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Policy ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "isActive": {
                    "type": "boolean"
                  },
                  "cancellationRules": {
                    "type": "array"
                  },
                  "requirePaymentUpfront": {
                    "type": "boolean"
                  },
                  "minBookingSlotMinutes": {
                    "type": "integer"
                  },
                  "checkInRequired": {
                    "type": "boolean"
                  },
                  "scopeType": {
                    "type": "string"
                  },
                  "scopeAreaTypeId": {
                    "type": "integer"
                  },
                  "scopeInstructorId": {
                    "type": "integer"
                  },
                  "clubIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Booking policy updated"
          },
          "400": {
            "description": "Validation error"
          },
          "500": {
            "description": "Failed to update booking policy"
          }
        }
      },
      "delete": {
        "summary": "Delete booking policy",
        "description": "Delete a booking policy",
        "tags": [
          "Admin - Booking Policies"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Policy ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Booking policy deleted"
          },
          "500": {
            "description": "Failed to delete booking policy"
          }
        }
      }
    },
    "/v1/booking-policies/club/{clubId}": {
      "get": {
        "summary": "Get booking policies for club",
        "description": "Retrieve booking policies applicable to a specific club",
        "tags": [
          "Admin - Booking Policies"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "clubId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Club ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Booking policies for the club"
          },
          "500": {
            "description": "Failed to fetch club booking policy"
          }
        }
      }
    },
    "/v1/bookings": {
      "get": {
        "summary": "Get organization bookings",
        "description": "Retrieve all bookings for an organization with optional filtering",
        "tags": [
          "Admin - Bookings"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "areaId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by area ID"
          },
          {
            "in": "query",
            "name": "contactId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by contact ID"
          },
          {
            "in": "query",
            "name": "userId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by user ID"
          },
          {
            "in": "query",
            "name": "instructorId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by instructor ID"
          },
          {
            "in": "query",
            "name": "date",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Filter by specific date"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "confirmed",
                "pending",
                "cancelled",
                "checked_in",
                "no_show"
              ]
            },
            "description": "Filter by booking status"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Start date for date range filter"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "End date for date range filter"
          },
          {
            "in": "query",
            "name": "includeCancelled",
            "schema": {
              "type": "boolean"
            },
            "description": "Include cancelled bookings (by default cancelled bookings are excluded)"
          }
        ],
        "responses": {
          "200": {
            "description": "List of bookings",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Booking ID"
                      },
                      "areaId": {
                        "type": "integer",
                        "description": "Area ID"
                      },
                      "contactId": {
                        "type": "integer",
                        "description": "Contact ID"
                      },
                      "startTime": {
                        "type": "string",
                        "format": "date-time",
                        "description": "Start time (DateTime)"
                      },
                      "endTime": {
                        "type": "string",
                        "format": "date-time",
                        "description": "End time (DateTime)"
                      },
                      "duration": {
                        "type": "number",
                        "description": "Duration in hours"
                      },
                      "totalPrice": {
                        "type": "number",
                        "description": "Total price"
                      },
                      "status": {
                        "type": "string",
                        "description": "Booking status"
                      },
                      "area": {
                        "type": "object",
                        "description": "Area details"
                      },
                      "contact": {
                        "type": "object",
                        "description": "Contact details"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Create new booking",
        "description": "Create a new area booking with availability check",
        "tags": [
          "Admin - Bookings"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "areaId",
                  "date",
                  "startTime",
                  "endTime"
                ],
                "properties": {
                  "areaId": {
                    "type": "integer",
                    "description": "Area ID"
                  },
                  "contactId": {
                    "type": "integer",
                    "description": "Contact ID (optional)"
                  },
                  "startTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Start time (DateTime)"
                  },
                  "endTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "End time (DateTime)"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "confirmed",
                      "pending",
                      "cancelled",
                      "checked_in",
                      "no_show"
                    ],
                    "default": "confirmed",
                    "description": "Booking status"
                  },
                  "notes": {
                    "type": "string",
                    "description": "Booking notes"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Booking created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Created booking ID"
                    },
                    "areaId": {
                      "type": "integer",
                      "description": "Area ID"
                    },
                    "startTime": {
                      "type": "string",
                      "format": "date-time",
                      "description": "Start time (DateTime)"
                    },
                    "endTime": {
                      "type": "string",
                      "format": "date-time",
                      "description": "End time (DateTime)"
                    },
                    "duration": {
                      "type": "number",
                      "description": "Duration in hours"
                    },
                    "totalPrice": {
                      "type": "number",
                      "description": "Total price"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error, area not found, or not available"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Access denied"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/bookings/{id}/confirm": {
      "patch": {
        "summary": "Confirm a pending booking",
        "description": "Change booking status from pending to confirmed and create transaction",
        "tags": [
          "Bookings"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Booking confirmed successfully"
          },
          "400": {
            "description": "Booking cannot be confirmed"
          },
          "404": {
            "description": "Booking not found"
          }
        }
      }
    },
    "/v1/bookings/{id}": {
      "patch": {
        "summary": "Update booking",
        "description": "Update an existing area booking",
        "tags": [
          "Admin - Bookings"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Booking ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "areaId": {
                    "type": "integer",
                    "description": "Area ID"
                  },
                  "contactId": {
                    "type": "integer",
                    "description": "Contact ID"
                  },
                  "startTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Start time (DateTime)"
                  },
                  "endTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "End time (DateTime)"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "confirmed",
                      "pending",
                      "cancelled",
                      "checked_in",
                      "no_show"
                    ],
                    "description": "Booking status"
                  },
                  "notes": {
                    "type": "string",
                    "description": "Booking notes"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Booking updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Booking ID"
                    },
                    "areaId": {
                      "type": "integer",
                      "description": "Area ID"
                    },
                    "startTime": {
                      "type": "string",
                      "format": "date-time",
                      "description": "Start time (DateTime)"
                    },
                    "endTime": {
                      "type": "string",
                      "format": "date-time",
                      "description": "End time (DateTime)"
                    },
                    "status": {
                      "type": "string",
                      "description": "Booking status"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error, area not available, or contact not found"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Access denied"
          },
          "404": {
            "description": "Booking not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/bookings/batch-delete": {
      "delete": {
        "summary": "Delete multiple bookings",
        "description": "Delete multiple bookings",
        "tags": [
          "Admin - Bookings"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "bookingIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "Array of booking IDs to delete"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Bookings deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Bookings deleted successfully"
                    },
                    "deletedCount": {
                      "type": "integer",
                      "description": "Number of bookings deleted"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - invalid booking IDs"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/branding": {
      "get": {
        "summary": "Get organization branding",
        "description": "Retrieve branding settings for the organization",
        "tags": [
          "CMS"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Branding settings"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "put": {
        "summary": "Update organization branding",
        "description": "Update branding settings (colors, logo, fonts) for the organization",
        "tags": [
          "CMS"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "primaryColor": {
                    "type": "string"
                  },
                  "secondaryColor": {
                    "type": "string"
                  },
                  "accentColor": {
                    "type": "string"
                  },
                  "logoUrl": {
                    "type": "string"
                  },
                  "logoAltText": {
                    "type": "string"
                  },
                  "faviconUrl": {
                    "type": "string"
                  },
                  "fontFamily": {
                    "type": "string"
                  },
                  "headingFontFamily": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated branding settings"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/branding/public": {
      "get": {
        "summary": "Get public branding",
        "description": "Public endpoint to retrieve branding settings by organization ID",
        "tags": [
          "CMS"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Public branding settings"
          },
          "400": {
            "description": "Organization ID required"
          },
          "404": {
            "description": "Branding not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/campaigns": {
      "get": {
        "summary": "List campaigns",
        "description": "Retrieve all campaigns for the organization",
        "tags": [
          "Admin - Campaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of campaigns"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Create campaign",
        "description": "Create a new automated campaign",
        "tags": [
          "Admin - Campaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "rule",
                  "automationMode"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "rule": {
                    "type": "string"
                  },
                  "automationMode": {
                    "type": "string",
                    "enum": [
                      "FULLY_AUTOMATED",
                      "HUMAN_IN_LOOP",
                      "DISABLED"
                    ]
                  },
                  "tone": {
                    "type": "string"
                  },
                  "templateId": {
                    "type": "integer"
                  },
                  "messageFrequency": {
                    "type": "string"
                  },
                  "segmentFilter": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created campaign"
          },
          "400": {
            "description": "Validation error"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/campaigns/{id}": {
      "get": {
        "summary": "Get campaign by ID",
        "description": "Retrieve a campaign with its execution stats",
        "tags": [
          "Admin - Campaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Campaign with stats"
          },
          "404": {
            "description": "Campaign not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "put": {
        "summary": "Update campaign",
        "description": "Update an existing campaign",
        "tags": [
          "Admin - Campaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Campaign ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete campaign",
        "description": "Delete a campaign",
        "tags": [
          "Admin - Campaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Campaign ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Campaign deleted"
          },
          "404": {
            "description": "Campaign not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/campaigns/{id}/execute": {
      "post": {
        "summary": "Execute campaign",
        "description": "Manually trigger campaign execution",
        "tags": [
          "Admin - Campaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Execution result"
          },
          "404": {
            "description": "Campaign not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/campaigns/{id}/messages": {
      "get": {
        "summary": "Get campaign messages",
        "description": "Retrieve messages generated by a campaign",
        "tags": [
          "Admin - Campaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Campaign ID"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 50
            }
          },
          {
            "in": "query",
            "name": "offset",
            "schema": {
              "type": "integer",
              "default": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of campaign messages"
          },
          "404": {
            "description": "Campaign not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/checkins": {
      "get": {
        "summary": "Get organization checkins",
        "description": "Retrieve all checkins for an organization with optional filtering",
        "tags": [
          "Admin - Checkins"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "contactId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by contact ID"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Start date for date range filter"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "End date for date range filter"
          }
        ],
        "responses": {
          "200": {
            "description": "List of checkins",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Checkin ID"
                      },
                      "contactId": {
                        "type": "integer",
                        "description": "Contact ID"
                      },
                      "classId": {
                        "type": "integer",
                        "description": "Class ID (optional)"
                      },
                      "membershipId": {
                        "type": "integer",
                        "description": "Membership ID (optional)"
                      },
                      "date": {
                        "type": "string",
                        "format": "date-time",
                        "description": "Checkin date"
                      },
                      "notes": {
                        "type": "string",
                        "description": "Checkin notes"
                      },
                      "contacts": {
                        "type": "object",
                        "description": "Contact details"
                      },
                      "classes": {
                        "type": "object",
                        "description": "Class details"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Create a new checkin",
        "description": "Create a new checkin for a contact",
        "tags": [
          "Admin - Checkins"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "contactId"
                ],
                "properties": {
                  "contactId": {
                    "type": "integer",
                    "description": "Contact ID"
                  },
                  "classId": {
                    "type": "integer",
                    "description": "Class ID (optional)"
                  },
                  "membershipId": {
                    "type": "integer",
                    "description": "Membership ID (optional)"
                  },
                  "date": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Checkin date"
                  },
                  "notes": {
                    "type": "string",
                    "description": "Checkin notes"
                  },
                  "startTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Start time for area/instructor bookings"
                  },
                  "endTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "End time for area/instructor bookings"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Checkin created successfully"
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Contact, class, or pass not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/checkins/{id}": {
      "get": {
        "summary": "Get checkin by ID",
        "description": "Retrieve a specific checkin by ID",
        "tags": [
          "Admin - Checkins"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Checkin ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Checkin details"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Checkin not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete checkin",
        "description": "Delete a checkin by ID",
        "tags": [
          "Admin - Checkins"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Checkin ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Checkin deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Checkin not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/classes": {
      "get": {
        "summary": "Get organization classes",
        "description": "Retrieve all classes for an organization with club, instructor, and booking details",
        "tags": [
          "Admin - Classes"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "instructorId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by instructor ID"
          },
          {
            "in": "query",
            "name": "parentClassId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by parent class ID"
          },
          {
            "in": "query",
            "name": "date",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Filter by specific date"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Start date for date range filter"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "End date for date range filter"
          }
        ],
        "responses": {
          "200": {
            "description": "List of classes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Class ID"
                      },
                      "name": {
                        "type": "string",
                        "description": "Class name"
                      },
                      "description": {
                        "type": "string",
                        "description": "Class description"
                      },
                      "date": {
                        "type": "string",
                        "format": "date",
                        "description": "Class date"
                      },
                      "startTime": {
                        "type": "string",
                        "description": "Class start time"
                      },
                      "endTime": {
                        "type": "string",
                        "description": "Class end time"
                      },
                      "maxCapacity": {
                        "type": "integer",
                        "description": "Maximum class capacity"
                      },
                      "price": {
                        "type": "number",
                        "description": "Class price"
                      },
                      "status": {
                        "type": "string",
                        "description": "Class status"
                      },
                      "clubs": {
                        "type": "object",
                        "description": "Club details"
                      },
                      "instructors": {
                        "type": "array",
                        "items": {
                          "type": "object"
                        },
                        "description": "Instructor details"
                      },
                      "bookings": {
                        "type": "array",
                        "items": {
                          "type": "object"
                        },
                        "description": "Booking details"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Create new class",
        "description": "Create a new class with optional recurrence",
        "tags": [
          "Admin - Classes"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "clubId",
                  "name",
                  "duration",
                  "startTime",
                  "endTime"
                ],
                "properties": {
                  "clubId": {
                    "type": "integer",
                    "description": "Club ID"
                  },
                  "instructorId": {
                    "type": "integer",
                    "description": "Instructor ID (optional)"
                  },
                  "name": {
                    "type": "string",
                    "maxLength": 100,
                    "description": "Class name"
                  },
                  "description": {
                    "type": "string",
                    "description": "Class description"
                  },
                  "images": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "default": [],
                    "description": "Class images"
                  },
                  "price": {
                    "type": "number",
                    "minimum": 0,
                    "description": "Class price"
                  },
                  "isFree": {
                    "type": "boolean",
                    "default": false,
                    "description": "Whether class is free"
                  },
                  "maxCapacity": {
                    "type": "integer",
                    "nullable": true,
                    "description": "Maximum class capacity (optional)"
                  },
                  "duration": {
                    "type": "integer",
                    "minimum": 15,
                    "maximum": 480,
                    "description": "Class duration in minutes"
                  },
                  "isRecurring": {
                    "type": "boolean",
                    "default": false,
                    "description": "Whether class is recurring"
                  },
                  "date": {
                    "type": "string",
                    "format": "date",
                    "description": "Class date (required for one-time classes)"
                  },
                  "startTime": {
                    "type": "string",
                    "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$",
                    "description": "Start time (HH:MM format)"
                  },
                  "endTime": {
                    "type": "string",
                    "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$",
                    "description": "End time (HH:MM format)"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive",
                      "cancelled"
                    ],
                    "default": "active",
                    "description": "Class status"
                  },
                  "recurrence": {
                    "type": "object",
                    "description": "Recurrence settings (required for recurring classes)",
                    "properties": {
                      "frequency": {
                        "type": "string",
                        "enum": [
                          "daily",
                          "weekly",
                          "monthly"
                        ],
                        "description": "Recurrence frequency"
                      },
                      "interval": {
                        "type": "integer",
                        "minimum": 1,
                        "description": "Recurrence interval"
                      },
                      "daysOfWeek": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Days of week for weekly recurrence"
                      },
                      "startDate": {
                        "type": "string",
                        "format": "date",
                        "description": "Recurrence start date"
                      },
                      "endDate": {
                        "type": "string",
                        "format": "date",
                        "description": "Recurrence end date"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Class created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Created class ID"
                    },
                    "name": {
                      "type": "string",
                      "description": "Class name"
                    },
                    "status": {
                      "type": "string",
                      "description": "Class status"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error or club not found"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/classes/batch-delete": {
      "delete": {
        "summary": "Delete multiple classes",
        "description": "Delete multiple classes and their associated bookings",
        "tags": [
          "Admin - Classes"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "classIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "Array of class IDs to delete"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Classes deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Classes deleted successfully"
                    },
                    "deletedCount": {
                      "type": "integer",
                      "description": "Number of classes deleted"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - invalid class IDs"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/classes/{id}": {
      "put": {
        "summary": "Update class",
        "description": "Update an existing class",
        "tags": [
          "Admin - Classes"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Class ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "clubId": {
                    "type": "integer",
                    "description": "Club ID"
                  },
                  "instructorId": {
                    "type": "integer",
                    "description": "Instructor ID"
                  },
                  "name": {
                    "type": "string",
                    "maxLength": 100,
                    "description": "Class name"
                  },
                  "description": {
                    "type": "string",
                    "description": "Class description"
                  },
                  "images": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Class images"
                  },
                  "price": {
                    "type": "number",
                    "minimum": 0,
                    "description": "Class price"
                  },
                  "isFree": {
                    "type": "boolean",
                    "description": "Whether class is free"
                  },
                  "maxCapacity": {
                    "type": "integer",
                    "nullable": true,
                    "description": "Maximum class capacity (optional)"
                  },
                  "duration": {
                    "type": "integer",
                    "minimum": 15,
                    "maximum": 480,
                    "description": "Class duration in minutes"
                  },
                  "isRecurring": {
                    "type": "boolean",
                    "description": "Whether class is recurring"
                  },
                  "date": {
                    "type": "string",
                    "format": "date",
                    "description": "Class date"
                  },
                  "startTime": {
                    "type": "string",
                    "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$",
                    "description": "Start time (HH:MM format)"
                  },
                  "endTime": {
                    "type": "string",
                    "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$",
                    "description": "End time (HH:MM format)"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive",
                      "cancelled"
                    ],
                    "description": "Class status"
                  },
                  "recurrence": {
                    "type": "object",
                    "description": "Recurrence settings",
                    "properties": {
                      "frequency": {
                        "type": "string",
                        "enum": [
                          "daily",
                          "weekly",
                          "monthly"
                        ],
                        "description": "Recurrence frequency"
                      },
                      "interval": {
                        "type": "integer",
                        "minimum": 1,
                        "description": "Recurrence interval"
                      },
                      "daysOfWeek": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Days of week for weekly recurrence"
                      },
                      "startDate": {
                        "type": "string",
                        "format": "date",
                        "description": "Recurrence start date"
                      },
                      "endDate": {
                        "type": "string",
                        "format": "date",
                        "description": "Recurrence end date"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Class updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Class ID"
                    },
                    "name": {
                      "type": "string",
                      "description": "Class name"
                    },
                    "status": {
                      "type": "string",
                      "description": "Class status"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error, club not found, or instructor not found"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Class not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete class",
        "description": "Delete a class",
        "tags": [
          "Admin - Classes"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Class ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Class deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Class deleted successfully"
                    },
                    "class": {
                      "type": "object",
                      "description": "Deleted class data"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Class not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/classes/{id}/checkins": {
      "get": {
        "summary": "Get class checkins",
        "description": "Retrieve checkins for a specific class",
        "tags": [
          "Admin - Classes"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Class ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Class checkins",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Checkin ID"
                      },
                      "checkinTime": {
                        "type": "string",
                        "format": "date-time",
                        "description": "Checkin time"
                      },
                      "checkoutTime": {
                        "type": "string",
                        "format": "date-time",
                        "description": "Checkout time"
                      },
                      "contacts": {
                        "type": "object",
                        "description": "Contact information",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "description": "Contact ID"
                          },
                          "name": {
                            "type": "string",
                            "description": "Contact name"
                          },
                          "email": {
                            "type": "string",
                            "description": "Contact email"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Create class checkin",
        "description": "Create a new checkin for a class",
        "tags": [
          "Admin - Classes"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Class ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "contactId",
                  "date"
                ],
                "properties": {
                  "contactId": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "Contact ID"
                  },
                  "date": {
                    "type": "string",
                    "format": "date",
                    "description": "Checkin date"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "checked_in",
                      "no_show",
                      "cancelled"
                    ],
                    "default": "checked_in",
                    "description": "Checkin status"
                  },
                  "notes": {
                    "type": "string",
                    "description": "Checkin notes"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Checkin created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Checkin ID"
                    },
                    "contactId": {
                      "type": "integer",
                      "description": "Contact ID"
                    },
                    "date": {
                      "type": "string",
                      "format": "date",
                      "description": "Checkin date"
                    },
                    "status": {
                      "type": "string",
                      "description": "Checkin status"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error, contact already checked in, or invalid contact ID"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Class not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/classes/checkins/{checkinId}": {
      "delete": {
        "summary": "Delete class checkin",
        "description": "Delete a class checkin",
        "tags": [
          "Admin - Classes"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "checkinId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Checkin ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Checkin deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Checkin deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Checkin not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/clubs": {
      "get": {
        "summary": "Get organization clubs",
        "description": "Retrieve all clubs for an organization",
        "tags": [
          "Admin - Clubs"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID (optional, uses user's organization if not provided)"
          }
        ],
        "responses": {
          "200": {
            "description": "List of clubs",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Club ID"
                      },
                      "name": {
                        "type": "string",
                        "description": "Club name"
                      },
                      "slug": {
                        "type": "string",
                        "description": "Club slug"
                      },
                      "description": {
                        "type": "string",
                        "description": "Club description"
                      },
                      "address": {
                        "type": "string",
                        "description": "Club address"
                      },
                      "city": {
                        "type": "string",
                        "description": "Club city"
                      },
                      "state": {
                        "type": "string",
                        "description": "Club state"
                      },
                      "country": {
                        "type": "string",
                        "description": "Club country"
                      },
                      "phone": {
                        "type": "string",
                        "description": "Club phone"
                      },
                      "email": {
                        "type": "string",
                        "description": "Club email"
                      },
                      "website": {
                        "type": "string",
                        "description": "Club website"
                      },
                      "isPublic": {
                        "type": "boolean",
                        "description": "Whether club is public"
                      },
                      "status": {
                        "type": "string",
                        "description": "Club status"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/cms/content": {
      "get": {
        "summary": "Get all content",
        "description": "Retrieve all CMS content for the organization with optional filters",
        "tags": [
          "CMS"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            },
            "description": "Filter by content status"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string"
            },
            "description": "Filter by content type"
          },
          {
            "in": "query",
            "name": "visibility",
            "schema": {
              "type": "string"
            },
            "description": "Filter by visibility"
          }
        ],
        "responses": {
          "200": {
            "description": "List of content items"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Create content",
        "description": "Create a new CMS content item",
        "tags": [
          "CMS"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Created content item"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/cms/content/{id}": {
      "get": {
        "summary": "Get content by ID",
        "description": "Retrieve a specific CMS content item",
        "tags": [
          "CMS"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Content ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Content item"
          },
          "404": {
            "description": "Content not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "put": {
        "summary": "Update content",
        "description": "Update an existing CMS content item",
        "tags": [
          "CMS"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Content ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated content item"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete content",
        "description": "Delete a CMS content item",
        "tags": [
          "CMS"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Content ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Content deleted"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/cms/media": {
      "get": {
        "summary": "List media",
        "description": "List CMS media for the organization with optional filters and pagination",
        "tags": [
          "CMS"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "mediaType",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "skip",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "take",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of media with total count"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Create media",
        "description": "Create a new CMS media record (upload to Cloudinary is done client-side)",
        "tags": [
          "CMS"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "url",
                  "name"
                ],
                "properties": {
                  "url": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "cloudinaryPublicId": {
                    "type": "string"
                  },
                  "altText": {
                    "type": "string"
                  },
                  "caption": {
                    "type": "string"
                  },
                  "mediaType": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Created media"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/cms/media/{id}": {
      "get": {
        "summary": "Get media by ID",
        "tags": [
          "CMS"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Media"
          },
          "404": {
            "description": "Not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "put": {
        "summary": "Update media metadata",
        "tags": [
          "CMS"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "altText": {
                    "type": "string"
                  },
                  "caption": {
                    "type": "string"
                  },
                  "mediaType": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated media"
          },
          "404": {
            "description": "Not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete media",
        "description": "Deletes the media record and the file from Cloudinary if cloudinaryPublicId is set",
        "tags": [
          "CMS"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Media deleted"
          },
          "404": {
            "description": "Not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/cms/site": {
      "get": {
        "summary": "Get CMS site by domain",
        "description": "Retrieve CMS site by domain (full hostname, e.g. www.myclub.com or acme.website.1club.ai)",
        "tags": [
          "CMS - Public"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "CMS site with branding"
          },
          "404": {
            "description": "Site not found"
          },
          "500": {
            "description": "Failed to fetch site"
          }
        },
        "parameters": [
          {
            "in": "query",
            "name": "domain",
            "schema": {
              "type": "string"
            },
            "description": "Domain (full hostname)"
          }
        ]
      },
      "post": {
        "summary": "Create CMS site",
        "description": "Create a new CMS site for the organization",
        "tags": [
          "CMS"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "domain": {
                    "type": "string"
                  },
                  "settings": {
                    "type": "object"
                  },
                  "seoSettings": {
                    "type": "object"
                  },
                  "analyticsSettings": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Created site"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "put": {
        "summary": "Update CMS site",
        "description": "Update the CMS site settings",
        "tags": [
          "CMS"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated site"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete CMS site",
        "description": "Delete the organization's CMS site",
        "tags": [
          "CMS"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "204": {
            "description": "Site deleted"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/cms/site/translate": {
      "post": {
        "summary": "Translate site translations",
        "description": "Use AI to translate missing keys from source locale to target locales. Returns updated translations; does not persist.",
        "tags": [
          "CMS"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "sourceLocale",
                  "targetLocales"
                ],
                "properties": {
                  "sourceLocale": {
                    "type": "string"
                  },
                  "targetLocales": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated translations (merge with site and PUT to save)"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/cms/site/test/url": {
      "get": {
        "summary": "Generate test URL",
        "description": "Generate a test URL for previewing a CMS page",
        "tags": [
          "CMS"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "pageSlug",
            "schema": {
              "type": "string"
            },
            "description": "Page slug to generate test URL for"
          }
        ],
        "responses": {
          "200": {
            "description": "Test URL",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "testUrl": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Site not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/cms/site/test/validate": {
      "get": {
        "summary": "Validate site configuration",
        "description": "Validate the CMS site configuration for completeness and correctness",
        "tags": [
          "CMS"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Validation results"
          },
          "404": {
            "description": "Site not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/cms/site/stats": {
      "get": {
        "summary": "Get site stats",
        "description": "Retrieve statistics for the CMS site (page count, media count, etc.)",
        "tags": [
          "CMS"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Site statistics"
          },
          "404": {
            "description": "Site not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/contact-custom-fields": {
      "get": {
        "summary": "List contact custom fields",
        "description": "Retrieve all custom fields for an organization with optional filtering by contact type",
        "tags": [
          "Admin - Contact Custom Fields"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "contactType",
            "schema": {
              "type": "string",
              "enum": [
                "member",
                "staff",
                "lead",
                "contact",
                "all"
              ]
            },
            "description": "Filter by contact type"
          }
        ],
        "responses": {
          "200": {
            "description": "List of custom fields"
          },
          "500": {
            "description": "Failed to fetch custom fields"
          }
        }
      },
      "post": {
        "summary": "Create contact custom field",
        "description": "Create a new custom field for contacts",
        "tags": [
          "Admin - Contact Custom Fields"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "contactType",
                  "name",
                  "type"
                ],
                "properties": {
                  "contactType": {
                    "type": "string",
                    "enum": [
                      "member",
                      "staff",
                      "lead",
                      "contact",
                      "all"
                    ]
                  },
                  "name": {
                    "type": "string"
                  },
                  "label": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string"
                  },
                  "required": {
                    "type": "boolean"
                  },
                  "placeholder": {
                    "type": "string"
                  },
                  "defaultValue": {
                    "type": "string"
                  },
                  "options": {
                    "type": "array"
                  },
                  "validation": {
                    "type": "object"
                  },
                  "sortOrder": {
                    "type": "integer"
                  },
                  "isActive": {
                    "type": "boolean"
                  },
                  "visibility": {
                    "type": "string",
                    "enum": [
                      "Private",
                      "Member_only",
                      "Public"
                    ]
                  },
                  "requireOnSignup": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Custom field created"
          },
          "400": {
            "description": "Validation error"
          },
          "500": {
            "description": "Failed to create custom field"
          }
        }
      }
    },
    "/v1/contact-custom-fields/{id}": {
      "get": {
        "summary": "Get contact custom field by ID",
        "description": "Retrieve a specific custom field",
        "tags": [
          "Admin - Contact Custom Fields"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Custom field ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Custom field details"
          },
          "404": {
            "description": "Custom field not found"
          },
          "500": {
            "description": "Failed to fetch custom field"
          }
        }
      },
      "patch": {
        "summary": "Update contact custom field",
        "description": "Update a custom field",
        "tags": [
          "Admin - Contact Custom Fields"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Custom field ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "contactType": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "label": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string"
                  },
                  "required": {
                    "type": "boolean"
                  },
                  "placeholder": {
                    "type": "string"
                  },
                  "defaultValue": {
                    "type": "string"
                  },
                  "options": {
                    "type": "array"
                  },
                  "validation": {
                    "type": "object"
                  },
                  "sortOrder": {
                    "type": "integer"
                  },
                  "isActive": {
                    "type": "boolean"
                  },
                  "visibility": {
                    "type": "string"
                  },
                  "requireOnSignup": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Custom field updated"
          },
          "400": {
            "description": "Validation error"
          },
          "404": {
            "description": "Custom field not found"
          },
          "500": {
            "description": "Failed to update custom field"
          }
        }
      },
      "delete": {
        "summary": "Delete contact custom field",
        "description": "Delete a custom field",
        "tags": [
          "Admin - Contact Custom Fields"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Custom field ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Custom field deleted successfully"
          },
          "404": {
            "description": "Custom field not found"
          },
          "500": {
            "description": "Failed to delete custom field"
          }
        }
      }
    },
    "/v1/contact-custom-fields/contact/{contactId}/values": {
      "get": {
        "summary": "Get contact custom field values",
        "description": "Retrieve custom field values for a specific contact",
        "tags": [
          "Admin - Contact Custom Fields"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "contactId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Custom field values for the contact"
          },
          "500": {
            "description": "Failed to fetch custom field values"
          }
        }
      },
      "post": {
        "summary": "Set contact custom field values",
        "description": "Set or update custom field values for a contact",
        "tags": [
          "Admin - Contact Custom Fields"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "contactId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "fieldValues"
                ],
                "properties": {
                  "fieldValues": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Custom field values updated"
          },
          "400": {
            "description": "fieldValues must be an array"
          },
          "500": {
            "description": "Failed to set custom field values"
          }
        }
      }
    },
    "/v1/contact-custom-fields/validate": {
      "post": {
        "summary": "Validate contact custom field values",
        "description": "Validate custom field values against defined rules",
        "tags": [
          "Admin - Contact Custom Fields"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "contactType",
                  "fieldValues"
                ],
                "properties": {
                  "contactType": {
                    "type": "string",
                    "enum": [
                      "member",
                      "staff",
                      "lead",
                      "contact",
                      "all"
                    ]
                  },
                  "fieldValues": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Validation result",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "valid": {
                      "type": "boolean"
                    },
                    "errors": {
                      "type": "array"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "contactType and fieldValues are required"
          },
          "500": {
            "description": "Failed to validate custom field values"
          }
        }
      }
    },
    "/v1/contact-facts/:contactId": {
      "get": {
        "summary": "Get all facts for a contact",
        "description": "Retrieve immutable facts (tag changes, engagement scores, type changes) for a specific contact",
        "tags": [
          "Admin - Contact Facts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "contactId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          },
          {
            "in": "query",
            "name": "factType",
            "schema": {
              "type": "string",
              "enum": [
                "tag_added",
                "tag_removed",
                "engagement_score_changed",
                "type_changed"
              ]
            },
            "description": "Filter by fact type"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 100
            },
            "description": "Maximum number of facts to return"
          },
          {
            "in": "query",
            "name": "offset",
            "schema": {
              "type": "integer",
              "default": 0
            },
            "description": "Number of facts to skip"
          },
          {
            "in": "query",
            "name": "orderBy",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "desc"
            },
            "description": "Sort order by creation date"
          }
        ],
        "responses": {
          "200": {
            "description": "List of facts for the contact",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "contactId": {
                        "type": "integer"
                      },
                      "organizationId": {
                        "type": "integer"
                      },
                      "factType": {
                        "type": "string"
                      },
                      "oldValue": {
                        "type": "object"
                      },
                      "newValue": {
                        "type": "object"
                      },
                      "metadata": {
                        "type": "object"
                      },
                      "createdAt": {
                        "type": "string",
                        "format": "date-time"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Contact not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/contact-facts": {
      "get": {
        "summary": "Query facts with filters",
        "description": "Query facts across contacts with various filters (organization, contact, type, date range)",
        "tags": [
          "Admin - Contact Facts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "contactId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by contact ID"
          },
          {
            "in": "query",
            "name": "factType",
            "schema": {
              "type": "string",
              "enum": [
                "tag_added",
                "tag_removed",
                "engagement_score_changed",
                "type_changed"
              ]
            },
            "description": "Filter by fact type"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Filter facts created after this date"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Filter facts created before this date"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 100
            },
            "description": "Maximum number of facts to return"
          },
          {
            "in": "query",
            "name": "offset",
            "schema": {
              "type": "integer",
              "default": 0
            },
            "description": "Number of facts to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "List of facts matching the filters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "contactId": {
                        "type": "integer"
                      },
                      "organizationId": {
                        "type": "integer"
                      },
                      "factType": {
                        "type": "string"
                      },
                      "oldValue": {
                        "type": "object"
                      },
                      "newValue": {
                        "type": "object"
                      },
                      "metadata": {
                        "type": "object"
                      },
                      "createdAt": {
                        "type": "string",
                        "format": "date-time"
                      },
                      "contact": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "name": {
                            "type": "string"
                          },
                          "email": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/contacts": {
      "get": {
        "summary": "Get organization contacts",
        "description": "Retrieve all contacts for an organization with optional filtering and data inclusion",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID (optional, uses user's organization if not provided)"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "Search term to filter contacts"
          },
          {
            "in": "query",
            "name": "withMemberships",
            "schema": {
              "type": "boolean"
            },
            "description": "Include active memberships data"
          },
          {
            "in": "query",
            "name": "withRecentBookings",
            "schema": {
              "type": "boolean"
            },
            "description": "Include recent bookings data"
          },
          {
            "in": "query",
            "name": "days",
            "schema": {
              "type": "integer",
              "default": 30
            },
            "description": "Number of days for recent bookings (when withRecentBookings is true)"
          }
        ],
        "responses": {
          "200": {
            "description": "List of contacts",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Contact ID"
                      },
                      "name": {
                        "type": "string",
                        "description": "Contact name"
                      },
                      "email": {
                        "type": "string",
                        "description": "Contact email"
                      },
                      "phone": {
                        "type": "string",
                        "description": "Contact phone number"
                      },
                      "status": {
                        "type": "string",
                        "description": "Contact status"
                      },
                      "memberships": {
                        "type": "array",
                        "items": {
                          "type": "object"
                        },
                        "description": "Active memberships (when withMemberships is true)"
                      },
                      "recentBookings": {
                        "type": "array",
                        "items": {
                          "type": "object"
                        },
                        "description": "Recent bookings (when withRecentBookings is true)"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Create new contact",
        "description": "Create a new contact for the organization",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Contact name (required)"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Contact email address"
                  },
                  "phone": {
                    "type": "string",
                    "description": "Contact phone number"
                  },
                  "address": {
                    "type": "string",
                    "description": "Contact address"
                  },
                  "city": {
                    "type": "string",
                    "description": "Contact city"
                  },
                  "state": {
                    "type": "string",
                    "description": "Contact state"
                  },
                  "postalCode": {
                    "type": "string",
                    "description": "Contact postal code"
                  },
                  "country": {
                    "type": "string",
                    "description": "Contact country"
                  },
                  "dateOfBirth": {
                    "type": "string",
                    "format": "date",
                    "description": "Contact date of birth"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Contact tags"
                  },
                  "customFields": {
                    "type": "object",
                    "description": "Custom fields data"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Contact created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Created contact ID"
                    },
                    "name": {
                      "type": "string",
                      "description": "Contact name"
                    },
                    "email": {
                      "type": "string",
                      "description": "Contact email"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error or duplicate email"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/contacts/{id}/stats": {
      "get": {
        "summary": "Get contact statistics",
        "description": "Get counts for various contact-related entities for tab badges",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Contact statistics"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Contact not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/contacts/tags": {
      "get": {
        "summary": "Get all contact tags",
        "description": "Retrieve list of unique tags used for contacts in the organization",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of tags"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Failed to fetch tags"
          }
        }
      }
    },
    "/v1/contacts/archive": {
      "get": {
        "summary": "Get archived contacts",
        "description": "Retrieve all archived contacts for an organization (simple contact data only)",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of archived contacts",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "name": {
                        "type": "string"
                      },
                      "email": {
                        "type": "string"
                      },
                      "phone": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "createdAt": {
                        "type": "string"
                      },
                      "updatedAt": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/contacts/{id}": {
      "get": {
        "summary": "Get contact by ID",
        "description": "Retrieve a single contact with all related data including bookings, memberships, and statistics",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Contact details with all related data",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Contact ID"
                    },
                    "name": {
                      "type": "string",
                      "description": "Contact name"
                    },
                    "email": {
                      "type": "string",
                      "description": "Contact email"
                    },
                    "phone": {
                      "type": "string",
                      "description": "Contact phone number"
                    },
                    "address": {
                      "type": "string",
                      "description": "Contact address"
                    },
                    "city": {
                      "type": "string",
                      "description": "Contact city"
                    },
                    "state": {
                      "type": "string",
                      "description": "Contact state"
                    },
                    "country": {
                      "type": "string",
                      "description": "Contact country"
                    },
                    "bookings": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      },
                      "description": "All bookings for this contact"
                    },
                    "memberships": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      },
                      "description": "All memberships for this contact"
                    },
                    "stats": {
                      "type": "object",
                      "properties": {
                        "bookingCount": {
                          "type": "integer",
                          "description": "Total number of bookings"
                        },
                        "totalSpent": {
                          "type": "number",
                          "description": "Total amount spent"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Contact not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "patch": {
        "summary": "Update contact",
        "description": "Update an existing contact's information",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Contact name"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Contact email"
                  },
                  "phone": {
                    "type": "string",
                    "description": "Contact phone number"
                  },
                  "address": {
                    "type": "string",
                    "description": "Contact address"
                  },
                  "city": {
                    "type": "string",
                    "description": "Contact city"
                  },
                  "state": {
                    "type": "string",
                    "description": "Contact state"
                  },
                  "country": {
                    "type": "string",
                    "description": "Contact country"
                  },
                  "dateOfBirth": {
                    "type": "string",
                    "format": "date",
                    "description": "Contact date of birth"
                  },
                  "contactType": {
                    "type": "string",
                    "enum": [
                      "contact",
                      "member",
                      "lead"
                    ],
                    "description": "Contact type"
                  },
                  "customFields": {
                    "type": "object",
                    "description": "Custom field values"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Contact updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Contact ID"
                    },
                    "name": {
                      "type": "string",
                      "description": "Contact name"
                    },
                    "email": {
                      "type": "string",
                      "description": "Contact email"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error, email already exists, or user not found"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Contact not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete contact",
        "description": "Delete a contact (archives if has transactions)",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Contact archived successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Contact archived successfully"
                    },
                    "contact": {
                      "type": "object",
                      "description": "Archived contact data"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/contacts/available-for-checkin": {
      "get": {
        "summary": "Get contacts available for check-in",
        "description": "Get list of contacts available for check-in on a specific date",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "date",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Check-in date"
          }
        ],
        "responses": {
          "200": {
            "description": "List of available contacts"
          },
          "400": {
            "description": "Invalid or missing date parameter"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Failed to fetch available contacts"
          }
        }
      }
    },
    "/v1/contacts/{id}/update-type": {
      "post": {
        "summary": "Update contact type",
        "description": "Manually update the contact type based on their relationships and activities",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Contact type updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "contact": {
                      "type": "object",
                      "description": "Updated contact data"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/contacts/{id}/delete-info": {
      "get": {
        "summary": "Get delete operation info for a contact",
        "description": "Check if a contact will be archived or deleted when delete is called",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Delete operation info",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "willArchive": {
                      "type": "boolean",
                      "description": "Whether the contact will be archived (true) or deleted (false)"
                    },
                    "hasTransactions": {
                      "type": "boolean",
                      "description": "Whether the contact has transactions"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Contact not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/contacts/search": {
      "get": {
        "summary": "Search contacts",
        "description": "Search contacts by query string",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "q",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Search query"
          },
          {
            "in": "query",
            "name": "organizationId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Search results",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Contact ID"
                      },
                      "name": {
                        "type": "string",
                        "description": "Contact name"
                      },
                      "email": {
                        "type": "string",
                        "description": "Contact email"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing search query or organization ID"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/contacts/with-memberships/{organizationId}": {
      "get": {
        "summary": "Get contacts with active memberships",
        "description": "Retrieve contacts that have active memberships",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "organizationId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Contacts with active memberships",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Contact ID"
                      },
                      "name": {
                        "type": "string",
                        "description": "Contact name"
                      },
                      "memberships": {
                        "type": "array",
                        "description": "Active memberships"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/contacts/with-recent-bookings/{organizationId}": {
      "get": {
        "summary": "Get contacts with recent bookings",
        "description": "Retrieve contacts that have recent bookings",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "organizationId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID"
          },
          {
            "in": "query",
            "name": "days",
            "schema": {
              "type": "integer",
              "default": 30
            },
            "description": "Number of days to look back for recent bookings"
          }
        ],
        "responses": {
          "200": {
            "description": "Contacts with recent bookings",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Contact ID"
                      },
                      "name": {
                        "type": "string",
                        "description": "Contact name"
                      },
                      "recentBookings": {
                        "type": "array",
                        "description": "Recent bookings"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/contacts/{id}/stripe": {
      "patch": {
        "summary": "Update Stripe contact ID",
        "description": "Update the Stripe contact ID for a contact using the integration service",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "stripeContactId"
                ],
                "properties": {
                  "stripeContactId": {
                    "type": "string",
                    "description": "Stripe contact ID"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Stripe contact ID updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Contact ID"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Stripe contact ID is required"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/contacts/{id}/checkins": {
      "get": {
        "summary": "Get contact checkins",
        "description": "Retrieve checkins for a specific contact",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Contact checkins",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Checkin ID"
                      },
                      "checkinTime": {
                        "type": "string",
                        "format": "date-time",
                        "description": "Checkin time"
                      },
                      "checkoutTime": {
                        "type": "string",
                        "format": "date-time",
                        "description": "Checkout time"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/contacts/{id}/notes": {
      "get": {
        "summary": "Get contact notes",
        "description": "Retrieve notes for a specific contact",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Contact notes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Note ID"
                      },
                      "note": {
                        "type": "string",
                        "description": "Note content"
                      },
                      "noteDate": {
                        "type": "string",
                        "format": "date-time",
                        "description": "Note date"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Add contact note",
        "description": "Add a new note to a contact",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "note"
                ],
                "properties": {
                  "note": {
                    "type": "string",
                    "description": "Note content"
                  },
                  "noteDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Note date (optional, defaults to current date)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Note added successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Note ID"
                    },
                    "note": {
                      "type": "string",
                      "description": "Note content"
                    },
                    "noteDate": {
                      "type": "string",
                      "format": "date-time",
                      "description": "Note date"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Note content is required"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/contacts/{id}/notes/{noteId}": {
      "put": {
        "summary": "Update contact note",
        "description": "Update an existing note for a contact",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          },
          {
            "in": "path",
            "name": "noteId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Note ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "note"
                ],
                "properties": {
                  "note": {
                    "type": "string",
                    "description": "Updated note content"
                  },
                  "noteDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Updated note date (optional, defaults to current date)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Note updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Note ID"
                    },
                    "note": {
                      "type": "string",
                      "description": "Updated note content"
                    },
                    "noteDate": {
                      "type": "string",
                      "format": "date-time",
                      "description": "Updated note date"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Note content is required"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete contact note",
        "description": "Delete a note from a contact",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          },
          {
            "in": "path",
            "name": "noteId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Note ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Note deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Note deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/contacts/{id}/invite": {
      "post": {
        "summary": "Send member invitation",
        "description": "Send an invitation to a contact to create a user account",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Invitation sent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Invitation sent successfully"
                    },
                    "user": {
                      "type": "object",
                      "description": "Created user record"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - contact already has user or missing email"
          },
          "404": {
            "description": "Contact not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/contacts/{id}/resend-invitation": {
      "post": {
        "summary": "Resend invitation to contact",
        "description": "Resend invitation email to a contact who hasn't accepted yet",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Invitation resent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Invitation resent successfully"
                    },
                    "user": {
                      "type": "object",
                      "description": "User record with updated invitation data"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - contact not found or no pending invitation"
          },
          "404": {
            "description": "Contact not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/contacts/{id}/stripe-customer/sync": {
      "post": {
        "summary": "Sync contact information with Stripe customer",
        "description": "Update Stripe customer with current contact information",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Contact synced successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "Success message"
                    },
                    "customerId": {
                      "type": "string",
                      "description": "Stripe customer ID"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Contact not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/contacts/{contactId}/household": {
      "get": {
        "summary": "Get contact household",
        "description": "Retrieve household information and members for a contact",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "contactId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Household information with members"
          },
          "400": {
            "description": "Missing organization ID"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Contact not found"
          },
          "500": {
            "description": "Failed to fetch household"
          }
        }
      }
    },
    "/v1/contacts/{contactId}/family-member": {
      "post": {
        "summary": "Add family member to contact",
        "description": "Add a family member to a contact's household",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "contactId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "role"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  },
                  "phone": {
                    "type": "string"
                  },
                  "dateOfBirth": {
                    "type": "string",
                    "format": "date"
                  },
                  "role": {
                    "type": "string",
                    "enum": [
                      "owner",
                      "spouse",
                      "dependent",
                      "parent"
                    ]
                  },
                  "clubId": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Family member added successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Contact not found"
          },
          "500": {
            "description": "Failed to add family member"
          }
        }
      }
    },
    "/v1/contacts/{contactId}/household/members/{userId}": {
      "put": {
        "summary": "Update household member",
        "description": "Update information for a household member",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "contactId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          },
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "User ID of household member"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  },
                  "phone": {
                    "type": "string"
                  },
                  "dateOfBirth": {
                    "type": "string",
                    "format": "date"
                  },
                  "role": {
                    "type": "string",
                    "enum": [
                      "owner",
                      "spouse",
                      "dependent",
                      "parent"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Household member updated successfully"
          },
          "400": {
            "description": "Invalid IDs or validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Contact or member not found"
          },
          "500": {
            "description": "Failed to update household member"
          }
        }
      },
      "delete": {
        "summary": "Remove household member",
        "description": "Remove a user from a contact's household",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "contactId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          },
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "User ID to remove"
          }
        ],
        "responses": {
          "200": {
            "description": "Household member removed successfully"
          },
          "400": {
            "description": "Invalid IDs"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Contact or member not found"
          },
          "500": {
            "description": "Failed to remove household member"
          }
        }
      }
    },
    "/v1/contacts/{id}/required-documents": {
      "get": {
        "summary": "Get required documents for contact",
        "description": "Get list of required documents for a contact based on document rules",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "responses": {
          "200": {
            "description": "List of required documents"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Contact does not belong to organization"
          },
          "404": {
            "description": "Contact not found"
          },
          "500": {
            "description": "Failed to fetch required documents"
          }
        }
      }
    },
    "/v1/contacts/{id}/set-pin": {
      "post": {
        "summary": "Set contact PIN",
        "description": "Set or update PIN (Personal Identification Number) for a contact",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "pin"
                ],
                "properties": {
                  "pin": {
                    "type": "string",
                    "description": "4-digit PIN"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "PIN set successfully"
          },
          "400": {
            "description": "Invalid PIN format"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Contact not found"
          },
          "500": {
            "description": "Failed to set PIN"
          }
        }
      }
    },
    "/v1/contacts/{id}/reset-pin": {
      "delete": {
        "summary": "Reset contact PIN",
        "description": "Remove/reset PIN for a contact",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "responses": {
          "200": {
            "description": "PIN reset successfully"
          },
          "400": {
            "description": "Invalid contact ID"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Contact does not belong to organization"
          },
          "404": {
            "description": "Contact not found"
          },
          "500": {
            "description": "Failed to reset PIN"
          }
        }
      }
    },
    "/v1/contacts/{id}/pin-status": {
      "get": {
        "summary": "Get contact PIN status",
        "description": "Check if a contact has a PIN set and get PIN details",
        "tags": [
          "Admin - Contacts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "responses": {
          "200": {
            "description": "PIN status"
          },
          "400": {
            "description": "Invalid contact ID"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Contact does not belong to organization"
          },
          "404": {
            "description": "Contact not found"
          },
          "500": {
            "description": "Failed to get PIN status"
          }
        }
      }
    },
    "/v1/dashboard/overview": {
      "get": {
        "summary": "Get dashboard overview",
        "description": "Retrieve overview statistics for the dashboard",
        "tags": [
          "Admin - Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Start date for statistics (optional)"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "End date for statistics (optional)"
          }
        ],
        "responses": {
          "200": {
            "description": "Dashboard overview statistics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "totalRevenue": {
                      "type": "number",
                      "description": "Total revenue"
                    },
                    "totalBookings": {
                      "type": "integer",
                      "description": "Total number of bookings"
                    },
                    "totalMembers": {
                      "type": "integer",
                      "description": "Total number of members"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing organization ID"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/dashboard/revenue": {
      "get": {
        "summary": "Get revenue statistics",
        "description": "Retrieve revenue statistics for the dashboard",
        "tags": [
          "Admin - Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Start date for statistics (optional)"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "End date for statistics (optional)"
          }
        ],
        "responses": {
          "200": {
            "description": "Revenue statistics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "totalRevenue": {
                      "type": "number",
                      "description": "Total revenue"
                    },
                    "monthlyRevenue": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "month": {
                            "type": "string"
                          },
                          "revenue": {
                            "type": "number"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing organization ID"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/dashboard/bookings": {
      "get": {
        "summary": "Get booking statistics",
        "description": "Retrieve booking statistics for the dashboard",
        "tags": [
          "Admin - Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Start date for statistics (optional)"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "End date for statistics (optional)"
          }
        ],
        "responses": {
          "200": {
            "description": "Booking statistics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "totalBookings": {
                      "type": "integer",
                      "description": "Total number of bookings"
                    },
                    "completedBookings": {
                      "type": "integer",
                      "description": "Number of completed bookings"
                    },
                    "cancelledBookings": {
                      "type": "integer",
                      "description": "Number of cancelled bookings"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing organization ID"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/dashboard/contacts": {
      "get": {
        "summary": "Get contact statistics",
        "description": "Retrieve contact statistics for the dashboard. Organization ID is automatically extracted from JWT token.",
        "tags": [
          "Admin - Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Contact statistics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "totalContacts": {
                      "type": "integer",
                      "description": "Total number of contacts"
                    },
                    "activeContacts": {
                      "type": "integer",
                      "description": "Number of active contacts"
                    },
                    "newContactsThisMonth": {
                      "type": "integer",
                      "description": "Number of new contacts this month"
                    },
                    "averageEngagementScore": {
                      "type": "number",
                      "description": "Average engagement score across all contacts"
                    },
                    "averageEngagementLevel": {
                      "type": "string",
                      "enum": [
                        "low",
                        "medium",
                        "high",
                        "rockstar"
                      ],
                      "description": "Average engagement level based on engagement scores"
                    },
                    "totalEngagementScores": {
                      "type": "integer",
                      "description": "Total number of engagement scores calculated"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Organization ID not found in JWT token"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/analytics/members/balance-report": {
      "get": {
        "summary": "Get member account balance report",
        "description": "Returns a list of all members with pending transactions and their account balances",
        "tags": [
          "Admin - Analytics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "clubId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by club ID (optional)"
          }
        ],
        "responses": {
          "200": {
            "description": "Balance report data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/deal-custom-fields": {
      "get": {
        "summary": "List deal custom fields",
        "description": "Retrieve all deal custom fields for the organization",
        "tags": [
          "Admin - Deal Custom Fields"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of deal custom fields"
          },
          "500": {
            "description": "Failed to fetch deal custom fields"
          }
        }
      },
      "post": {
        "summary": "Create a deal custom field",
        "description": "Create a new deal custom field for the organization",
        "tags": [
          "Admin - Deal Custom Fields"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "label",
                  "type"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "label": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string"
                  },
                  "required": {
                    "type": "boolean"
                  },
                  "placeholder": {
                    "type": "string"
                  },
                  "defaultValue": {
                    "type": "string"
                  },
                  "options": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "validation": {
                    "type": "object"
                  },
                  "sortOrder": {
                    "type": "integer"
                  },
                  "isActive": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Deal custom field created successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "500": {
            "description": "Failed to create deal custom field"
          }
        }
      }
    },
    "/v1/deal-custom-fields/{id}": {
      "get": {
        "summary": "Get deal custom field by ID",
        "description": "Retrieve a specific deal custom field by its ID",
        "tags": [
          "Admin - Deal Custom Fields"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Deal custom field ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Deal custom field details"
          },
          "400": {
            "description": "Invalid field ID"
          },
          "404": {
            "description": "Deal custom field not found"
          },
          "500": {
            "description": "Failed to fetch deal custom field"
          }
        }
      },
      "patch": {
        "summary": "Update a deal custom field",
        "description": "Update an existing deal custom field by its ID",
        "tags": [
          "Admin - Deal Custom Fields"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Deal custom field ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "label": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string"
                  },
                  "required": {
                    "type": "boolean"
                  },
                  "placeholder": {
                    "type": "string"
                  },
                  "defaultValue": {
                    "type": "string"
                  },
                  "options": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "validation": {
                    "type": "object"
                  },
                  "sortOrder": {
                    "type": "integer"
                  },
                  "isActive": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Deal custom field updated successfully"
          },
          "400": {
            "description": "Invalid field ID or validation error"
          },
          "500": {
            "description": "Failed to update deal custom field"
          }
        }
      },
      "delete": {
        "summary": "Delete a deal custom field",
        "description": "Delete a deal custom field by its ID",
        "tags": [
          "Admin - Deal Custom Fields"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Deal custom field ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Deal custom field deleted successfully"
          },
          "400": {
            "description": "Invalid field ID"
          },
          "500": {
            "description": "Failed to delete deal custom field"
          }
        }
      }
    },
    "/v1/deal-sources": {
      "get": {
        "summary": "List deal sources",
        "description": "Retrieve all deal sources for the organization",
        "tags": [
          "Admin - Deal Sources"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of deal sources"
          },
          "500": {
            "description": "Failed to fetch deal sources"
          }
        }
      },
      "post": {
        "summary": "Create a deal source",
        "description": "Create a new deal source for the organization",
        "tags": [
          "Admin - Deal Sources"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "color": {
                    "type": "string"
                  },
                  "sortOrder": {
                    "type": "integer"
                  },
                  "isDefault": {
                    "type": "boolean"
                  },
                  "isActive": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Deal source created successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "500": {
            "description": "Failed to create deal source"
          }
        }
      }
    },
    "/v1/deal-sources/{id}": {
      "get": {
        "summary": "Get deal source by ID",
        "description": "Retrieve a specific deal source by its ID",
        "tags": [
          "Admin - Deal Sources"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Deal source ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Deal source details"
          },
          "400": {
            "description": "Invalid source ID"
          },
          "404": {
            "description": "Deal source not found"
          },
          "500": {
            "description": "Failed to fetch deal source"
          }
        }
      },
      "patch": {
        "summary": "Update a deal source",
        "description": "Update an existing deal source by its ID",
        "tags": [
          "Admin - Deal Sources"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Deal source ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "color": {
                    "type": "string"
                  },
                  "sortOrder": {
                    "type": "integer"
                  },
                  "isDefault": {
                    "type": "boolean"
                  },
                  "isActive": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Deal source updated successfully"
          },
          "400": {
            "description": "Invalid source ID or validation error"
          },
          "500": {
            "description": "Failed to update deal source"
          }
        }
      },
      "delete": {
        "summary": "Delete a deal source",
        "description": "Delete a deal source by its ID",
        "tags": [
          "Admin - Deal Sources"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Deal source ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Deal source deleted successfully"
          },
          "400": {
            "description": "Invalid source ID"
          },
          "500": {
            "description": "Failed to delete deal source"
          }
        }
      }
    },
    "/v1/deal-sources/reset-to-default": {
      "post": {
        "summary": "Reset deal sources to defaults",
        "description": "Reset deal sources to the default set for the organization",
        "tags": [
          "Admin - Deal Sources"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Default deal sources added successfully"
          },
          "500": {
            "description": "Failed to reset deal sources"
          }
        }
      }
    },
    "/v1/deal-stages": {
      "get": {
        "summary": "List deal stages",
        "description": "Retrieve all deal stages for the organization",
        "tags": [
          "Admin - Deal Stages"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of deal stages"
          },
          "500": {
            "description": "Failed to fetch deal stages"
          }
        }
      },
      "post": {
        "summary": "Create a deal stage",
        "description": "Create a new deal stage for the organization",
        "tags": [
          "Admin - Deal Stages"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "color": {
                    "type": "string"
                  },
                  "sortOrder": {
                    "type": "integer"
                  },
                  "isDefault": {
                    "type": "boolean"
                  },
                  "isActive": {
                    "type": "boolean"
                  },
                  "stageType": {
                    "type": "string",
                    "enum": [
                      "open",
                      "won",
                      "lost"
                    ]
                  },
                  "defaultProbability": {
                    "type": "number"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Deal stage created successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "500": {
            "description": "Failed to create deal stage"
          }
        }
      }
    },
    "/v1/deal-stages/{id}": {
      "get": {
        "summary": "Get deal stage by ID",
        "description": "Retrieve a specific deal stage by its ID",
        "tags": [
          "Admin - Deal Stages"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Deal stage ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Deal stage details"
          },
          "400": {
            "description": "Invalid stage ID"
          },
          "404": {
            "description": "Deal stage not found"
          },
          "500": {
            "description": "Failed to fetch deal stage"
          }
        }
      },
      "patch": {
        "summary": "Update a deal stage",
        "description": "Update an existing deal stage by its ID",
        "tags": [
          "Admin - Deal Stages"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Deal stage ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "color": {
                    "type": "string"
                  },
                  "sortOrder": {
                    "type": "integer"
                  },
                  "isDefault": {
                    "type": "boolean"
                  },
                  "isActive": {
                    "type": "boolean"
                  },
                  "stageType": {
                    "type": "string",
                    "enum": [
                      "open",
                      "won",
                      "lost"
                    ]
                  },
                  "defaultProbability": {
                    "type": "number"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Deal stage updated successfully"
          },
          "400": {
            "description": "Invalid stage ID or validation error"
          },
          "500": {
            "description": "Failed to update deal stage"
          }
        }
      },
      "delete": {
        "summary": "Delete a deal stage",
        "description": "Delete a deal stage by its ID",
        "tags": [
          "Admin - Deal Stages"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Deal stage ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Deal stage deleted successfully"
          },
          "400": {
            "description": "Invalid stage ID or cannot delete stage"
          },
          "500": {
            "description": "Failed to delete deal stage"
          }
        }
      }
    },
    "/v1/deal-stages/reorder": {
      "post": {
        "summary": "Reorder deal stages",
        "description": "Reorder deal stages by providing an ordered array of stage IDs",
        "tags": [
          "Admin - Deal Stages"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "stageIds"
                ],
                "properties": {
                  "stageIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Stages reordered successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "500": {
            "description": "Failed to reorder deal stages"
          }
        }
      }
    },
    "/v1/deal-stages/reset-to-default": {
      "post": {
        "summary": "Reset deal stages to defaults",
        "description": "Reset deal stages to the default set for the organization",
        "tags": [
          "Admin - Deal Stages"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Default stages added successfully"
          },
          "500": {
            "description": "Failed to add default stages"
          }
        }
      }
    },
    "/v1/deals": {
      "get": {
        "summary": "Get organization deals",
        "description": "Retrieve all deals for an organization",
        "tags": [
          "Admin - Deals"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of deals",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Deal ID"
                      },
                      "contactId": {
                        "type": "integer",
                        "description": "Contact ID"
                      },
                      "stageId": {
                        "type": "integer",
                        "description": "Deal stage ID"
                      },
                      "value": {
                        "type": "number",
                        "description": "Deal value"
                      },
                      "probability": {
                        "type": "number",
                        "description": "Probability percentage"
                      },
                      "expectedCloseDate": {
                        "type": "string",
                        "format": "date",
                        "description": "Expected close date"
                      },
                      "notes": {
                        "type": "string",
                        "description": "Deal notes"
                      },
                      "contact": {
                        "type": "object",
                        "description": "Contact details"
                      },
                      "stage": {
                        "type": "object",
                        "description": "Stage details"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Create new deal",
        "description": "Create a new deal",
        "tags": [
          "Admin - Deals"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "email",
                  "stageId"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Deal name"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Deal email"
                  },
                  "phone": {
                    "type": "string",
                    "description": "Deal phone number"
                  },
                  "company": {
                    "type": "string",
                    "description": "Company name"
                  },
                  "stageId": {
                    "type": "integer",
                    "description": "Deal stage ID"
                  },
                  "sourceId": {
                    "type": "integer",
                    "description": "Deal source ID"
                  },
                  "expectedCloseDate": {
                    "type": "string",
                    "format": "date",
                    "description": "Expected close date"
                  },
                  "value": {
                    "type": "number",
                    "description": "Deal value"
                  },
                  "notes": {
                    "type": "string",
                    "description": "Deal notes"
                  },
                  "customFields": {
                    "type": "object",
                    "description": "Custom field values"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Deal created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Created deal ID"
                    },
                    "name": {
                      "type": "string",
                      "description": "Deal name"
                    },
                    "email": {
                      "type": "string",
                      "description": "Deal email"
                    },
                    "stageId": {
                      "type": "integer",
                      "description": "Deal stage ID"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/deals/{id}": {
      "patch": {
        "summary": "Update deal",
        "description": "Update an existing deal",
        "tags": [
          "Admin - Deals"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Deal ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Deal name"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Deal email"
                  },
                  "phone": {
                    "type": "string",
                    "description": "Deal phone number"
                  },
                  "company": {
                    "type": "string",
                    "description": "Company name"
                  },
                  "stageId": {
                    "type": "integer",
                    "description": "Deal stage ID"
                  },
                  "sourceId": {
                    "type": "integer",
                    "description": "Deal source ID"
                  },
                  "expectedCloseDate": {
                    "type": "string",
                    "format": "date",
                    "description": "Expected close date"
                  },
                  "value": {
                    "type": "number",
                    "description": "Deal value"
                  },
                  "notes": {
                    "type": "string",
                    "description": "Deal notes"
                  },
                  "customFields": {
                    "type": "object",
                    "description": "Custom field values"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Deal updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Deal ID"
                    },
                    "name": {
                      "type": "string",
                      "description": "Deal name"
                    },
                    "email": {
                      "type": "string",
                      "description": "Deal email"
                    },
                    "stageId": {
                      "type": "integer",
                      "description": "Deal stage ID"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error or invalid deal ID"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Deal not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete deal",
        "description": "Delete a deal",
        "tags": [
          "Admin - Deals"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Deal ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Deal deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Deal deleted successfully"
                    },
                    "deal": {
                      "type": "object",
                      "description": "Deleted deal data"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid deal ID"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Deal not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/deals/{id}/move": {
      "patch": {
        "summary": "Move deal to different stage",
        "description": "Move a deal to a different stage in the pipeline",
        "tags": [
          "Admin - Deals"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Deal ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "stageId"
                ],
                "properties": {
                  "stageId": {
                    "type": "integer",
                    "description": "New stage ID"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Deal moved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Deal ID"
                    },
                    "stageId": {
                      "description": "New stage ID"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid deal ID or stage ID"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Deal or stage not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/document-rules": {
      "get": {
        "summary": "List all document rules",
        "description": "Retrieve all document rules for the organization, optionally filtered by active status.",
        "tags": [
          "Admin - Document Rules"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "isActive",
            "schema": {
              "type": "boolean"
            },
            "description": "Filter by active status"
          }
        ],
        "responses": {
          "200": {
            "description": "List of document rules"
          },
          "500": {
            "description": "Server error"
          }
        }
      },
      "post": {
        "summary": "Create a document rule",
        "description": "Create a new document rule for the organization.",
        "tags": [
          "Admin - Document Rules"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "documentId",
                  "name"
                ],
                "properties": {
                  "documentId": {
                    "type": "integer"
                  },
                  "name": {
                    "type": "string"
                  },
                  "isActive": {
                    "type": "boolean"
                  },
                  "filters": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The created document rule"
          },
          "400": {
            "description": "Missing required fields"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/v1/document-rules/{id}": {
      "get": {
        "summary": "Get a document rule by ID",
        "description": "Retrieve a single document rule by its ID.",
        "tags": [
          "Admin - Document Rules"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "The document rule ID"
          }
        ],
        "responses": {
          "200": {
            "description": "The document rule"
          },
          "404": {
            "description": "Rule not found"
          },
          "500": {
            "description": "Server error"
          }
        }
      },
      "put": {
        "summary": "Update a document rule",
        "description": "Update an existing document rule by ID.",
        "tags": [
          "Admin - Document Rules"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "The document rule ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "isActive": {
                    "type": "boolean"
                  },
                  "filters": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The updated document rule"
          },
          "500": {
            "description": "Server error"
          }
        }
      },
      "delete": {
        "summary": "Delete a document rule",
        "description": "Delete a document rule by ID.",
        "tags": [
          "Admin - Document Rules"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "The document rule ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Rule deleted successfully"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/v1/document-rules/document/{documentId}": {
      "get": {
        "summary": "Get rules for a document",
        "description": "Retrieve all document rules associated with a specific document.",
        "tags": [
          "Admin - Document Rules"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "documentId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "The document ID"
          }
        ],
        "responses": {
          "200": {
            "description": "List of rules for the document"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/v1/document-signatures": {
      "get": {
        "summary": "List all document signatures",
        "description": "Retrieve all document signatures with optional filters for document, contact, type, and date range.",
        "tags": [
          "Admin - Document Signatures"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "documentId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by document ID"
          },
          {
            "in": "query",
            "name": "contactId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by contact ID"
          },
          {
            "in": "query",
            "name": "signatureType",
            "schema": {
              "type": "string"
            },
            "description": "Filter by signature type"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Filter by start date"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Filter by end date"
          }
        ],
        "responses": {
          "200": {
            "description": "List of document signatures"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/v1/document-signatures/{id}": {
      "get": {
        "summary": "Get a document signature by ID",
        "description": "Retrieve signature details by its ID.",
        "tags": [
          "Admin - Document Signatures"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "The signature ID"
          }
        ],
        "responses": {
          "200": {
            "description": "The document signature"
          },
          "404": {
            "description": "Signature not found"
          },
          "500": {
            "description": "Server error"
          }
        }
      },
      "delete": {
        "summary": "Delete a document signature",
        "description": "Delete a document signature by ID.",
        "tags": [
          "Admin - Document Signatures"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "The signature ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Signature deleted successfully"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/v1/document-signatures/contact/{contactId}": {
      "get": {
        "summary": "Get signatures for a contact",
        "description": "Retrieve all document signatures associated with a specific contact.",
        "tags": [
          "Admin - Document Signatures"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "contactId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "The contact ID"
          }
        ],
        "responses": {
          "200": {
            "description": "List of signatures for the contact"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/v1/document-signatures/document/{documentId}": {
      "get": {
        "summary": "Get signatures for a document",
        "description": "Retrieve all signatures associated with a specific document.",
        "tags": [
          "Admin - Document Signatures"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "documentId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "The document ID"
          }
        ],
        "responses": {
          "200": {
            "description": "List of signatures for the document"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/v1/email-inboxes": {
      "get": {
        "summary": "List email inboxes",
        "description": "Retrieve all email inboxes for the organization with optional filtering",
        "tags": [
          "Admin - Email Inboxes"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "clubId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by club ID"
          },
          {
            "in": "query",
            "name": "isVerified",
            "schema": {
              "type": "string",
              "enum": [
                true,
                false
              ]
            },
            "description": "Filter by verification status"
          }
        ],
        "responses": {
          "200": {
            "description": "List of email inboxes"
          },
          "500": {
            "description": "Failed to fetch inboxes"
          }
        }
      },
      "post": {
        "summary": "Create email inbox",
        "description": "Create a new email inbox for a club",
        "tags": [
          "Admin - Email Inboxes"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "clubId",
                  "email"
                ],
                "properties": {
                  "clubId": {
                    "type": "integer",
                    "description": "Club ID"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Email address for the inbox"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Email inbox created"
          },
          "400": {
            "description": "Validation error"
          },
          "500": {
            "description": "Failed to create inbox"
          }
        }
      }
    },
    "/v1/email-inboxes/{id}": {
      "get": {
        "summary": "Get email inbox by ID",
        "description": "Retrieve a specific email inbox",
        "tags": [
          "Admin - Email Inboxes"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Inbox ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Email inbox details"
          },
          "400": {
            "description": "Invalid inbox ID"
          },
          "404": {
            "description": "Inbox not found"
          },
          "500": {
            "description": "Failed to fetch inbox"
          }
        }
      },
      "delete": {
        "summary": "Delete email inbox",
        "description": "Delete an email inbox",
        "tags": [
          "Admin - Email Inboxes"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Inbox ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Email inbox deleted"
          },
          "400": {
            "description": "Invalid inbox ID"
          },
          "500": {
            "description": "Failed to delete inbox"
          }
        }
      }
    },
    "/v1/email-inboxes/verify": {
      "post": {
        "summary": "Verify email inbox",
        "description": "Verify an email inbox using a verification token (public endpoint)",
        "tags": [
          "Admin - Email Inboxes"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "token"
                ],
                "properties": {
                  "token": {
                    "type": "string",
                    "description": "Verification token"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Inbox verified successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "500": {
            "description": "Failed to verify inbox"
          }
        }
      }
    },
    "/v1/email-inboxes/{id}/resend-verification": {
      "post": {
        "summary": "Resend verification email",
        "description": "Resend verification email for an inbox",
        "tags": [
          "Admin - Email Inboxes"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Inbox ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Verification email resent"
          },
          "400": {
            "description": "Invalid inbox ID"
          },
          "500": {
            "description": "Failed to resend verification email"
          }
        }
      }
    },
    "/v1/email-inboxes/{id}/messages": {
      "get": {
        "summary": "Get inbox messages",
        "description": "Retrieve messages for a specific email inbox with pagination and direction filtering",
        "tags": [
          "Admin - Email Inboxes"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Inbox ID"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 50
            },
            "description": "Maximum number of messages to return"
          },
          {
            "in": "query",
            "name": "offset",
            "schema": {
              "type": "integer",
              "default": 0
            },
            "description": "Number of messages to skip"
          },
          {
            "in": "query",
            "name": "direction",
            "schema": {
              "type": "string",
              "enum": [
                "inbound",
                "outbound"
              ]
            },
            "description": "Filter by message direction"
          }
        ],
        "responses": {
          "200": {
            "description": "List of messages for the inbox"
          },
          "400": {
            "description": "Invalid inbox ID"
          },
          "500": {
            "description": "Failed to fetch inbox messages"
          }
        }
      }
    },
    "/v1/engagement-dashboard/metrics": {
      "get": {
        "summary": "Get engagement dashboard metrics",
        "description": "Get current engagement metrics including total members, score distribution, and recent changes",
        "tags": [
          "Admin - Engagement Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Engagement metrics"
          }
        }
      }
    },
    "/v1/engagement-dashboard/progression": {
      "get": {
        "summary": "Get engagement progression over time",
        "description": "Get aggregated engagement score progression for all members over time",
        "tags": [
          "Admin - Engagement Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Start date for progression data"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "End date for progression data"
          }
        ],
        "responses": {
          "200": {
            "description": "Engagement progression data"
          }
        }
      }
    },
    "/v1/engagement-dashboard/member-progression": {
      "get": {
        "summary": "Get individual member engagement progression",
        "description": "Get engagement progression for a specific member",
        "tags": [
          "Admin - Engagement Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "contactId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Start date for progression data"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "End date for progression data"
          }
        ],
        "responses": {
          "200": {
            "description": "Member engagement progression data"
          }
        }
      }
    },
    "/v1/engagement-dashboard/members": {
      "get": {
        "summary": "Get list of members for selection",
        "description": "Get list of members with their current engagement scores for dropdown selection",
        "tags": [
          "Admin - Engagement Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of members with engagement scores"
          }
        }
      }
    },
    "/v1/engagement-scores": {
      "get": {
        "summary": "Get engagement scores for organization",
        "description": "Retrieve engagement scores for all members in an organization",
        "tags": [
          "Admin - Engagement"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "engagementLevel",
            "schema": {
              "type": "string",
              "enum": [
                "low",
                "medium",
                "high",
                "rockstar"
              ]
            },
            "description": "Filter by engagement level"
          }
        ],
        "responses": {
          "200": {
            "description": "List of engagement scores"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/engagement-scores/{contactId}": {
      "get": {
        "summary": "Get engagement score for specific member",
        "description": "Retrieve engagement score for a specific member. Scores are calculated automatically via daily job.",
        "tags": [
          "Admin - Engagement"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "contactId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          },
          {
            "in": "query",
            "name": "organizationId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Engagement score for the member"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/global-search": {
      "get": {
        "summary": "Unified global search",
        "description": "Search across all entities in the organization. Returns database results or empty results if nothing found.",
        "tags": [
          "Admin - Search"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "q",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Search query term"
          },
          {
            "in": "query",
            "name": "organizationId",
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID (optional, uses user's organization if not provided)"
          }
        ],
        "responses": {
          "200": {
            "description": "Search results - either database results or AI response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "query": {
                      "type": "string",
                      "description": "The search query"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "database"
                      ],
                      "description": "Type of results returned (always \"database\")"
                    },
                    "results": {
                      "type": "object",
                      "description": "Database results (when type is 'database')",
                      "properties": {
                        "contacts": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        },
                        "invoices": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        },
                        "plans": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        },
                        "memberships": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        },
                        "bookings": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        },
                        "areas": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        },
                        "areaTypes": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        },
                        "clubs": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        }
                      }
                    },
                    "totals": {
                      "type": "object",
                      "description": "Count of results per category (when type is 'database')"
                    },
                    "totalResults": {
                      "type": "integer",
                      "description": "Total number of database results"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Search query is required"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/google-business/import-url": {
      "post": {
        "summary": "Import from Google Business Profile URL",
        "description": "Fetch and transform business data from a Google Business Profile URL or place ID",
        "tags": [
          "Admin - Google Business"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [],
                "properties": {
                  "url": {
                    "type": "string",
                    "description": "Google Business Profile URL"
                  },
                  "businessName": {
                    "type": "string",
                    "description": "Business name to search for"
                  },
                  "placeId": {
                    "type": "string",
                    "description": "Google Places API place ID"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Imported business data preview (without persisting)"
          },
          "400": {
            "description": "URL, business name, or place ID is required"
          },
          "500": {
            "description": "Failed to import from Google Business Profile URL"
          }
        }
      }
    },
    "/v1/google-business/import-with-upload": {
      "post": {
        "summary": "Import and upload Google Business Profile data",
        "description": "Import business data and upload images to Cloudinary",
        "tags": [
          "Admin - Google Business"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "url": {
                    "type": "string"
                  },
                  "businessName": {
                    "type": "string"
                  },
                  "placeId": {
                    "type": "string"
                  },
                  "extractedData": {
                    "type": "object",
                    "description": "Pre-extracted data from import-url endpoint"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Imported and processed business data with Cloudinary URLs"
          },
          "400": {
            "description": "URL, business name, place ID, or extracted data is required"
          },
          "500": {
            "description": "Failed to import and upload Google Business Profile data"
          }
        }
      }
    },
    "/v1/google-business/connect": {
      "post": {
        "summary": "Connect Google Business Profile",
        "description": "Exchange OAuth code for Google Business Profile tokens",
        "tags": [
          "Admin - Google Business"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "authorizationCode"
                ],
                "properties": {
                  "authorizationCode": {
                    "type": "string",
                    "description": "OAuth authorization code from Google"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Access and refresh tokens",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "accessToken": {
                      "type": "string"
                    },
                    "refreshToken": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Authorization code is required"
          },
          "500": {
            "description": "Failed to connect Google Business Profile"
          }
        }
      }
    },
    "/v1/google-business/disconnect": {
      "post": {
        "summary": "Disconnect Google Business Profile",
        "description": "Remove Google Business Profile integration from organization",
        "tags": [
          "Admin - Google Business"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Google Business Profile disconnected successfully"
          },
          "500": {
            "description": "Failed to disconnect Google Business Profile"
          }
        }
      }
    },
    "/v1/google-business/status": {
      "get": {
        "summary": "Get Google Business Profile status",
        "description": "Check if Google Business Profile is connected for the organization",
        "tags": [
          "Admin - Google Business"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Connection status",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "connected": {
                      "type": "boolean"
                    },
                    "integration": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Failed to get Google Business Profile status"
          }
        }
      }
    },
    "/v1/google-business/import-gbp": {
      "post": {
        "summary": "Import from Google Business Profile via GBP API",
        "description": "Import a specific location using the Google Business Profile API",
        "tags": [
          "Admin - Google Business"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "locationId"
                ],
                "properties": {
                  "locationId": {
                    "type": "string",
                    "description": "Google Business Profile location ID"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Imported location data transformed to club format"
          },
          "400": {
            "description": "Location ID is required or Organization ID is required"
          },
          "404": {
            "description": "Google Business Profile not connected"
          },
          "500": {
            "description": "Failed to import from Google Business Profile"
          }
        }
      }
    },
    "/v1/google-business/auth": {
      "get": {
        "summary": "Initiate Google Business Profile OAuth",
        "description": "Generate OAuth authorization URL for Google Business Profile",
        "tags": [
          "Admin - Google Business"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OAuth authorization URL",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "authUrl": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Organization ID is required"
          },
          "500": {
            "description": "Failed to initiate authentication"
          }
        }
      }
    },
    "/v1/google-business/callback": {
      "get": {
        "summary": "Google Business Profile OAuth callback",
        "description": "OAuth callback endpoint for Google Business Profile integration",
        "tags": [
          "Admin - Google Business"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "code",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "OAuth authorization code"
          },
          {
            "in": "query",
            "name": "state",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Organization ID (state parameter)"
          },
          {
            "in": "query",
            "name": "error",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Error code if authorization was denied"
          }
        ],
        "responses": {
          "302": {
            "description": "Redirect to admin settings page with success or error"
          },
          "400": {
            "description": "Invalid parameters"
          }
        }
      }
    },
    "/v1/google-business/accounts": {
      "get": {
        "summary": "List business accounts",
        "description": "Fetch available Google Business accounts from connected integration",
        "tags": [
          "Admin - Google Business"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of business accounts"
          },
          "400": {
            "description": "Organization ID is required"
          },
          "404": {
            "description": "Google Business Profile not connected"
          },
          "500": {
            "description": "Failed to fetch business accounts"
          }
        }
      }
    },
    "/v1/google-business/locations": {
      "get": {
        "summary": "List locations for account",
        "description": "Fetch locations for a selected Google Business account",
        "tags": [
          "Admin - Google Business"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "accountId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Google Business account ID"
          }
        ],
        "responses": {
          "200": {
            "description": "List of locations for the account"
          },
          "400": {
            "description": "Account ID or Organization ID is required"
          },
          "404": {
            "description": "Google Business Profile not connected"
          },
          "500": {
            "description": "Failed to fetch locations"
          }
        }
      }
    },
    "/v1/google-business/import": {
      "post": {
        "summary": "Import locations as clubs",
        "description": "Import selected Google Business locations and create clubs",
        "tags": [
          "Admin - Google Business"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "locationIds"
                ],
                "properties": {
                  "locationIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Array of Google Business location IDs to import"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Import results with success count",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "results": {
                      "type": "array"
                    },
                    "successCount": {
                      "type": "integer"
                    },
                    "totalCount": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Location IDs are required or Organization ID is required"
          },
          "404": {
            "description": "Google Business Profile not connected"
          },
          "500": {
            "description": "Failed to import locations"
          }
        }
      }
    },
    "/v1/google-calendar/auth-url": {
      "get": {
        "summary": "Get Google Calendar authorization URL",
        "description": "Generate OAuth authorization URL for Google Calendar integration",
        "tags": [
          "Admin - Google Calendar"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OAuth authorization URL",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "authUrl": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Organization ID is required"
          },
          "500": {
            "description": "Failed to generate authorization URL"
          }
        }
      }
    },
    "/v1/google-calendar/callback": {
      "get": {
        "summary": "Google Calendar OAuth callback",
        "description": "OAuth callback endpoint for Google Calendar integration",
        "tags": [
          "Admin - Google Calendar"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "code",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "OAuth authorization code"
          },
          {
            "in": "query",
            "name": "state",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Organization ID (state parameter)"
          },
          {
            "in": "query",
            "name": "error",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Error code if authorization was denied"
          }
        ],
        "responses": {
          "302": {
            "description": "Redirect to admin settings page with success or error"
          },
          "400": {
            "description": "Invalid parameters"
          }
        }
      }
    },
    "/v1/google-calendar/calendars": {
      "get": {
        "summary": "List Google Calendars",
        "description": "Fetch available calendars from connected Google Calendar account",
        "tags": [
          "Admin - Google Calendar"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of available calendars"
          },
          "400": {
            "description": "Organization ID is required"
          },
          "404": {
            "description": "Google Calendar integration not configured or inactive"
          },
          "500": {
            "description": "Failed to list calendars"
          }
        }
      }
    },
    "/v1/google-calendar/mappings": {
      "post": {
        "summary": "Create calendar mapping",
        "description": "Create a mapping between a Google Calendar and a club area or instructor",
        "tags": [
          "Admin - Google Calendar"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "googleCalendarId"
                ],
                "properties": {
                  "googleCalendarId": {
                    "type": "string",
                    "description": "Google Calendar ID"
                  },
                  "googleCalendarName": {
                    "type": "string"
                  },
                  "areaId": {
                    "type": "integer",
                    "description": "Club area ID (required if instructorId not provided)"
                  },
                  "instructorId": {
                    "type": "integer",
                    "description": "Instructor ID (required if areaId not provided)"
                  },
                  "syncDirection": {
                    "type": "string",
                    "enum": [
                      "bidirectional",
                      "oneWay"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Calendar mapping created"
          },
          "400": {
            "description": "Required parameters missing or validation error"
          },
          "404": {
            "description": "Area, instructor, or calendar not found"
          },
          "500": {
            "description": "Failed to create calendar mapping"
          }
        }
      },
      "get": {
        "summary": "List calendar mappings",
        "description": "Retrieve all calendar mappings for the organization",
        "tags": [
          "Admin - Google Calendar"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of calendar mappings with instructor details"
          },
          "400": {
            "description": "Organization ID is required"
          },
          "500": {
            "description": "Failed to list calendar mappings"
          }
        }
      }
    },
    "/v1/google-calendar/mappings/{id}": {
      "put": {
        "summary": "Update calendar mapping",
        "description": "Update an existing calendar mapping",
        "tags": [
          "Admin - Google Calendar"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Mapping ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "googleCalendarId": {
                    "type": "string"
                  },
                  "googleCalendarName": {
                    "type": "string"
                  },
                  "areaId": {
                    "type": "integer"
                  },
                  "instructorId": {
                    "type": "integer"
                  },
                  "syncDirection": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Calendar mapping updated"
          },
          "404": {
            "description": "Mapping, area, or instructor not found"
          },
          "500": {
            "description": "Failed to update calendar mapping"
          }
        }
      },
      "delete": {
        "summary": "Delete calendar mapping",
        "description": "Delete a calendar mapping",
        "tags": [
          "Admin - Google Calendar"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Mapping ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Calendar mapping deleted"
          },
          "500": {
            "description": "Failed to delete calendar mapping"
          }
        }
      }
    },
    "/v1/google-calendar/sync/full/{mappingId}": {
      "post": {
        "summary": "Trigger full calendar sync",
        "description": "Perform a full bidirectional sync for a calendar mapping",
        "tags": [
          "Admin - Google Calendar"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "mappingId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Calendar mapping ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Sync result"
          },
          "400": {
            "description": "Organization ID is required"
          },
          "404": {
            "description": "Mapping not found"
          },
          "500": {
            "description": "Failed to perform full sync"
          }
        }
      }
    },
    "/v1/import/ai-analyze": {
      "post": {
        "summary": "Analyze CSV file with AI to detect entity type and map fields",
        "tags": [
          "Import"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "AI analysis result with detected entity type and field mapping"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/import/{entity}/preview": {
      "post": {
        "summary": "Preview CSV import without saving",
        "tags": [
          "Import"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "entity",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "contacts",
                "memberships",
                "invoices",
                "classes",
                "plans",
                "bookings"
              ]
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Preview result with validation"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/import/{entity}/execute": {
      "post": {
        "summary": "Execute CSV import and save to database",
        "tags": [
          "Import"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "entity",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "contacts",
                "memberships",
                "invoices",
                "classes",
                "plans",
                "bookings"
              ]
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Import execution result"
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/import/templates/{entity}": {
      "get": {
        "summary": "Download CSV template for entity",
        "tags": [
          "Import"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "entity",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "contacts",
                "memberships",
                "invoices",
                "classes",
                "plans",
                "bookings"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "CSV template file",
            "content": {
              "text/csv": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/instructor-types": {
      "get": {
        "summary": "Get organization instructor types",
        "description": "Retrieve all instructor types for an organization",
        "tags": [
          "Admin - Instructor Types"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of instructor types"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Create new instructor type",
        "description": "Create a new instructor type for an organization",
        "tags": [
          "Admin - Instructor Types"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Instructor type name"
                  },
                  "description": {
                    "type": "string",
                    "description": "Instructor type description"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Instructor type created successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/instructor-types/{id}": {
      "get": {
        "summary": "Get instructor type by ID",
        "description": "Retrieve a specific instructor type by its ID",
        "tags": [
          "Admin - Instructor Types"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Instructor type ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Instructor type details"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Instructor type not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "patch": {
        "summary": "Update instructor type",
        "description": "Update an existing instructor type",
        "tags": [
          "Admin - Instructor Types"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Instructor type ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Instructor type updated successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Instructor type not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete instructor type",
        "description": "Delete an instructor type",
        "tags": [
          "Admin - Instructor Types"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Instructor type ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Instructor type deleted successfully"
          },
          "400": {
            "description": "Invalid instructor type ID"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/instructors": {
      "get": {
        "summary": "Get organization instructors",
        "description": "Retrieve all instructors for an organization",
        "tags": [
          "Admin - Instructors"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID (optional, uses user's organization if not provided)"
          }
        ],
        "responses": {
          "200": {
            "description": "List of instructors",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Instructor ID"
                      },
                      "contactId": {
                        "type": "integer",
                        "description": "Contact ID"
                      },
                      "sports": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Sports that the instructor specializes in"
                      },
                      "typeId": {
                        "type": "integer",
                        "description": "Instructor type ID"
                      },
                      "type": {
                        "type": "object",
                        "description": "Instructor type details",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "name": {
                            "type": "string"
                          }
                        }
                      },
                      "experience": {
                        "type": "string",
                        "description": "Years of experience"
                      },
                      "hourlyRate": {
                        "type": "number",
                        "description": "Hourly rate"
                      },
                      "bio": {
                        "type": "string",
                        "description": "Instructor bio"
                      },
                      "certifications": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Certifications"
                      },
                      "isActive": {
                        "type": "boolean",
                        "description": "Whether instructor is active"
                      },
                      "isBookable": {
                        "type": "boolean",
                        "description": "Whether instructor is available for one-on-one bookings"
                      },
                      "contact": {
                        "type": "object",
                        "description": "Contact details"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/integrations": {
      "get": {
        "summary": "Get organization integrations",
        "description": "Retrieve all integrations for an organization with optional filtering",
        "tags": [
          "Admin - Integrations"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID (optional, uses user's organization if not provided)"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string"
            },
            "description": "Filter by integration type"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive"
              ]
            },
            "description": "Filter by integration status"
          }
        ],
        "responses": {
          "200": {
            "description": "List of integrations",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Integration ID"
                      },
                      "type": {
                        "type": "string",
                        "description": "Integration type"
                      },
                      "name": {
                        "type": "string",
                        "description": "Integration name"
                      },
                      "description": {
                        "type": "string",
                        "description": "Integration description"
                      },
                      "config": {
                        "type": "object",
                        "description": "Integration configuration"
                      },
                      "status": {
                        "type": "string",
                        "description": "Integration status"
                      },
                      "createdAt": {
                        "type": "string",
                        "format": "date-time",
                        "description": "Integration creation date"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/invoices": {
      "get": {
        "summary": "Get organization invoices",
        "description": "Retrieve all invoices for an organization with optional filtering",
        "tags": [
          "Admin - Invoices"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID (optional, uses user's organization if not provided)"
          },
          {
            "in": "query",
            "name": "contactId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by contact ID"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "draft",
                "sent",
                "paid",
                "overdue",
                "cancelled"
              ]
            },
            "description": "Filter by invoice status"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Start date for date range filter"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "End date for date range filter"
          }
        ],
        "responses": {
          "200": {
            "description": "List of invoices",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Invoice ID"
                      },
                      "invoiceNumber": {
                        "type": "string",
                        "description": "Invoice number"
                      },
                      "contactId": {
                        "type": "integer",
                        "description": "Contact ID"
                      },
                      "totalAmount": {
                        "type": "number",
                        "description": "Total invoice amount"
                      },
                      "status": {
                        "type": "string",
                        "description": "Invoice status"
                      },
                      "dueDate": {
                        "type": "string",
                        "format": "date",
                        "description": "Invoice due date"
                      },
                      "createdAt": {
                        "type": "string",
                        "format": "date-time",
                        "description": "Invoice creation date"
                      },
                      "contact": {
                        "type": "object",
                        "description": "Contact details"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Create new invoice",
        "description": "Create a new invoice with line items",
        "tags": [
          "Admin - Invoices"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "contactId",
                  "invoiceDate",
                  "dueDate"
                ],
                "properties": {
                  "contactId": {
                    "type": "integer",
                    "description": "Contact ID"
                  },
                  "invoiceDate": {
                    "type": "string",
                    "format": "date",
                    "description": "Invoice date"
                  },
                  "dueDate": {
                    "type": "string",
                    "format": "date",
                    "description": "Due date"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "draft",
                      "sent",
                      "paid",
                      "overdue",
                      "cancelled"
                    ],
                    "default": "draft",
                    "description": "Invoice status"
                  },
                  "notes": {
                    "type": "string",
                    "description": "Invoice notes"
                  },
                  "amount": {
                    "type": "number",
                    "description": "Total invoice amount (optional if line items provided)"
                  },
                  "lineItems": {
                    "type": "array",
                    "description": "Invoice line items",
                    "items": {
                      "type": "object",
                      "properties": {
                        "description": {
                          "type": "string",
                          "description": "Line item description"
                        },
                        "quantity": {
                          "type": "number",
                          "description": "Quantity"
                        },
                        "unitPrice": {
                          "type": "number",
                          "description": "Unit price"
                        },
                        "totalAmount": {
                          "type": "number",
                          "description": "Total amount for this line item"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Invoice created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Created invoice ID"
                    },
                    "invoiceNumber": {
                      "type": "string",
                      "description": "Generated invoice number"
                    },
                    "status": {
                      "type": "string",
                      "description": "Invoice status"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error, contact not found, or invalid line items"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/invoices/{id}": {
      "patch": {
        "summary": "Update invoice",
        "description": "Update an existing invoice",
        "tags": [
          "Admin - Invoices"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Invoice ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "contactId": {
                    "type": "integer",
                    "description": "Contact ID"
                  },
                  "invoiceDate": {
                    "type": "string",
                    "format": "date",
                    "description": "Invoice date"
                  },
                  "dueDate": {
                    "type": "string",
                    "format": "date",
                    "description": "Due date"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "draft",
                      "sent",
                      "paid",
                      "overdue",
                      "cancelled"
                    ],
                    "description": "Invoice status"
                  },
                  "notes": {
                    "type": "string",
                    "description": "Invoice notes"
                  },
                  "amount": {
                    "type": "number",
                    "description": "Total invoice amount"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Invoice updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Invoice ID"
                    },
                    "invoiceNumber": {
                      "type": "string",
                      "description": "Invoice number"
                    },
                    "status": {
                      "type": "string",
                      "description": "Updated invoice status"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error or contact not found"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Invoice not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete invoice",
        "description": "Delete an invoice, its line items (via cascade), and mark associated transactions as not invoiced",
        "tags": [
          "Admin - Invoices"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Invoice ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Invoice deleted successfully and transactions reverted to pending",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Invoice deleted successfully"
                    },
                    "invoice": {
                      "type": "object",
                      "description": "Deleted invoice data"
                    },
                    "revertedTransactions": {
                      "type": "integer",
                      "description": "Number of transactions reverted to pending status"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/invoices/batch-delete": {
      "delete": {
        "summary": "Delete multiple invoices",
        "description": "Delete multiple invoices and mark their associated transactions as not invoiced",
        "tags": [
          "Admin - Invoices"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "invoiceIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "Array of invoice IDs to delete"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Invoices deleted successfully and transactions reverted to pending",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Invoices deleted successfully"
                    },
                    "deletedCount": {
                      "type": "integer",
                      "description": "Number of invoices deleted"
                    },
                    "revertedTransactions": {
                      "type": "integer",
                      "description": "Number of transactions reverted to pending status"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - invalid invoice IDs"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/invoices/{id}/mark-paid": {
      "patch": {
        "summary": "Mark invoice as paid",
        "description": "Mark an invoice as paid and update related payment statuses",
        "tags": [
          "Admin - Invoices"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Invoice ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "paymentDate": {
                    "type": "string",
                    "format": "date",
                    "description": "Payment date (optional, defaults to current date)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Invoice marked as paid successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Invoice ID"
                    },
                    "status": {
                      "type": "string",
                      "example": "paid",
                      "description": "Updated invoice status"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Invoice not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/invoices/overdue/{organizationId}": {
      "get": {
        "summary": "Get overdue invoices",
        "description": "Retrieve overdue invoices for an organization",
        "tags": [
          "Admin - Invoices"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "organizationId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Overdue invoices",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Invoice ID"
                      },
                      "invoiceNumber": {
                        "type": "string",
                        "description": "Invoice number"
                      },
                      "dueDate": {
                        "type": "string",
                        "format": "date",
                        "description": "Due date"
                      },
                      "totalAmount": {
                        "type": "number",
                        "description": "Total amount"
                      },
                      "status": {
                        "type": "string",
                        "description": "Invoice status"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/invoices/due-soon/{organizationId}": {
      "get": {
        "summary": "Get invoices due soon",
        "description": "Retrieve invoices that are due soon for an organization",
        "tags": [
          "Admin - Invoices"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "organizationId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Invoices due soon",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Invoice ID"
                      },
                      "invoiceNumber": {
                        "type": "string",
                        "description": "Invoice number"
                      },
                      "dueDate": {
                        "type": "string",
                        "format": "date",
                        "description": "Due date"
                      },
                      "totalAmount": {
                        "type": "number",
                        "description": "Total amount"
                      },
                      "status": {
                        "type": "string",
                        "description": "Invoice status"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/invoices/search": {
      "get": {
        "summary": "Search invoices",
        "description": "Search invoices by query string",
        "tags": [
          "Admin - Invoices"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "q",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Search query"
          },
          {
            "in": "query",
            "name": "organizationId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Search results",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Invoice ID"
                      },
                      "invoiceNumber": {
                        "type": "string",
                        "description": "Invoice number"
                      },
                      "totalAmount": {
                        "type": "number",
                        "description": "Total amount"
                      },
                      "status": {
                        "type": "string",
                        "description": "Invoice status"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing search query or organization ID"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/invoices/stats/{organizationId}": {
      "get": {
        "summary": "Get invoice statistics",
        "description": "Retrieve invoice statistics for an organization",
        "tags": [
          "Admin - Invoices"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "organizationId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Invoice statistics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "totalInvoices": {
                      "type": "integer",
                      "description": "Total number of invoices"
                    },
                    "totalAmount": {
                      "type": "number",
                      "description": "Total invoice amount"
                    },
                    "paidInvoices": {
                      "type": "integer",
                      "description": "Number of paid invoices"
                    },
                    "overdueInvoices": {
                      "type": "integer",
                      "description": "Number of overdue invoices"
                    },
                    "dueSoonInvoices": {
                      "type": "integer",
                      "description": "Number of invoices due soon"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/invoices/generate-number/{organizationId}": {
      "get": {
        "summary": "Generate invoice number",
        "description": "Generate a unique invoice number for an organization",
        "tags": [
          "Admin - Invoices"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "organizationId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Generated invoice number",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "invoiceNumber": {
                      "type": "string",
                      "description": "Generated invoice number"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/invoices/{id}/charge": {
      "post": {
        "summary": "Charge invoice using stored payment method",
        "description": "Process payment for an invoice using a customer's stored payment method",
        "tags": [
          "Admin - Invoices"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Invoice ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "paymentMethodId",
                  "amount"
                ],
                "properties": {
                  "paymentMethodId": {
                    "type": "integer",
                    "description": "Payment method ID to charge"
                  },
                  "amount": {
                    "type": "number",
                    "description": "Amount to charge"
                  },
                  "currency": {
                    "type": "string",
                    "default": "usd",
                    "description": "Currency code"
                  },
                  "description": {
                    "type": "string",
                    "description": "Payment description"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Payment processed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "paymentIntentId": {
                      "type": "string",
                      "description": "Stripe payment intent ID"
                    },
                    "status": {
                      "type": "string",
                      "description": "Payment status"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Invoice not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/member-portal/settings": {
      "get": {
        "summary": "Get member portal settings",
        "description": "Retrieve member portal settings for the organization",
        "tags": [
          "Admin - Settings"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Member portal settings",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "enabled": {
                      "type": "boolean",
                      "description": "Whether the member portal is enabled"
                    },
                    "enablePublicPages": {
                      "type": "boolean",
                      "description": "Whether public pages are enabled (allows unauthenticated access to non-user routes)"
                    },
                    "unifiedSchedulePage": {
                      "type": "boolean",
                      "description": "Whether to show unified schedule page with tabs (true) or unbundled navigation (false)"
                    },
                    "orgSlug": {
                      "type": "string",
                      "description": "Organization slug for portal URL"
                    },
                    "orgName": {
                      "type": "string",
                      "description": "Organization name"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "patch": {
        "summary": "Update member portal settings",
        "description": "Update member portal settings for the organization",
        "tags": [
          "Admin - Settings"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "enabled": {
                    "type": "boolean",
                    "description": "Whether to enable the member portal"
                  },
                  "enablePublicPages": {
                    "type": "boolean",
                    "description": "Whether to enable public pages (allows unauthenticated access to non-user routes)"
                  },
                  "portalPages": {
                    "type": "object",
                    "description": "Portal pages configuration",
                    "properties": {
                      "enabled": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Array of enabled page IDs in display order"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Settings updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "enabled": {
                      "type": "boolean"
                    },
                    "enablePublicPages": {
                      "type": "boolean"
                    },
                    "portalPages": {
                      "type": "object"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/members/:contactId/progression": {
      "get": {
        "summary": "Get member's progression levels",
        "description": "Returns all progression levels for a member (only for enabled tracks)",
        "tags": [
          "Admin - Progression"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "contactId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of member progression levels"
          },
          "400": {
            "description": "Invalid contact ID or organization ID required"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/members/:contactId/progression/history": {
      "get": {
        "summary": "Get member's progression history",
        "description": "Returns progression update history for a member",
        "tags": [
          "Admin - Progression"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "contactId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of progression updates"
          },
          "400": {
            "description": "Invalid contact ID or organization ID required"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/members/:contactId/progression/assign": {
      "post": {
        "summary": "Assign or update progression level for a member",
        "description": "Assigns or updates a progression level for a member on a specific track",
        "tags": [
          "Admin - Progression"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "contactId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "trackId",
                  "levelId"
                ],
                "properties": {
                  "trackId": {
                    "type": "integer"
                  },
                  "levelId": {
                    "type": "integer"
                  },
                  "notes": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Level assigned successfully"
          },
          "400": {
            "description": "Invalid input or track not enabled"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/member-tagging/update/{contactId}": {
      "post": {
        "summary": "Manually trigger tag update and engagement scoring for a member",
        "description": "Evaluate and update tags for a specific contact, then calculate engagement score",
        "tags": [
          "Admin - Member Tagging"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "contactId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Contact ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Tags updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "added": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Tags that were added"
                    },
                    "removed": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Tags that were removed"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Contact not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/member-tagging/update-all": {
      "post": {
        "summary": "Manually trigger tag update and engagement scoring for all members",
        "description": "Evaluate and update tags for all contacts in the organization, then calculate engagement scores",
        "tags": [
          "Admin - Member Tagging"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Tags and engagement scores updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "tags": {
                      "type": "object",
                      "properties": {
                        "processed": {
                          "type": "integer",
                          "description": "Number of contacts processed for tagging"
                        },
                        "errors": {
                          "type": "integer",
                          "description": "Number of errors encountered during tagging"
                        }
                      }
                    },
                    "scores": {
                      "type": "object",
                      "properties": {
                        "processed": {
                          "type": "integer",
                          "description": "Number of contacts processed for scoring"
                        },
                        "errors": {
                          "type": "integer",
                          "description": "Number of errors encountered during scoring"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/members": {
      "get": {
        "summary": "Get organization members",
        "description": "Retrieve all active members and drop-in members for the authenticated user's organization",
        "tags": [
          "Admin - Members"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of organization members",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Member ID"
                      },
                      "firstName": {
                        "type": "string",
                        "description": "Member's first name"
                      },
                      "lastName": {
                        "type": "string",
                        "description": "Member's last name"
                      },
                      "email": {
                        "type": "string",
                        "description": "Member's email address"
                      },
                      "phone": {
                        "type": "string",
                        "description": "Member's phone number"
                      },
                      "status": {
                        "type": "string",
                        "description": "Member status (active, inactive, etc.)"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - User not authenticated"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/memberships": {
      "get": {
        "summary": "Get organization memberships",
        "description": "Retrieve all memberships for an organization with optional filtering",
        "tags": [
          "Admin - Memberships"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID (optional, uses user's organization if not provided)"
          },
          {
            "in": "query",
            "name": "contactId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by contact ID"
          },
          {
            "in": "query",
            "name": "planId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by plan ID"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "expired",
                "cancelled"
              ]
            },
            "description": "Filter by membership status"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "all",
                "recurring",
                "one_time",
                "weekly",
                "monthly",
                "quarterly",
                "annually",
                "custom"
              ]
            },
            "description": "Filter by membership type (all, recurring, one_time, weekly, monthly, quarterly, annually, custom)"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Start date for date range filter"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "End date for date range filter"
          }
        ],
        "responses": {
          "200": {
            "description": "List of memberships",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Membership ID"
                      },
                      "contactId": {
                        "type": "integer",
                        "description": "Contact ID"
                      },
                      "planId": {
                        "type": "integer",
                        "description": "Plan ID"
                      },
                      "status": {
                        "type": "string",
                        "description": "Membership status"
                      },
                      "startDate": {
                        "type": "string",
                        "format": "date",
                        "description": "Membership start date"
                      },
                      "endDate": {
                        "type": "string",
                        "format": "date",
                        "description": "Membership end date"
                      },
                      "contact": {
                        "type": "object",
                        "description": "Contact details"
                      },
                      "plan": {
                        "type": "object",
                        "description": "Plan details"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Create new membership",
        "description": "Create a new membership for a contact",
        "tags": [
          "Admin - Memberships"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "contactId",
                  "planId",
                  "price",
                  "startDate"
                ],
                "properties": {
                  "contactId": {
                    "type": "integer",
                    "description": "Contact ID"
                  },
                  "planId": {
                    "type": "integer",
                    "description": "Plan ID"
                  },
                  "price": {
                    "type": "number",
                    "description": "Membership price"
                  },
                  "startDate": {
                    "type": "string",
                    "format": "date",
                    "description": "Membership start date"
                  },
                  "endDate": {
                    "type": "string",
                    "format": "date",
                    "description": "Membership end date (optional)"
                  },
                  "autoRenew": {
                    "type": "boolean",
                    "default": true,
                    "description": "Whether membership auto-renews"
                  },
                  "status": {
                    "type": "string",
                    "default": "active",
                    "description": "Membership status"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Membership created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Created membership ID"
                    },
                    "contactId": {
                      "type": "integer",
                      "description": "Contact ID"
                    },
                    "planId": {
                      "type": "integer",
                      "description": "Plan ID"
                    },
                    "status": {
                      "type": "string",
                      "description": "Membership status"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error, contact not found, plan not found, or duplicate membership"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/memberships/{id}/cancel": {
      "post": {
        "summary": "Cancel a membership",
        "description": "Cancel a membership (sets status to cancelled and cancelledAt, but keeps endDate for access)",
        "tags": [
          "Admin - Memberships"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Membership ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Membership cancelled successfully"
          },
          "404": {
            "description": "Membership not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/memberships/{id}/extend": {
      "post": {
        "summary": "Extend membership end date",
        "description": "Extend the end date of a recurring membership by its billing frequency",
        "tags": [
          "Admin - Memberships"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Membership ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Membership extended successfully"
          },
          "400": {
            "description": "Invalid billing frequency or membership does not have end date"
          },
          "404": {
            "description": "Membership not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/messages": {
      "get": {
        "summary": "List messages",
        "description": "Retrieve messages with optional filtering by contact, status, type, inbox, and direction",
        "tags": [
          "Admin - Messages"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "contactId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by contact ID"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "draft",
                "sent",
                "delivered",
                "opened",
                "clicked",
                "bounced",
                "failed",
                "unsubscribed",
                "complained",
                "dropped"
              ]
            },
            "description": "Filter by message status"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "email",
                "sms"
              ]
            },
            "description": "Filter by message type"
          },
          {
            "in": "query",
            "name": "inboxId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by inbox ID"
          },
          {
            "in": "query",
            "name": "direction",
            "schema": {
              "type": "string",
              "enum": [
                "inbound",
                "outbound"
              ]
            },
            "description": "Filter by message direction"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer"
            },
            "description": "Number of results to return"
          },
          {
            "in": "query",
            "name": "offset",
            "schema": {
              "type": "integer"
            },
            "description": "Number of results to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "List of messages"
          },
          "500": {
            "description": "Failed to fetch messages"
          }
        }
      },
      "post": {
        "summary": "Create message",
        "description": "Create a new message (email or SMS) and optionally send it",
        "tags": [
          "Admin - Messages"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "content"
                ],
                "properties": {
                  "recipients": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "Contact IDs to send to (optional if filter provided)"
                  },
                  "subject": {
                    "type": "string",
                    "description": "Message subject (required for email)"
                  },
                  "content": {
                    "type": "string",
                    "description": "Message content (required)"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "email",
                      "sms"
                    ],
                    "default": "email"
                  },
                  "templateId": {
                    "type": "integer"
                  },
                  "replyToMessageId": {
                    "type": "integer"
                  },
                  "isDraft": {
                    "type": "boolean",
                    "default": false
                  },
                  "filter": {
                    "type": "object",
                    "description": "Filter to determine recipients (alternative to explicit recipients array)"
                  },
                  "inboxId": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message created and sent (or saved as draft)"
          },
          "400": {
            "description": "Validation error - content and subject (for email) are required"
          },
          "500": {
            "description": "Failed to create message"
          }
        }
      }
    },
    "/v1/messages/{id}": {
      "get": {
        "summary": "Get message by ID",
        "description": "Retrieve a specific message",
        "tags": [
          "Admin - Messages"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Message ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Message details"
          },
          "400": {
            "description": "Invalid message ID"
          },
          "404": {
            "description": "Message not found"
          },
          "500": {
            "description": "Failed to fetch message"
          }
        }
      },
      "put": {
        "summary": "Update message",
        "description": "Update message content (primarily for draft messages)",
        "tags": [
          "Admin - Messages"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Message ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "subject": {
                    "type": "string"
                  },
                  "content": {
                    "type": "string"
                  },
                  "isDraft": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message updated"
          },
          "400": {
            "description": "Invalid message ID"
          },
          "404": {
            "description": "Message not found"
          },
          "500": {
            "description": "Failed to update message"
          }
        }
      },
      "delete": {
        "summary": "Delete message",
        "description": "Delete a message (only draft and failed messages can be deleted)",
        "tags": [
          "Admin - Messages"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Message ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Message deleted"
          },
          "400": {
            "description": "Invalid message ID or only draft/failed messages can be deleted"
          },
          "404": {
            "description": "Message not found"
          },
          "500": {
            "description": "Failed to delete message"
          }
        }
      }
    },
    "/v1/messages/{id}/send": {
      "post": {
        "summary": "Send draft message",
        "description": "Send a draft message (optionally with updated content)",
        "tags": [
          "Admin - Messages"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Message ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "subject": {
                    "type": "string"
                  },
                  "content": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message sent successfully"
          },
          "400": {
            "description": "Invalid message ID or only draft messages can be sent"
          },
          "404": {
            "description": "Message not found"
          },
          "500": {
            "description": "Failed to send message"
          }
        }
      }
    },
    "/v1/messages/{id}/thread": {
      "get": {
        "summary": "Get message thread",
        "description": "Retrieve a message with all its replies",
        "tags": [
          "Admin - Messages"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Message ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Message thread with original message and replies",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "original": {
                      "type": "object"
                    },
                    "replies": {
                      "type": "array"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid message ID"
          },
          "404": {
            "description": "Message not found"
          },
          "500": {
            "description": "Failed to fetch message thread"
          }
        }
      }
    },
    "/v1/webhooks/sendgrid": {
      "post": {
        "summary": "SendGrid webhook",
        "description": "Webhook endpoint for SendGrid email tracking events (delivered, opened, clicked, bounced, etc.)",
        "tags": [
          "Admin - Messages"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Webhook processed successfully"
          },
          "500": {
            "description": "Failed to process webhook"
          }
        }
      }
    },
    "/v1/test-email": {
      "post": {
        "summary": "Send test email",
        "description": "Send a test email to verify email service is working",
        "tags": [
          "Admin - Messages"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "to"
                ],
                "properties": {
                  "to": {
                    "type": "string",
                    "format": "email",
                    "description": "Recipient email address"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Test email sent successfully"
          },
          "400": {
            "description": "Email address is required"
          },
          "500": {
            "description": "Failed to send test email"
          }
        }
      }
    },
    "/v1/messages/templates": {
      "get": {
        "summary": "Get message templates",
        "description": "Retrieve all message templates for the organization",
        "tags": [
          "Admin - Messages"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of message templates",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Template ID"
                      },
                      "name": {
                        "type": "string",
                        "description": "Template name"
                      },
                      "subject": {
                        "type": "string",
                        "description": "Email subject"
                      },
                      "content": {
                        "type": "string",
                        "description": "Template content"
                      },
                      "contentType": {
                        "type": "string",
                        "description": "Content type (html/text)"
                      },
                      "category": {
                        "type": "string",
                        "description": "Template category"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/notifications/subscriptions": {
      "get": {
        "summary": "Get admin notification subscriptions",
        "description": "Get notification subscription preferences for the authenticated admin user",
        "tags": [
          "Admin - Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Notification subscriptions"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "put": {
        "summary": "Update admin notification subscriptions",
        "description": "Update notification subscription preferences for the authenticated admin user",
        "tags": [
          "Admin - Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "category": {
                      "type": "string",
                      "enum": [
                        "message",
                        "task"
                      ]
                    },
                    "channels": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "in_app",
                          "email",
                          "push"
                        ]
                      }
                    },
                    "isEnabled": {
                      "type": "boolean"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Subscriptions updated"
          },
          "400": {
            "description": "Invalid subscription data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/onboarding/club-type-presets": {
      "get": {
        "summary": "Get club type presets",
        "description": "Retrieve all available club type presets for onboarding",
        "tags": [
          "Admin - Onboarding"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of club type presets"
          },
          "500": {
            "description": "Failed to get club type presets"
          }
        }
      }
    },
    "/v1/onboarding/search-places": {
      "post": {
        "summary": "Search Google Places",
        "description": "Search Google Places API for business locations during onboarding",
        "tags": [
          "Admin - Onboarding"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "query"
                ],
                "properties": {
                  "query": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Search results from Google Places"
          },
          "400": {
            "description": "Search query is required"
          },
          "500": {
            "description": "Failed to search places"
          }
        }
      }
    },
    "/v1/onboarding/fetch-business": {
      "post": {
        "summary": "Fetch business data",
        "description": "Fetch detailed business data from Google Places using a place ID",
        "tags": [
          "Admin - Onboarding"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "placeId"
                ],
                "properties": {
                  "placeId": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Business data fetched successfully"
          },
          "400": {
            "description": "Place ID is required"
          },
          "500": {
            "description": "Failed to fetch business data"
          }
        }
      }
    },
    "/v1/onboarding/complete": {
      "post": {
        "summary": "Complete onboarding",
        "description": "Complete the onboarding process by creating an organization and club",
        "tags": [
          "Admin - Onboarding"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "organizationName",
                  "address"
                ],
                "properties": {
                  "organizationName": {
                    "type": "string"
                  },
                  "address": {
                    "type": "string"
                  },
                  "selectedType": {
                    "type": "string"
                  },
                  "selectedSports": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "extractedData": {
                    "type": "object"
                  },
                  "placeId": {
                    "type": "string"
                  },
                  "city": {
                    "type": "string"
                  },
                  "state": {
                    "type": "string"
                  },
                  "postalCode": {
                    "type": "string"
                  },
                  "country": {
                    "type": "string"
                  },
                  "countryCode": {
                    "type": "string"
                  },
                  "latitude": {
                    "type": "number"
                  },
                  "longitude": {
                    "type": "number"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Onboarding completed successfully"
          },
          "400": {
            "description": "Organization name or address is required"
          },
          "401": {
            "description": "User not authenticated"
          },
          "500": {
            "description": "Failed to complete onboarding"
          }
        }
      }
    },
    "/v1/organization-progression-tracks": {
      "get": {
        "summary": "Get enabled tracks for organization",
        "description": "Returns all progression tracks enabled for the current organization",
        "tags": [
          "Admin - Progression"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of enabled progression tracks"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/organization-progression-tracks/enable": {
      "post": {
        "summary": "Enable a progression track for organization",
        "description": "Enables a progression track for the current organization",
        "tags": [
          "Admin - Progression"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "trackId"
                ],
                "properties": {
                  "trackId": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Track enabled successfully"
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/organization-progression-tracks/disable": {
      "post": {
        "summary": "Disable a progression track for organization",
        "description": "Disables a progression track for the current organization. Fails if there are active member assignments.",
        "tags": [
          "Admin - Progression"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "trackId"
                ],
                "properties": {
                  "trackId": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Track disabled successfully"
          },
          "400": {
            "description": "Invalid input or track has active member assignments"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/organizations/by-slug/{slug}": {
      "get": {
        "summary": "Get organization by slug",
        "description": "Retrieve organization information by its slug (public endpoint for portal access)",
        "tags": [
          "Organizations"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Organization slug"
          }
        ],
        "responses": {
          "200": {
            "description": "Organization information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Organization ID"
                    },
                    "name": {
                      "type": "string",
                      "description": "Organization name"
                    },
                    "slug": {
                      "type": "string",
                      "description": "Organization slug"
                    },
                    "description": {
                      "type": "string",
                      "description": "Organization description"
                    },
                    "logo": {
                      "type": "string",
                      "description": "Organization logo URL"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Organization not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/organizations": {
      "get": {
        "summary": "Get user's organizations",
        "description": "Retrieve all organizations associated with the authenticated user",
        "tags": [
          "Admin - Organizations"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of user's organizations",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Organization ID"
                      },
                      "name": {
                        "type": "string",
                        "description": "Organization name"
                      },
                      "description": {
                        "type": "string",
                        "description": "Organization description"
                      },
                      "address": {
                        "type": "string",
                        "description": "Organization address"
                      },
                      "city": {
                        "type": "string",
                        "description": "Organization city"
                      },
                      "state": {
                        "type": "string",
                        "description": "Organization state"
                      },
                      "country": {
                        "type": "string",
                        "description": "Organization country"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - User not authenticated"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/organizations/{id}": {
      "delete": {
        "summary": "Delete organization and all related data",
        "description": "Permanently deletes an organization and all its related entities using database foreign key cascade deletion. This action cannot be undone and will automatically delete all associated users, clubs, bookings, contacts, invoices, and all other related data.",
        "tags": [
          "Admin - Organizations"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID to delete"
          }
        ],
        "responses": {
          "200": {
            "description": "Organization and all related data deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Organization and all related data deleted successfully"
                    },
                    "deletedOrganization": {
                      "type": "string",
                      "example": "Test Organization"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid organization ID",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Invalid organization ID"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - User not authenticated"
          },
          "403": {
            "description": "Forbidden - Only organization owners can delete the organization",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Only organization owners can delete the organization"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Organization not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Organization not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/payment-methods": {
      "get": {
        "summary": "Get organization payment methods",
        "description": "Retrieve all payment methods for an organization with optional filtering",
        "tags": [
          "Admin - Payment Methods"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID (optional, uses user's organization if not provided)"
          },
          {
            "in": "query",
            "name": "contactId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by contact ID"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "card",
                "us_bank_account",
                "sepa_debit"
              ]
            },
            "description": "Filter by payment method type"
          },
          {
            "in": "query",
            "name": "isDefault",
            "schema": {
              "type": "boolean"
            },
            "description": "Filter by default payment method status"
          }
        ],
        "responses": {
          "200": {
            "description": "List of payment methods",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Payment method ID"
                      },
                      "contactId": {
                        "type": "integer",
                        "description": "Contact ID"
                      },
                      "type": {
                        "type": "string",
                        "description": "Payment method type"
                      },
                      "lastFour": {
                        "type": "string",
                        "description": "Last four digits"
                      },
                      "brand": {
                        "type": "string",
                        "description": "Card brand or bank name"
                      },
                      "expiryMonth": {
                        "type": "integer",
                        "description": "Expiry month (for cards)"
                      },
                      "expiryYear": {
                        "type": "integer",
                        "description": "Expiry year (for cards)"
                      },
                      "isDefault": {
                        "type": "boolean",
                        "description": "Whether this is the default payment method"
                      },
                      "createdAt": {
                        "type": "string",
                        "format": "date-time",
                        "description": "Creation date"
                      },
                      "contact": {
                        "type": "object",
                        "description": "Contact details"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/payments": {
      "get": {
        "summary": "Get organization payments",
        "description": "Retrieve all payments for an organization with optional filtering",
        "tags": [
          "Admin - Payments"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "contactId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by contact ID"
          },
          {
            "in": "query",
            "name": "transactionId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by transaction ID"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "processing",
                "succeeded",
                "failed",
                "refunded",
                "partially_refunded",
                "cancelled"
              ]
            },
            "description": "Filter by payment status"
          },
          {
            "in": "query",
            "name": "paymentMethod",
            "schema": {
              "type": "string",
              "enum": [
                "stripe",
                "manual"
              ]
            },
            "description": "Filter by payment method"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Start date for date range filter"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "End date for date range filter"
          }
        ],
        "responses": {
          "200": {
            "description": "List of payments"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Create manual payment",
        "description": "Create a manual payment record and link it to transactions",
        "tags": [
          "Admin - Payments"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "contactId",
                  "amount",
                  "paymentType",
                  "transactionIds"
                ],
                "properties": {
                  "contactId": {
                    "type": "integer"
                  },
                  "amount": {
                    "type": "number"
                  },
                  "paymentType": {
                    "type": "string",
                    "enum": [
                      "cash",
                      "check",
                      "bank_transfer",
                      "other"
                    ]
                  },
                  "paymentDate": {
                    "type": "string",
                    "format": "date"
                  },
                  "transactionIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Payment created successfully"
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/payments/{id}": {
      "get": {
        "summary": "Get payment details",
        "description": "Retrieve a specific payment by ID",
        "tags": [
          "Admin - Payments"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Payment ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Payment details"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Payment not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/payments/{id}/refund": {
      "post": {
        "summary": "Refund a payment",
        "description": "Refund a payment (full or partial)",
        "tags": [
          "Admin - Payments"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Payment ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "amount": {
                    "type": "number",
                    "description": "Partial refund amount (optional, full refund if not provided)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Payment refunded successfully"
          },
          "400": {
            "description": "Invalid input or payment cannot be refunded"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Payment not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/plans": {
      "get": {
        "summary": "Get organization plans",
        "description": "Retrieve all plans for an organization with optional membership count",
        "tags": [
          "Admin - Plans"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID (optional, uses user's organization if not provided)"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            },
            "description": "Filter by plan status"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string"
            },
            "description": "Filter by plan type"
          },
          {
            "in": "query",
            "name": "withMembershipCount",
            "schema": {
              "type": "boolean"
            },
            "description": "Include membership count in response"
          },
          {
            "in": "query",
            "name": "isActive",
            "schema": {
              "type": "boolean"
            },
            "description": "Filter by active status (true to get only active plans)"
          }
        ],
        "responses": {
          "200": {
            "description": "List of plans",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Plan ID"
                      },
                      "name": {
                        "type": "string",
                        "description": "Plan name"
                      },
                      "description": {
                        "type": "string",
                        "description": "Plan description"
                      },
                      "monthlyPrice": {
                        "type": "number",
                        "description": "Monthly price"
                      },
                      "isActive": {
                        "type": "boolean",
                        "description": "Whether plan is active"
                      },
                      "membershipCount": {
                        "type": "integer",
                        "description": "Number of active memberships (when withMembershipCount is true)"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Create new plan",
        "description": "Create a new membership plan for the organization",
        "tags": [
          "Admin - Plans"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "monthlyPrice"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Plan name"
                  },
                  "description": {
                    "type": "string",
                    "description": "Plan description"
                  },
                  "monthlyPrice": {
                    "type": "number",
                    "description": "Monthly price"
                  },
                  "isActive": {
                    "type": "boolean",
                    "default": true,
                    "description": "Whether plan is active"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Plan created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Created plan ID"
                    },
                    "name": {
                      "type": "string",
                      "description": "Plan name"
                    },
                    "monthlyPrice": {
                      "type": "number",
                      "description": "Monthly price"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error or organization not found"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/plans/{id}": {
      "patch": {
        "summary": "Update plan",
        "description": "Update an existing membership plan",
        "tags": [
          "Admin - Plans"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Plan ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Plan name"
                  },
                  "description": {
                    "type": "string",
                    "description": "Plan description"
                  },
                  "monthlyPrice": {
                    "type": "number",
                    "description": "Monthly price"
                  },
                  "isActive": {
                    "type": "boolean",
                    "description": "Whether plan is active"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Plan updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Plan ID"
                    },
                    "name": {
                      "type": "string",
                      "description": "Plan name"
                    },
                    "monthlyPrice": {
                      "type": "number",
                      "description": "Monthly price"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error or organization not found"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Plan not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete plan",
        "description": "Delete a membership plan",
        "tags": [
          "Admin - Plans"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Plan ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Plan deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Plan deleted successfully"
                    },
                    "plan": {
                      "type": "object",
                      "description": "Deleted plan data"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/pricing/calculate": {
      "post": {
        "summary": "Calculate price for a booking scenario",
        "description": "Calculate the price for a booking using applicable pricing rules",
        "tags": [
          "Admin - Pricing Rules"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "startTime",
                  "endTime"
                ],
                "properties": {
                  "startTime": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "endTime": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "areaId": {
                    "type": "integer"
                  },
                  "instructorId": {
                    "type": "integer"
                  },
                  "classId": {
                    "type": "integer"
                  },
                  "planId": {
                    "type": "integer"
                  },
                  "contactId": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Calculated price with adjustments"
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/pricing/rules": {
      "get": {
        "summary": "Get pricing rules",
        "description": "Retrieve all pricing rules for an organization",
        "tags": [
          "Admin - Pricing Rules"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of pricing rules"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      },
      "post": {
        "summary": "Create pricing rule",
        "description": "Create a new pricing rule",
        "tags": [
          "Admin - Pricing Rules"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "percentageAdjustment"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "isActive": {
                    "type": "boolean"
                  },
                  "conditions": {
                    "type": "object"
                  },
                  "percentageAdjustment": {
                    "type": "number"
                  },
                  "areaIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  },
                  "instructorIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  },
                  "classIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created pricing rule"
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/pricing/rules/{id}": {
      "patch": {
        "summary": "Update pricing rule",
        "description": "Update an existing pricing rule",
        "tags": [
          "Admin - Pricing Rules"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "isActive": {
                    "type": "boolean"
                  },
                  "conditions": {
                    "type": "object"
                  },
                  "percentageAdjustment": {
                    "type": "number"
                  },
                  "areaIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  },
                  "instructorIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  },
                  "classIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated pricing rule"
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Rule not found"
          }
        }
      },
      "delete": {
        "summary": "Delete pricing rule",
        "description": "Delete a pricing rule",
        "tags": [
          "Admin - Pricing Rules"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Rule not found"
          }
        }
      }
    },
    "/v1/pricing/sheet": {
      "post": {
        "summary": "Get pricing sheet for a resource (admin endpoint)",
        "description": "Returns prices for all time slots in a day for a specific resource (area, instructor, etc.). Used to display prices under each slot.",
        "tags": [
          "Admin - Pricing Rules"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "date"
                ],
                "properties": {
                  "date": {
                    "type": "string",
                    "format": "date",
                    "example": "2024-01-15"
                  },
                  "areaId": {
                    "type": "integer"
                  },
                  "instructorId": {
                    "type": "integer"
                  },
                  "slotDurationMinutes": {
                    "type": "integer",
                    "default": 30
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Pricing sheet with slot prices"
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/progression-levels": {
      "get": {
        "summary": "List progression levels for a track",
        "description": "Returns all levels for a specific progression track",
        "tags": [
          "Admin - Progression"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "trackId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of progression levels"
          },
          "400": {
            "description": "Invalid trackId parameter"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/progression-levels/:id": {
      "get": {
        "summary": "Get progression level details",
        "description": "Returns a specific progression level",
        "tags": [
          "Admin - Progression"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Progression level"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Level not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/progression-tracks": {
      "get": {
        "summary": "List all available progression tracks (platform-wide templates)",
        "description": "Returns all platform-wide progression tracks that organizations can enable",
        "tags": [
          "Admin - Progression"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of progression tracks"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/progression-tracks/enabled": {
      "get": {
        "summary": "List enabled progression tracks for current organization",
        "description": "Returns progression tracks that are enabled for the user's organization",
        "tags": [
          "Admin - Progression"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of enabled progression tracks"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/progression-tracks/:id": {
      "get": {
        "summary": "Get progression track details with levels",
        "description": "Returns a specific progression track with its levels",
        "tags": [
          "Admin - Progression"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Progression track with levels"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Track not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/reviews": {
      "get": {
        "summary": "Get organization reviews",
        "description": "Retrieve all reviews for an organization with optional filtering",
        "tags": [
          "Admin - Reviews"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID (optional, uses user's organization if not provided)"
          },
          {
            "in": "query",
            "name": "clubId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by club ID"
          },
          {
            "in": "query",
            "name": "areaId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by area ID"
          },
          {
            "in": "query",
            "name": "rating",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 5
            },
            "description": "Filter by rating"
          },
          {
            "in": "query",
            "name": "isPublic",
            "schema": {
              "type": "boolean"
            },
            "description": "Filter by public status"
          },
          {
            "in": "query",
            "name": "isVerified",
            "schema": {
              "type": "boolean"
            },
            "description": "Filter by verified status"
          }
        ],
        "responses": {
          "200": {
            "description": "List of reviews",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Review ID"
                      },
                      "rating": {
                        "type": "integer",
                        "description": "Review rating (1-5)"
                      },
                      "title": {
                        "type": "string",
                        "description": "Review title"
                      },
                      "comment": {
                        "type": "string",
                        "description": "Review comment"
                      },
                      "isVerified": {
                        "type": "boolean",
                        "description": "Whether review is verified"
                      },
                      "isPublic": {
                        "type": "boolean",
                        "description": "Whether review is public"
                      },
                      "createdAt": {
                        "type": "string",
                        "format": "date-time",
                        "description": "Review creation date"
                      },
                      "user": {
                        "type": "object",
                        "description": "User details"
                      },
                      "club": {
                        "type": "object",
                        "description": "Club details"
                      },
                      "area": {
                        "type": "object",
                        "description": "Area details"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/reviews/stats": {
      "get": {
        "summary": "Get review statistics for organization",
        "description": "Retrieve review statistics for all clubs in the organization",
        "tags": [
          "Admin - Reviews"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID (optional, uses user's organization if not provided)"
          }
        ],
        "responses": {
          "200": {
            "description": "Review statistics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "totalReviews": {
                      "type": "integer",
                      "description": "Total number of reviews"
                    },
                    "averageRating": {
                      "type": "number",
                      "description": "Average rating across all reviews"
                    },
                    "ratingDistribution": {
                      "type": "object",
                      "description": "Distribution of ratings (1-5)"
                    },
                    "recentReviews": {
                      "type": "integer",
                      "description": "Number of reviews in the last 30 days"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/reviews/{id}": {
      "get": {
        "summary": "Get review by ID",
        "description": "Retrieve a specific review by ID",
        "tags": [
          "Admin - Reviews"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Review ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Review details"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Review not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "put": {
        "summary": "Update review",
        "description": "Update a review's details",
        "tags": [
          "Admin - Reviews"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Review ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "Review title"
                  },
                  "comment": {
                    "type": "string",
                    "description": "Review comment"
                  },
                  "isPublic": {
                    "type": "boolean",
                    "description": "Whether review is public"
                  },
                  "isVerified": {
                    "type": "boolean",
                    "description": "Whether review is verified"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated review"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Review not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete review",
        "description": "Soft delete a review",
        "tags": [
          "Admin - Reviews"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Review ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Review deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Review not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/scheduler/status": {
      "get": {
        "summary": "Get scheduler status",
        "description": "Get the status of scheduled tasks for an organization",
        "tags": [
          "Admin - Scheduler"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID (optional, uses user's organization if not provided)"
          }
        ],
        "responses": {
          "200": {
            "description": "Scheduler status",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "isActive": {
                      "type": "boolean",
                      "description": "Whether scheduler is active"
                    },
                    "nextRun": {
                      "type": "string",
                      "format": "date-time",
                      "description": "Next scheduled run time"
                    },
                    "cronExpression": {
                      "type": "string",
                      "description": "Cron expression for scheduling"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/setup-checklist/status": {
      "get": {
        "summary": "Get setup checklist completion status",
        "description": "Returns completion status for all settings categories and items",
        "tags": [
          "Admin - Settings"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Setup checklist status",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "overallProgress": {
                      "type": "number",
                      "description": "Overall completion percentage (0-100)"
                    },
                    "categories": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "object",
                        "properties": {
                          "progress": {
                            "type": "number",
                            "description": "Category completion percentage (0-100)"
                          },
                          "items": {
                            "type": "object",
                            "additionalProperties": {
                              "type": "boolean",
                              "description": "Completion status for each item"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/smart-tagging/settings": {
      "get": {
        "summary": "Get smart tagging settings",
        "description": "Retrieve smart tagging settings for the organization, with defaults if not configured",
        "tags": [
          "Admin - Smart Tagging"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Smart tagging settings",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "engagement": {
                      "type": "object"
                    },
                    "financial": {
                      "type": "object"
                    },
                    "lifecycle": {
                      "type": "object"
                    },
                    "level": {
                      "type": "object"
                    },
                    "interest": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "put": {
        "summary": "Update smart tagging settings",
        "description": "Create or update smart tagging settings for the organization",
        "tags": [
          "Admin - Smart Tagging"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "engagement": {
                    "type": "object"
                  },
                  "financial": {
                    "type": "object"
                  },
                  "lifecycle": {
                    "type": "object"
                  },
                  "level": {
                    "type": "object"
                  },
                  "interest": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Settings updated successfully"
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/tasks": {
      "get": {
        "summary": "Get organization tasks",
        "description": "Retrieve all tasks for an organization with optional filtering",
        "tags": [
          "Admin - Tasks"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "todo",
                "in_progress",
                "completed"
              ]
            },
            "description": "Filter by task status"
          },
          {
            "in": "query",
            "name": "assignedTo",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by assigned user ID"
          },
          {
            "in": "query",
            "name": "contactId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by contact ID"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 20
            },
            "description": "Number of tasks per page"
          }
        ],
        "responses": {
          "200": {
            "description": "List of tasks"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Create a new task",
        "description": "Create a new task for the organization",
        "tags": [
          "Admin - Tasks"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "Task title"
                  },
                  "description": {
                    "type": "string",
                    "description": "Task description"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "todo",
                      "in_progress",
                      "completed"
                    ],
                    "default": "todo"
                  },
                  "priority": {
                    "type": "string",
                    "enum": [
                      "low",
                      "medium",
                      "high",
                      "urgent"
                    ],
                    "default": "medium"
                  },
                  "dueDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Task due date"
                  },
                  "assignedToContactId": {
                    "type": "integer",
                    "description": "ID of staff contact to assign task to"
                  },
                  "contactId": {
                    "type": "integer",
                    "description": "ID of related contact"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Task created successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/tasks/{id}": {
      "get": {
        "summary": "Get a single task",
        "description": "Retrieve a specific task by ID",
        "tags": [
          "Admin - Tasks"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Task ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Task details"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Task not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "put": {
        "summary": "Update a task",
        "description": "Update an existing task",
        "tags": [
          "Admin - Tasks"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Task ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "todo",
                      "in_progress",
                      "completed"
                    ]
                  },
                  "priority": {
                    "type": "string",
                    "enum": [
                      "low",
                      "medium",
                      "high",
                      "urgent"
                    ]
                  },
                  "dueDate": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "assignedToContactId": {
                    "type": "integer",
                    "description": "ID of staff contact to assign task to"
                  },
                  "contactId": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Task updated successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Task not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete a task",
        "description": "Delete a task",
        "tags": [
          "Admin - Tasks"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Task ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Task deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Task not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/tasks/stats": {
      "get": {
        "summary": "Get task statistics",
        "description": "Get task statistics for the organization",
        "tags": [
          "Admin - Tasks"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Task statistics"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/tax-rates": {
      "get": {
        "summary": "List tax rates",
        "description": "Retrieve all tax rates for the organization",
        "tags": [
          "Admin - Tax Rates"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of tax rates"
          },
          "500": {
            "description": "Failed to list tax rates"
          }
        }
      },
      "post": {
        "summary": "Create a tax rate",
        "description": "Create a new tax rate for the organization",
        "tags": [
          "Admin - Tax Rates"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "rate"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "rate": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                  },
                  "description": {
                    "type": "string"
                  },
                  "isActive": {
                    "type": "boolean"
                  },
                  "isDefault": {
                    "type": "boolean"
                  },
                  "isInclusive": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Tax rate created successfully"
          },
          "400": {
            "description": "Validation error or duplicate name"
          },
          "500": {
            "description": "Failed to create tax rate"
          }
        }
      }
    },
    "/v1/tax-rates/{id}": {
      "put": {
        "summary": "Update a tax rate",
        "description": "Update an existing tax rate by its ID",
        "tags": [
          "Admin - Tax Rates"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Tax rate ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "rate": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                  },
                  "description": {
                    "type": "string"
                  },
                  "isActive": {
                    "type": "boolean"
                  },
                  "isDefault": {
                    "type": "boolean"
                  },
                  "isInclusive": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Tax rate updated successfully"
          },
          "400": {
            "description": "Invalid ID, invalid rate, or duplicate name"
          },
          "404": {
            "description": "Tax rate not found"
          },
          "500": {
            "description": "Failed to update tax rate"
          }
        }
      },
      "delete": {
        "summary": "Delete a tax rate",
        "description": "Delete a tax rate by its ID. Cannot delete if used in transactions or invoices.",
        "tags": [
          "Admin - Tax Rates"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Tax rate ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Tax rate deleted successfully"
          },
          "400": {
            "description": "Invalid ID or tax rate in use"
          },
          "404": {
            "description": "Tax rate not found"
          },
          "500": {
            "description": "Failed to delete tax rate"
          }
        }
      }
    },
    "/v1/tax-rates/default": {
      "get": {
        "summary": "Get default tax rate",
        "description": "Retrieve the default active tax rate for the organization",
        "tags": [
          "Admin - Tax Rates"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Default tax rate or null"
          },
          "500": {
            "description": "Failed to fetch default tax rate"
          }
        }
      }
    },
    "/v1/accounts/{accountId}/tax-rate": {
      "put": {
        "summary": "Set account default tax rate",
        "description": "Set the default tax rate for a specific account",
        "tags": [
          "Admin - Tax Rates"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "accountId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Account ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "taxRateId": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Account tax rate updated successfully"
          },
          "400": {
            "description": "Invalid account ID"
          },
          "404": {
            "description": "Account or tax rate not found"
          },
          "500": {
            "description": "Failed to set account tax rate"
          }
        }
      }
    },
    "/v1/templates": {
      "get": {
        "summary": "Get templates",
        "description": "Retrieve all templates for the organization, optionally filtered by type",
        "parameters": [
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "message",
                "email",
                "invoice",
                "receipt"
              ]
            },
            "description": "Filter by template type"
          }
        ],
        "responses": {
          "200": {
            "description": "List of templates"
          }
        }
      },
      "post": {
        "summary": "Create a new template",
        "description": "Create a new template for the organization"
      }
    },
    "/v1/templates/system": {
      "get": {
        "summary": "Get all system templates",
        "description": "Retrieve metadata for all available system templates",
        "responses": {
          "200": {
            "description": "List of system templates"
          }
        }
      }
    },
    "/v1/templates/system/:key": {
      "get": {
        "summary": "Get system template content",
        "description": "Get the actual template content (HTML/text) for a system template"
      }
    },
    "/v1/templates/system/:key/copy": {
      "post": {
        "summary": "Copy system template to organization",
        "description": "Create a user template based on a system template"
      }
    },
    "/v1/templates/{id}": {
      "get": {
        "summary": "Get a single template"
      },
      "put": {
        "summary": "Update a template"
      },
      "delete": {
        "summary": "Delete a template"
      }
    },
    "/v1/transactions": {
      "get": {
        "summary": "List member transactions",
        "description": "Retrieve transactions with optional filters",
        "tags": [
          "Admin - Transactions"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "contactId",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "membershipId",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "bookingId",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "paymentStatus",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 50
            }
          },
          {
            "in": "query",
            "name": "offset",
            "schema": {
              "type": "integer",
              "default": 0
            }
          },
          {
            "in": "query",
            "name": "sortBy",
            "schema": {
              "type": "string",
              "default": "date"
            }
          },
          {
            "in": "query",
            "name": "sortOrder",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "desc"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Transactions list"
          }
        }
      }
    },
    "/v1/transactions/batch-charge": {
      "post": {
        "summary": "Process payments for multiple transactions",
        "description": "Charge customers with stored payment methods for selected unpaid transactions",
        "tags": [
          "Admin - Transactions"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "transactionIds"
                ],
                "properties": {
                  "transactionIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Batch charge results"
          }
        }
      }
    },
    "/v1/waitlist": {
      "get": {
        "summary": "Get waitlist entries",
        "description": "Retrieve waitlist entries with optional filtering",
        "tags": [
          "Admin - Waitlist"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "classId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by class ID"
          },
          {
            "in": "query",
            "name": "areaId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by area ID"
          },
          {
            "in": "query",
            "name": "instructorId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by instructor ID"
          },
          {
            "in": "query",
            "name": "date",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Filter by requested date"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "notified",
                "converted",
                "expired",
                "cancelled"
              ]
            },
            "description": "Filter by status"
          }
        ],
        "responses": {
          "200": {
            "description": "List of waitlist entries"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Add to waitlist (admin)",
        "description": "Add a user to the waitlist for a resource",
        "tags": [
          "Admin - Waitlist"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "clubId",
                  "requestedDate"
                ],
                "properties": {
                  "clubId": {
                    "type": "integer"
                  },
                  "userId": {
                    "type": "integer"
                  },
                  "contactId": {
                    "type": "integer"
                  },
                  "classId": {
                    "type": "integer"
                  },
                  "areaId": {
                    "type": "integer"
                  },
                  "instructorId": {
                    "type": "integer"
                  },
                  "requestedDate": {
                    "type": "string",
                    "format": "date"
                  },
                  "requestedStartTime": {
                    "type": "string",
                    "pattern": "^\\d{2}:\\d{2}$"
                  },
                  "requestedEndTime": {
                    "type": "string",
                    "pattern": "^\\d{2}:\\d{2}$"
                  },
                  "notes": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Waitlist entry created"
          },
          "400": {
            "description": "Validation error"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/waitlist/{id}": {
      "get": {
        "summary": "Get single waitlist entry",
        "description": "Retrieve a specific waitlist entry by ID",
        "tags": [
          "Admin - Waitlist"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Waitlist entry details"
          },
          "404": {
            "description": "Waitlist entry not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Remove from waitlist",
        "description": "Remove a user from the waitlist",
        "tags": [
          "Admin - Waitlist"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Removed from waitlist"
          },
          "404": {
            "description": "Waitlist entry not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/waitlist/{id}/convert": {
      "post": {
        "summary": "Convert waitlist entry to booking",
        "description": "Convert a waitlist entry into a confirmed booking (admin only)",
        "tags": [
          "Admin - Waitlist"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Converted to booking"
          },
          "404": {
            "description": "Waitlist entry not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/waitlist/process": {
      "post": {
        "summary": "Manually process waitlist",
        "description": "Manually trigger waitlist processing for a resource",
        "tags": [
          "Admin - Waitlist"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "bookingId"
                ],
                "properties": {
                  "bookingId": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Waitlist processed"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/waitlist/stats": {
      "get": {
        "summary": "Get waitlist statistics",
        "description": "Get waitlist statistics for a date range",
        "tags": [
          "Admin - Waitlist"
        ],
        "security": [
          {
            "bearerAuth": []
          },
          {
            "sessionAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "classId",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "areaId",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "instructorId",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Waitlist statistics"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/auth/health": {
      "get": {
        "summary": "Health check endpoint",
        "description": "Check if the authentication service is running",
        "tags": [
          "Authentication"
        ],
        "responses": {
          "200": {
            "description": "Service is healthy",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "ok"
                    },
                    "timestamp": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "environment": {
                      "type": "string",
                      "example": "development"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/organizations/{slug}/membership": {
      "get": {
        "summary": "Check organization membership",
        "description": "Check if the current user is a member of the specified organization",
        "tags": [
          "Authentication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Organization slug"
          }
        ],
        "responses": {
          "200": {
            "description": "Membership information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "isMember": {
                      "type": "boolean"
                    },
                    "role": {
                      "type": "string"
                    },
                    "status": {
                      "type": "string"
                    },
                    "isOwner": {
                      "type": "boolean"
                    },
                    "organization": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Access denied"
          },
          "404": {
            "description": "Organization not found"
          }
        }
      }
    },
    "/v1/auth/me-with-role": {
      "get": {
        "summary": "Get current user with organization role",
        "description": "Returns current user information including their organization role and permissions",
        "tags": [
          "Authentication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "User information with role",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "user": {
                      "type": "object"
                    },
                    "organizationRole": {
                      "type": "object"
                    },
                    "permissions": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/v1/auth/switch-organization": {
      "post": {
        "summary": "Switch user's active organization context",
        "description": "Allows users with access to multiple organizations to switch their active organization context.\nThis endpoint:\n- Validates user has access to the target organization\n- Generates a new JWT token with the selected organization ID\n- Returns organization details for UI updates\n\nThe new JWT token will be used by all subsequent API calls to load data from the selected organization.\n",
        "tags": [
          "Authentication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "organizationId"
                ],
                "properties": {
                  "organizationId": {
                    "type": "integer",
                    "description": "Organization ID to switch to"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Organization switched successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "token": {
                      "type": "string",
                      "description": "New JWT token with organization context"
                    },
                    "organization": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid organization ID"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "User doesn't have access to this organization"
          }
        }
      }
    },
    "/v1/auth/login": {
      "post": {
        "summary": "User login",
        "description": "Authenticate user and return JWT token",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "user@example.com"
                  },
                  "password": {
                    "type": "string",
                    "example": "password123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Login successful"
                    },
                    "token": {
                      "type": "string",
                      "description": "JWT token for authentication. Use this token to fetch user profile from /v1/user/profile"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing email or password"
          },
          "401": {
            "description": "Invalid credentials"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/v1/auth/logout": {
      "post": {
        "summary": "User logout",
        "description": "Logout user and destroy session",
        "tags": [
          "Authentication"
        ],
        "responses": {
          "200": {
            "description": "Logout successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Logged out"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/v1/auth/request-password-reset": {
      "post": {
        "summary": "Request password reset",
        "description": "Send password reset email to user",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "user@example.com"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Reset email sent (if user exists)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "If the email exists, a reset link will be sent."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing email"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/v1/auth/reset-password": {
      "post": {
        "summary": "Reset password",
        "description": "Reset user password using token",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "token",
                  "password"
                ],
                "properties": {
                  "token": {
                    "type": "string",
                    "description": "Reset token from email"
                  },
                  "password": {
                    "type": "string",
                    "description": "New password"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password reset successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Password updated. You can now log in."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid or expired token"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/v1/users/change-password": {
      "post": {
        "summary": "Change user password",
        "description": "Change the authenticated user's password (requires current password)",
        "tags": [
          "Authentication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "currentPassword",
                  "newPassword"
                ],
                "properties": {
                  "currentPassword": {
                    "type": "string",
                    "description": "Current password for verification"
                  },
                  "newPassword": {
                    "type": "string",
                    "description": "New password"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password changed successfully"
          },
          "400": {
            "description": "Invalid or missing passwords"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Failed to change password"
          }
        }
      }
    },
    "/v1/auth/admin-signup": {
      "post": {
        "summary": "Admin user registration",
        "description": "Create new admin user with organization and club setup",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password",
                  "name",
                  "acceptTerms",
                  "acceptPrivacy"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "password": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "language": {
                    "type": "string"
                  },
                  "acceptTerms": {
                    "type": "boolean"
                  },
                  "acceptPrivacy": {
                    "type": "boolean"
                  },
                  "reportId": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Admin registration successful, returns JWT token"
          },
          "400": {
            "description": "Validation error or user already exists"
          },
          "500": {
            "description": "Failed to create admin user"
          }
        }
      }
    },
    "/v1/auth/corporate-signup": {
      "post": {
        "summary": "Corporate user registration",
        "description": "Create new corporate user account (organization created during onboarding)",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password",
                  "name",
                  "acceptTerms",
                  "acceptPrivacy"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "password": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "language": {
                    "type": "string"
                  },
                  "acceptTerms": {
                    "type": "boolean"
                  },
                  "acceptPrivacy": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Corporate registration successful, returns JWT token"
          },
          "400": {
            "description": "Validation error or user already exists"
          },
          "500": {
            "description": "Failed to create corporate account"
          }
        }
      }
    },
    "/v1/auth/signup": {
      "post": {
        "summary": "User registration",
        "description": "Create new user account with optional organization",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password",
                  "name",
                  "acceptTerms",
                  "acceptPrivacy"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "password": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "language": {
                    "type": "string"
                  },
                  "organizationSlug": {
                    "type": "string",
                    "description": "Organization slug to join"
                  },
                  "acceptTerms": {
                    "type": "boolean"
                  },
                  "acceptPrivacy": {
                    "type": "boolean"
                  },
                  "acceptedDocumentIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User registration successful, returns JWT token"
          },
          "400": {
            "description": "Validation error or user already exists"
          },
          "500": {
            "description": "Failed to create user account"
          }
        }
      }
    },
    "/v1/auth/verify-email": {
      "post": {
        "summary": "Verify user email",
        "description": "Verify user email using verification token",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "token"
                ],
                "properties": {
                  "token": {
                    "type": "string",
                    "description": "Email verification token"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Email verified successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Email verified successfully"
                    },
                    "user": {
                      "type": "object"
                    },
                    "token": {
                      "type": "string",
                      "description": "JWT token for authentication"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid or expired token"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/v1/auth/resend-verification": {
      "post": {
        "summary": "Resend email verification",
        "description": "Resend email verification token to user",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "User email address"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Verification email sent",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Verification email sent"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "User not found or already verified"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/v1/auth/me/resend-verification": {
      "post": {
        "summary": "Resend email verification for current user",
        "description": "Resend email verification token to the authenticated user",
        "tags": [
          "Authentication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "origin"
                ],
                "properties": {
                  "origin": {
                    "type": "string",
                    "enum": [
                      "admin",
                      "user"
                    ],
                    "description": "Origin context - \"admin\" for admin site, \"user\" for public site"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Verification email sent",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Verification email sent"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Email is already verified"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/v1/user/organization": {
      "get": {
        "summary": "Get user's organization",
        "description": "Retrieve the authenticated user's organization information",
        "tags": [
          "Authentication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Organization information"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Organization not found"
          },
          "500": {
            "description": "Failed to fetch organization"
          }
        }
      },
      "post": {
        "summary": "Create user organization",
        "description": "Create a new organization for the authenticated user",
        "tags": [
          "Authentication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Organization name"
                  },
                  "description": {
                    "type": "string",
                    "description": "Organization description"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Organization created successfully"
          },
          "400": {
            "description": "Missing required name field"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Failed to create organization"
          }
        }
      }
    },
    "/v1/auth/me/organization": {
      "get": {
        "summary": "Get current user's organization (alias)",
        "description": "Retrieve organization information for the authenticated user (alias for /v1/user/organization)",
        "tags": [
          "Authentication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Organization information"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Organization not found"
          },
          "500": {
            "description": "Failed to fetch organization"
          }
        }
      },
      "post": {
        "summary": "Create user organization (alias)",
        "description": "Create a new organization for the authenticated user (alias for /v1/user/organization)",
        "tags": [
          "Authentication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Organization name"
                  },
                  "description": {
                    "type": "string",
                    "description": "Organization description"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Organization created successfully"
          },
          "400": {
            "description": "Missing required name field"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Failed to create organization"
          }
        }
      }
    },
    "/v1/auth/google": {
      "get": {
        "summary": "Google OAuth login initiation",
        "description": "Initiate Google OAuth authentication flow",
        "tags": [
          "Authentication"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "source",
            "schema": {
              "type": "string"
            },
            "description": "Source of request (public, admin, portal, mobile)"
          },
          {
            "in": "query",
            "name": "redirectTo",
            "schema": {
              "type": "string"
            },
            "description": "URL to redirect to after login"
          },
          {
            "in": "query",
            "name": "organizationSlug",
            "schema": {
              "type": "string"
            },
            "description": "Organization slug for portal login"
          }
        ],
        "responses": {
          "302": {
            "description": "Redirects to Google OAuth consent screen"
          },
          "500": {
            "description": "Failed to initiate OAuth"
          }
        }
      }
    },
    "/v1/auth/google/callback": {
      "get": {
        "summary": "Google OAuth callback",
        "description": "OAuth callback endpoint for Google authentication",
        "tags": [
          "Authentication"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "code",
            "schema": {
              "type": "string"
            },
            "description": "Google authorization code"
          },
          {
            "in": "query",
            "name": "state",
            "schema": {
              "type": "string"
            },
            "description": "State parameter for CSRF protection"
          }
        ],
        "responses": {
          "302": {
            "description": "Redirects to application with authentication token"
          },
          "400": {
            "description": "OAuth authentication failed"
          }
        }
      }
    },
    "/v1/auth/facebook": {
      "get": {
        "summary": "Facebook OAuth login initiation",
        "description": "Initiate Facebook OAuth authentication flow",
        "tags": [
          "Authentication"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "source",
            "schema": {
              "type": "string"
            },
            "description": "Source of request (public, admin, portal, mobile)"
          },
          {
            "in": "query",
            "name": "redirectTo",
            "schema": {
              "type": "string"
            },
            "description": "URL to redirect to after login"
          },
          {
            "in": "query",
            "name": "organizationSlug",
            "schema": {
              "type": "string"
            },
            "description": "Organization slug for portal login"
          }
        ],
        "responses": {
          "302": {
            "description": "Redirects to Facebook OAuth dialog"
          },
          "500": {
            "description": "Failed to initiate OAuth"
          }
        }
      }
    },
    "/v1/auth/facebook/callback": {
      "get": {
        "summary": "Facebook OAuth callback",
        "description": "OAuth callback endpoint for Facebook authentication",
        "tags": [
          "Authentication"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "code",
            "schema": {
              "type": "string"
            },
            "description": "Facebook authorization code"
          },
          {
            "in": "query",
            "name": "state",
            "schema": {
              "type": "string"
            },
            "description": "State parameter for CSRF protection"
          }
        ],
        "responses": {
          "302": {
            "description": "Redirects to application with authentication token"
          },
          "400": {
            "description": "OAuth authentication failed"
          }
        }
      }
    },
    "/v1/auth/apple": {
      "get": {
        "summary": "Apple OAuth login initiation",
        "description": "Initiate Apple OAuth authentication flow",
        "tags": [
          "Authentication"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "source",
            "schema": {
              "type": "string"
            },
            "description": "Source of request (public, admin, portal, mobile)"
          },
          {
            "in": "query",
            "name": "redirectTo",
            "schema": {
              "type": "string"
            },
            "description": "URL to redirect to after login"
          },
          {
            "in": "query",
            "name": "organizationSlug",
            "schema": {
              "type": "string"
            },
            "description": "Organization slug for portal login"
          }
        ],
        "responses": {
          "302": {
            "description": "Redirects to Apple authentication flow"
          },
          "500": {
            "description": "Failed to initiate OAuth"
          }
        }
      }
    },
    "/v1/auth/apple/callback": {
      "post": {
        "summary": "Apple OAuth callback",
        "description": "OAuth callback endpoint for Apple authentication",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string",
                    "description": "Apple authorization code"
                  },
                  "state": {
                    "type": "string",
                    "description": "State parameter for CSRF protection"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "302": {
            "description": "Redirects to application with authentication token"
          },
          "400": {
            "description": "OAuth authentication failed"
          }
        }
      }
    },
    "/v1/auth/oauth/status": {
      "get": {
        "summary": "Check OAuth providers status",
        "description": "Check which OAuth providers (Google, Facebook, Apple) are configured and available",
        "tags": [
          "Authentication"
        ],
        "responses": {
          "200": {
            "description": "OAuth providers configuration status"
          },
          "500": {
            "description": "Failed to check OAuth status"
          }
        }
      }
    },
    "/v1/cms/sites/{orgSlug}": {
      "get": {
        "summary": "Get CMS site by organization slug",
        "description": "Retrieve CMS site configuration and published content by organization slug",
        "tags": [
          "CMS - Public"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "orgSlug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Organization slug"
          }
        ],
        "responses": {
          "200": {
            "description": "CMS site with branding, FAQ, and news content"
          },
          "404": {
            "description": "Site not found"
          },
          "500": {
            "description": "Failed to fetch site"
          }
        }
      }
    },
    "/v1/corporate/employees": {
      "get": {
        "summary": "Get corporate employees",
        "description": "Retrieve all employees (contacts with type='employee') for the corporate organization",
        "tags": [
          "Corporate - Employees"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of employees"
          },
          "401": {
            "description": "User not authenticated"
          },
          "403": {
            "description": "Corporate organization access required"
          },
          "500": {
            "description": "Failed to fetch employees"
          }
        }
      },
      "post": {
        "summary": "Create employee",
        "description": "Create a new employee (contact with type='employee')",
        "tags": [
          "Corporate - Employees"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Employee name"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Employee email"
                  },
                  "phone": {
                    "type": "string",
                    "description": "Employee phone number"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Employee created"
          },
          "400": {
            "description": "Employee with this email already exists"
          },
          "401": {
            "description": "User not authenticated"
          },
          "403": {
            "description": "Corporate organization access required"
          },
          "500": {
            "description": "Failed to create employee"
          }
        }
      }
    },
    "/v1/corporate/employees/{id}": {
      "get": {
        "summary": "Get employee by ID",
        "description": "Retrieve a specific employee",
        "tags": [
          "Corporate - Employees"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Employee ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Employee details"
          },
          "401": {
            "description": "User not authenticated"
          },
          "403": {
            "description": "Corporate organization access required"
          },
          "404": {
            "description": "Employee not found"
          },
          "500": {
            "description": "Failed to fetch employee"
          }
        }
      },
      "put": {
        "summary": "Update employee",
        "description": "Update an existing employee",
        "tags": [
          "Corporate - Employees"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Employee ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "phone": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Employee updated"
          },
          "400": {
            "description": "Employee with this email already exists"
          },
          "401": {
            "description": "User not authenticated"
          },
          "403": {
            "description": "Corporate organization access required"
          },
          "404": {
            "description": "Employee not found"
          },
          "500": {
            "description": "Failed to update employee"
          }
        }
      },
      "delete": {
        "summary": "Delete employee",
        "description": "Delete an employee",
        "tags": [
          "Corporate - Employees"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Employee ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Employee deleted"
          },
          "401": {
            "description": "User not authenticated"
          },
          "403": {
            "description": "Corporate organization access required"
          },
          "404": {
            "description": "Employee not found"
          },
          "500": {
            "description": "Failed to delete employee"
          }
        }
      }
    },
    "/v1/corporate/onboarding/complete": {
      "post": {
        "summary": "Complete corporate onboarding",
        "description": "Create a new corporate organization during user onboarding",
        "tags": [
          "Corporate - Onboarding"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "companyName"
                ],
                "properties": {
                  "companyName": {
                    "type": "string",
                    "description": "Name of the company"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Corporate organization created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "organization": {
                      "type": "object"
                    },
                    "token": {
                      "type": "string",
                      "description": "JWT token with organization context"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error (company name required or already has corporate org)"
          },
          "401": {
            "description": "User not authenticated"
          },
          "500": {
            "description": "Failed to create corporate organization"
          }
        }
      }
    },
    "/v1/kiosk/booking": {
      "post": {
        "summary": "Create kiosk booking",
        "description": "Create a booking from a kiosk using member identification (code, PIN, or scan data)",
        "tags": [
          "Kiosk"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [],
                "properties": {
                  "code": {
                    "type": "string",
                    "description": "Member code for identification"
                  },
                  "pin": {
                    "type": "string",
                    "description": "Member PIN for identification"
                  },
                  "scanData": {
                    "type": "string",
                    "description": "Scan data (e.g., from barcode/QR code)"
                  },
                  "type": {
                    "type": "string",
                    "description": "Identification method type"
                  },
                  "areaId": {
                    "type": "integer",
                    "description": "Area ID (required if not classId or instructorId)"
                  },
                  "classId": {
                    "type": "integer",
                    "description": "Class ID (required if not areaId or instructorId)"
                  },
                  "instructorId": {
                    "type": "integer",
                    "description": "Instructor ID (required if not areaId or classId)"
                  },
                  "startTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Booking start time (required for area/instructor, ignored for class)"
                  },
                  "endTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Booking end time (required for area/instructor, ignored for class)"
                  },
                  "notes": {
                    "type": "string",
                    "description": "Optional booking notes"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Booking created successfully"
          },
          "400": {
            "description": "Validation error (missing required fields or invalid member)"
          },
          "404": {
            "description": "Area, class, or instructor not found"
          },
          "500": {
            "description": "Failed to create booking"
          }
        }
      }
    },
    "/v1/kiosk/checkin": {
      "post": {
        "summary": "Create kiosk checkin",
        "description": "Check in a member from a kiosk using member identification (requires club ID)",
        "tags": [
          "Kiosk"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "clubId"
                ],
                "properties": {
                  "code": {
                    "type": "string",
                    "description": "Member code for identification"
                  },
                  "pin": {
                    "type": "string",
                    "description": "Member PIN for identification"
                  },
                  "scanData": {
                    "type": "string",
                    "description": "Scan data (e.g., from barcode/QR code)"
                  },
                  "type": {
                    "type": "string",
                    "description": "Identification method type"
                  },
                  "clubId": {
                    "type": "integer",
                    "description": "Club ID where checkin is happening"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Checkin successful or warning (already checked in)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": [
                        "success",
                        "warning",
                        "error"
                      ]
                    },
                    "message": {
                      "type": "string"
                    },
                    "member": {
                      "type": "object"
                    },
                    "checkinId": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error (no booking or membership)"
          },
          "404": {
            "description": "Club or member not found"
          },
          "500": {
            "description": "Failed to check in"
          }
        }
      }
    },
    "/v1/kiosk/membership": {
      "post": {
        "summary": "Create kiosk membership",
        "description": "Create a membership from a kiosk using member identification",
        "tags": [
          "Kiosk"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "planId"
                ],
                "properties": {
                  "code": {
                    "type": "string",
                    "description": "Member code for identification"
                  },
                  "pin": {
                    "type": "string",
                    "description": "Member PIN for identification"
                  },
                  "scanData": {
                    "type": "string",
                    "description": "Scan data (e.g., from barcode/QR code)"
                  },
                  "type": {
                    "type": "string",
                    "description": "Identification method type"
                  },
                  "planId": {
                    "type": "integer",
                    "description": "Plan ID for the membership"
                  },
                  "startDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Membership start date (defaults to today)"
                  },
                  "endDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Membership end date (calculated from plan if not provided)"
                  },
                  "autoRenew": {
                    "type": "boolean",
                    "description": "Auto-renew flag (defaults to plan's defaultAutoRenewal)"
                  },
                  "clubId": {
                    "type": "integer",
                    "description": "Optional club ID for the membership"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Membership created successfully"
          },
          "400": {
            "description": "Validation error (invalid plan or member)"
          },
          "500": {
            "description": "Failed to create membership"
          }
        }
      }
    },
    "/v1/public/ai-report/health": {
      "get": {
        "summary": "AI Report health check",
        "tags": [
          "AI Report"
        ],
        "responses": {
          "200": {
            "description": "Service health status"
          }
        }
      }
    },
    "/v1/public/ai-report/auth": {
      "post": {
        "summary": "Generate AI report authentication token",
        "description": "Generate a JWT token from email for accessing AI report endpoints",
        "tags": [
          "AI Report"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "User email address"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Token generated successfully"
          },
          "400": {
            "description": "Invalid or missing email"
          },
          "500": {
            "description": "Failed to generate token"
          }
        }
      }
    },
    "/v1/public/ai-report/reports": {
      "get": {
        "summary": "Get saved AI reports",
        "description": "Retrieve all AI reports saved for the authenticated user email",
        "tags": [
          "AI Report"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of saved reports"
          },
          "401": {
            "description": "Unauthorized - invalid or missing token"
          },
          "500": {
            "description": "Failed to retrieve reports"
          }
        }
      }
    },
    "/v1/public/ai-report/reports/{id}": {
      "get": {
        "summary": "Get specific AI report by ID",
        "description": "Retrieve a specific AI report by ID. Requires verification token if email is not verified.",
        "tags": [
          "AI Report"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Report ID"
          },
          {
            "in": "query",
            "name": "token",
            "schema": {
              "type": "string"
            },
            "description": "Email verification token (required if email not verified)"
          }
        ],
        "responses": {
          "200": {
            "description": "Report retrieved successfully"
          },
          "400": {
            "description": "Invalid report ID or missing verification token"
          },
          "404": {
            "description": "Report not found"
          },
          "500": {
            "description": "Failed to retrieve report"
          }
        }
      }
    },
    "/v1/public/ai-report/search-places": {
      "post": {
        "summary": "Search business places",
        "description": "Search for business places using Google Places API",
        "tags": [
          "AI Report"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "query"
                ],
                "properties": {
                  "query": {
                    "type": "string",
                    "description": "Business name or search query (minimum 2 characters)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Search results returned"
          },
          "400": {
            "description": "Invalid or missing search query"
          },
          "500": {
            "description": "Failed to search places"
          }
        }
      }
    },
    "/v1/public/ai-report/fetch-business": {
      "post": {
        "summary": "Fetch business data from Google Places",
        "description": "Fetch detailed business information using business name or Google Place ID",
        "tags": [
          "AI Report"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "businessName": {
                    "type": "string",
                    "description": "Business name"
                  },
                  "placeId": {
                    "type": "string",
                    "description": "Google Place ID"
                  }
                },
                "description": "Either businessName or placeId is required"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Business data fetched successfully"
          },
          "400": {
            "description": "Missing businessName or placeId"
          },
          "404": {
            "description": "Business not found"
          },
          "500": {
            "description": "Failed to fetch business data"
          }
        }
      }
    },
    "/v1/public/ai-report/analyze-reviews": {
      "post": {
        "summary": "Analyze business reviews",
        "description": "AI analysis of business reviews to identify trends and sentiment",
        "tags": [
          "AI Report"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "businessData"
                ],
                "properties": {
                  "businessData": {
                    "type": "object",
                    "description": "Business data including reviews"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Review analysis completed"
          },
          "400": {
            "description": "Missing business data"
          },
          "429": {
            "description": "Rate limit exceeded"
          },
          "500": {
            "description": "Failed to analyze reviews"
          }
        }
      }
    },
    "/v1/public/ai-report/analyze-profile-content": {
      "post": {
        "summary": "Analyze business profile content",
        "description": "AI analysis of business profile completeness and quality",
        "tags": [
          "AI Report"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "businessData"
                ],
                "properties": {
                  "businessData": {
                    "type": "object",
                    "description": "Business profile data"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profile analysis completed"
          },
          "400": {
            "description": "Missing business data"
          },
          "429": {
            "description": "Rate limit exceeded"
          },
          "500": {
            "description": "Failed to analyze profile content"
          }
        }
      }
    },
    "/v1/public/ai-report/analyze-ai-discoverability": {
      "post": {
        "summary": "Analyze AI discoverability",
        "description": "Analyze how discoverable a business is to AI crawlers and LLMs",
        "tags": [
          "AI Report"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "website"
                ],
                "properties": {
                  "website": {
                    "type": "string",
                    "format": "uri",
                    "description": "Business website URL"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "AI discoverability analysis completed"
          },
          "400": {
            "description": "Missing website URL"
          },
          "429": {
            "description": "Rate limit exceeded"
          },
          "500": {
            "description": "Failed to analyze AI discoverability"
          }
        }
      }
    },
    "/v1/public/ai-report/analyze-pagespeed": {
      "post": {
        "summary": "Analyze website performance",
        "description": "Analyze website loading speed and performance metrics using PageSpeed API",
        "tags": [
          "AI Report"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "website"
                ],
                "properties": {
                  "website": {
                    "type": "string",
                    "format": "uri",
                    "description": "Website URL to analyze"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Website performance analysis completed"
          },
          "400": {
            "description": "Missing website URL"
          },
          "429": {
            "description": "Rate limit exceeded"
          },
          "500": {
            "description": "Failed to analyze website performance"
          }
        }
      }
    },
    "/v1/public/ai-report/save-report": {
      "post": {
        "summary": "Save AI report to database",
        "description": "Save a generated AI report with all analysis results. Email can be added later via submit-email endpoint.",
        "tags": [
          "AI Report"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "businessName",
                  "businessData"
                ],
                "properties": {
                  "businessName": {
                    "type": "string"
                  },
                  "businessData": {
                    "type": "object",
                    "description": "Business information data"
                  },
                  "googlePlaceId": {
                    "type": "string"
                  },
                  "reviewAnalysis": {
                    "type": "object"
                  },
                  "profileContentAnalysis": {
                    "type": "object"
                  },
                  "businessInfoAnalysis": {
                    "type": "object"
                  },
                  "aiDiscoverabilityAnalysis": {
                    "type": "object"
                  },
                  "pageSpeedData": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Report saved successfully"
          },
          "400": {
            "description": "Missing required business data"
          },
          "500": {
            "description": "Failed to save report"
          }
        }
      }
    },
    "/v1/public/ai-report/reports/{id}/selected-competitors": {
      "patch": {
        "summary": "Update selected competitors for a report",
        "description": "Update the list of user-selected competitors for an existing report",
        "tags": [
          "AI Report"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Report ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "selectedCompetitors"
                ],
                "properties": {
                  "selectedCompetitors": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Selected competitors updated successfully"
          },
          "400": {
            "description": "Invalid request"
          },
          "404": {
            "description": "Report not found"
          },
          "500": {
            "description": "Failed to update selected competitors"
          }
        }
      }
    },
    "/v1/public/ai-report/submit-email": {
      "post": {
        "summary": "Submit email for report verification",
        "description": "Submit an email address for a saved report and send verification email",
        "tags": [
          "AI Report"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "reportId",
                  "email"
                ],
                "properties": {
                  "reportId": {
                    "type": "string",
                    "description": "Report ID"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Email address for verification"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Verification email sent successfully"
          },
          "400": {
            "description": "Invalid report ID or email"
          },
          "404": {
            "description": "Report not found"
          },
          "500": {
            "description": "Failed to submit email"
          }
        }
      }
    },
    "/v1/public/ai-report/verify-email": {
      "post": {
        "summary": "Verify email with token",
        "description": "Verify an email address for a report using the verification token from email",
        "tags": [
          "AI Report"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "reportId",
                  "token"
                ],
                "properties": {
                  "reportId": {
                    "type": "string",
                    "description": "Report ID"
                  },
                  "token": {
                    "type": "string",
                    "description": "Email verification token"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Email verified successfully"
          },
          "400": {
            "description": "Invalid report ID or verification token"
          },
          "404": {
            "description": "Report not found"
          },
          "500": {
            "description": "Failed to verify email"
          }
        }
      }
    },
    "/v1/public/amenities": {
      "get": {
        "summary": "Get all available amenities",
        "tags": [
          "Public"
        ],
        "responses": {
          "200": {
            "description": "List of all available amenities with metadata",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "description": "Amenity ID"
                      },
                      "name": {
                        "type": "string",
                        "description": "Amenity name"
                      },
                      "lucideIcon": {
                        "type": "string",
                        "description": "Lucide icon name"
                      },
                      "category": {
                        "type": "string",
                        "description": "Amenity category"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/public/area-types": {
      "get": {
        "summary": "List public area types",
        "description": "Get list of all area types. Authorized members see additional types.",
        "tags": [
          "Public - Areas"
        ],
        "responses": {
          "200": {
            "description": "List of area types"
          },
          "500": {
            "description": "Failed to fetch area types"
          }
        }
      }
    },
    "/v1/public/area-types/slug/{slug}": {
      "get": {
        "summary": "Get area type by slug",
        "description": "Retrieve a specific area type by its slug identifier",
        "tags": [
          "Public - Areas"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Area type slug"
          }
        ],
        "responses": {
          "200": {
            "description": "Area type details"
          },
          "404": {
            "description": "Area type not found"
          },
          "500": {
            "description": "Failed to fetch area type"
          }
        }
      }
    },
    "/v1/public/area-types/{id}": {
      "get": {
        "summary": "Get area type by ID",
        "description": "Retrieve a specific area type by its numeric identifier",
        "tags": [
          "Public - Areas"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Area type ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Area type details"
          },
          "404": {
            "description": "Area type not found"
          },
          "500": {
            "description": "Failed to fetch area type"
          }
        }
      }
    },
    "/v1/public/areas": {
      "get": {
        "summary": "List public areas",
        "description": "Get list of public areas. Authorized members can also see member-only areas. Results can be filtered by organization and area type.",
        "tags": [
          "Public - Areas"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by organization ID"
          },
          {
            "in": "query",
            "name": "areaTypeSlug",
            "schema": {
              "type": "string"
            },
            "description": "Filter by area type slug"
          }
        ],
        "responses": {
          "200": {
            "description": "List of public areas"
          },
          "500": {
            "description": "Failed to fetch areas"
          }
        }
      }
    },
    "/v1/public/areas/{id}": {
      "get": {
        "summary": "Get public area by ID",
        "description": "Retrieve detailed information for a specific area",
        "tags": [
          "Public - Areas"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Area ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Area details"
          },
          "404": {
            "description": "Area not found"
          },
          "500": {
            "description": "Failed to fetch area"
          }
        }
      }
    },
    "/v1/public/areas/{id}/availability": {
      "get": {
        "summary": "Check area availability",
        "description": "Check availability for an area on a specific date or date range",
        "tags": [
          "Public - Areas"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Area ID"
          },
          {
            "in": "query",
            "name": "date",
            "schema": {
              "type": "string"
            },
            "description": "Single date to check (ISO format, required if startDate/endDate not provided)"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string"
            },
            "description": "Range start date (ISO format, requires endDate)"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string"
            },
            "description": "Range end date (ISO format, requires startDate)"
          }
        ],
        "responses": {
          "200": {
            "description": "Availability information for requested date(s)"
          },
          "400": {
            "description": "Missing required date parameters"
          },
          "500": {
            "description": "Failed to check availability"
          }
        }
      }
    },
    "/v1/public/classes": {
      "get": {
        "summary": "Get all public classes",
        "description": "Retrieve a list of all public classes available in the system",
        "tags": [
          "Public - Classes"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID to filter classes (optional)"
          }
        ],
        "responses": {
          "200": {
            "description": "List of public classes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Class ID"
                      },
                      "name": {
                        "type": "string",
                        "description": "Class name"
                      },
                      "description": {
                        "type": "string",
                        "description": "Class description"
                      },
                      "date": {
                        "type": "string",
                        "format": "date",
                        "description": "Class date"
                      },
                      "startTime": {
                        "type": "string",
                        "description": "Class start time"
                      },
                      "endTime": {
                        "type": "string",
                        "description": "Class end time"
                      },
                      "duration": {
                        "type": "number",
                        "description": "Class duration in hours"
                      },
                      "maxCapacity": {
                        "type": "integer",
                        "description": "Maximum class capacity"
                      },
                      "price": {
                        "type": "number",
                        "description": "Class price"
                      },
                      "sport": {
                        "type": "string",
                        "description": "Class sport"
                      },
                      "isRecurring": {
                        "type": "boolean",
                        "description": "Whether class is recurring"
                      },
                      "images": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Class images"
                      },
                      "clubs": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "description": "Club ID"
                          },
                          "name": {
                            "type": "string",
                            "description": "Club name"
                          },
                          "slug": {
                            "type": "string",
                            "description": "Club slug"
                          }
                        }
                      },
                      "instructors": {
                        "type": "object",
                        "properties": {
                          "contacts": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "description": "Instructor contact ID"
                              },
                              "name": {
                                "type": "string",
                                "description": "Instructor name"
                              },
                              "profileImage": {
                                "type": "string",
                                "description": "Instructor profile image"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/classes/{id}": {
      "get": {
        "summary": "Get public class by ID",
        "description": "Retrieve a specific public class by its ID",
        "tags": [
          "Public - Classes"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Class ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Class details",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Class ID"
                    },
                    "name": {
                      "type": "string",
                      "description": "Class name"
                    },
                    "description": {
                      "type": "string",
                      "description": "Class description"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Class not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/clubs": {
      "get": {
        "summary": "Get all public clubs",
        "description": "Retrieve a list of all public clubs available in the system",
        "tags": [
          "Public - Clubs"
        ],
        "responses": {
          "200": {
            "description": "List of public clubs",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Club ID"
                      },
                      "name": {
                        "type": "string",
                        "description": "Club name"
                      },
                      "city": {
                        "type": "string",
                        "description": "City where the club is located"
                      },
                      "sport": {
                        "type": "string",
                        "description": "Primary sport of the club"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/clubs/cities": {
      "get": {
        "summary": "Get public cities with clubs",
        "description": "Retrieve list of cities that have public clubs",
        "tags": [
          "Public - Clubs"
        ],
        "responses": {
          "200": {
            "description": "List of cities with public clubs"
          },
          "500": {
            "description": "Failed to fetch cities"
          }
        }
      }
    },
    "/v1/public/clubs/{slug}/areas": {
      "get": {
        "summary": "Get areas for a club",
        "description": "Retrieve all areas available at a specific club by slug",
        "tags": [
          "Public - Clubs"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Club slug"
          }
        ],
        "responses": {
          "200": {
            "description": "List of club areas"
          },
          "404": {
            "description": "Club not found"
          },
          "500": {
            "description": "Failed to fetch club areas"
          }
        }
      }
    },
    "/v1/public/clubs/{slug}/area-types": {
      "get": {
        "summary": "Get area types for a club",
        "description": "Retrieve all area types available at a specific club, optionally filtered by bookability and status",
        "tags": [
          "Public - Clubs"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Club slug"
          },
          {
            "in": "query",
            "name": "isBookable",
            "schema": {
              "type": "string",
              "enum": [
                "true",
                "false"
              ]
            },
            "description": "Filter by bookable status"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            },
            "description": "Filter by area type status"
          }
        ],
        "responses": {
          "200": {
            "description": "List of club area types"
          },
          "404": {
            "description": "Club not found"
          },
          "500": {
            "description": "Failed to fetch club area types"
          }
        }
      }
    },
    "/v1/public/clubs/{slug}/classes": {
      "get": {
        "summary": "Get classes for a club",
        "description": "Retrieve all classes available at a specific club, optionally filtered by date range and sport",
        "tags": [
          "Public - Clubs"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Club slug"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Filter classes starting from this date"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Filter classes until this date"
          },
          {
            "in": "query",
            "name": "sport",
            "schema": {
              "type": "string"
            },
            "description": "Filter by sport (can be comma-separated for multiple)"
          }
        ],
        "responses": {
          "200": {
            "description": "List of club classes"
          },
          "404": {
            "description": "Club not found"
          },
          "500": {
            "description": "Failed to fetch club classes"
          }
        }
      }
    },
    "/v1/public/custom-fields/{organizationSlug}": {
      "get": {
        "summary": "Get custom fields for organization",
        "description": "Fetch custom fields for signup forms. Returns only active fields, optionally filtered by contact type and signup requirement.",
        "tags": [
          "Public - Custom Fields"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "organizationSlug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Organization slug"
          },
          {
            "in": "query",
            "name": "contactType",
            "schema": {
              "type": "string"
            },
            "description": "Filter by contact type (e.g., member, guest)"
          },
          {
            "in": "query",
            "name": "requireOnSignup",
            "schema": {
              "type": "string",
              "enum": [
                "true",
                "false"
              ]
            },
            "description": "Filter to only fields required on signup"
          }
        ],
        "responses": {
          "200": {
            "description": "List of custom fields with options and validation rules"
          },
          "404": {
            "description": "Organization not found"
          },
          "500": {
            "description": "Failed to fetch custom fields"
          }
        }
      }
    },
    "/v1/public/organizations/{orgSlug}/content": {
      "get": {
        "summary": "Get published CMS content for an organization",
        "description": "Retrieve published CMS content by type for portal display",
        "tags": [
          "Public - Organizations"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "orgSlug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Organization slug"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string"
            },
            "description": "Content type filter (announcement, faq, how-to-guide, etc.)"
          }
        ],
        "responses": {
          "200": {
            "description": "List of published content"
          },
          "404": {
            "description": "Organization not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/organizations/{orgSlug}/content/{contentSlug}": {
      "get": {
        "summary": "Get published CMS content by slug for an organization",
        "description": "Retrieve a single published CMS content item by slug",
        "tags": [
          "Public - Organizations"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "orgSlug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Organization slug"
          },
          {
            "in": "path",
            "name": "contentSlug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Content slug"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string"
            },
            "description": "Content type filter (optional)"
          }
        ],
        "responses": {
          "200": {
            "description": "Content item"
          },
          "404": {
            "description": "Content not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/documents/accept/{token}": {
      "get": {
        "summary": "Get document for acceptance",
        "description": "Retrieve document content and acceptance form. Token must be valid and not expired.",
        "tags": [
          "Public - Documents"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "token",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Document acceptance token"
          }
        ],
        "responses": {
          "200": {
            "description": "Document details and contact information"
          },
          "400": {
            "description": "Invalid or expired token"
          },
          "404": {
            "description": "Document or contact not found"
          },
          "500": {
            "description": "Failed to fetch document"
          }
        }
      },
      "post": {
        "summary": "Accept and sign document",
        "description": "Sign/accept a document. Captures IP address and user agent for audit trail. Token must be valid and document must not already be signed.",
        "tags": [
          "Public - Documents"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "token",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Document acceptance token"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "accepted": {
                    "type": "boolean",
                    "description": "Must be true to accept document"
                  }
                },
                "required": [
                  "accepted"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Document signed successfully"
          },
          "400": {
            "description": "Invalid token, already signed, or acceptance not provided"
          },
          "404": {
            "description": "Document not found"
          },
          "500": {
            "description": "Failed to sign document"
          }
        }
      }
    },
    "/v1/public/organizations/{slug}/documents/signup": {
      "get": {
        "summary": "Get signup documents for organization",
        "description": "Retrieve documents required for member signup, filtered by household role if applicable. Returns document metadata including title, slug, rule information, and household role filters.",
        "tags": [
          "Public - Documents"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Organization slug"
          }
        ],
        "responses": {
          "200": {
            "description": "List of signup documents with rule information and optional household role filters"
          },
          "404": {
            "description": "Organization not found"
          },
          "500": {
            "description": "Failed to fetch documents"
          }
        }
      }
    },
    "/v1/public/organizations/{slug}/documents/household-member": {
      "get": {
        "summary": "Get household member documents by role",
        "description": "Retrieve documents required for adding a household member (e.g., family member) with a specific role. Commonly used when adding dependents or other household roles during portal signup.",
        "tags": [
          "Public - Documents"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Organization slug"
          },
          {
            "in": "query",
            "name": "role",
            "schema": {
              "type": "string",
              "default": "dependent"
            },
            "description": "Household role (e.g., dependent, spouse, parent)"
          }
        ],
        "responses": {
          "200": {
            "description": "List of documents required for the specified household role"
          },
          "404": {
            "description": "Organization not found"
          },
          "500": {
            "description": "Failed to fetch documents"
          }
        }
      }
    },
    "/v1/public/instructors": {
      "get": {
        "summary": "Get public instructors",
        "description": "Retrieve public instructors filtered by organization slug or club slug",
        "tags": [
          "Public - Instructors"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationSlug",
            "schema": {
              "type": "string"
            },
            "description": "Filter instructors by organization slug"
          },
          {
            "in": "query",
            "name": "clubSlug",
            "schema": {
              "type": "string"
            },
            "description": "Filter instructors by club slug"
          }
        ],
        "responses": {
          "200": {
            "description": "List of public instructors",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - either organizationSlug or clubSlug is required"
          },
          "404": {
            "description": "Organization or club not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/instructors/{id}": {
      "get": {
        "summary": "Get single public instructor",
        "description": "Retrieve details of a specific public instructor",
        "tags": [
          "Public - Instructors"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Instructor ID"
          },
          {
            "in": "query",
            "name": "organizationSlug",
            "schema": {
              "type": "string"
            },
            "description": "Organization slug for validation"
          },
          {
            "in": "query",
            "name": "clubSlug",
            "schema": {
              "type": "string"
            },
            "description": "Club slug for validation"
          }
        ],
        "responses": {
          "200": {
            "description": "Instructor details",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - invalid instructor ID"
          },
          "404": {
            "description": "Instructor not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/instructors/{id}/availability": {
      "get": {
        "summary": "Get instructor availability/bookings",
        "description": "Retrieve all bookings for a specific instructor in a date range",
        "tags": [
          "Public - Instructors"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Instructor ID"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Start date for availability check"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "End date for availability check"
          }
        ],
        "responses": {
          "200": {
            "description": "List of instructor bookings"
          },
          "404": {
            "description": "Instructor not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/organizations/by-slug/{slug}/plans": {
      "get": {
        "summary": "Get plans for an organization by slug",
        "description": "Retrieve all active plans for an organization",
        "tags": [
          "Public - Organizations"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Organization slug"
          }
        ],
        "responses": {
          "200": {
            "description": "List of organization plans",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "name": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "price": {
                        "type": "number"
                      },
                      "billingFrequency": {
                        "type": "string"
                      },
                      "signupFee": {
                        "type": "number"
                      },
                      "clubs": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "name": {
                            "type": "string"
                          },
                          "slug": {
                            "type": "string"
                          },
                          "logo": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Organization not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/organizations/by-slug/{slug}": {
      "get": {
        "summary": "Get organization by slug (public)",
        "description": "Retrieve organization information by its slug for portal access",
        "tags": [
          "Public - Organizations"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Organization slug"
          }
        ],
        "responses": {
          "200": {
            "description": "Organization information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Organization ID"
                    },
                    "name": {
                      "type": "string",
                      "description": "Organization name"
                    },
                    "slug": {
                      "type": "string",
                      "description": "Organization slug"
                    },
                    "description": {
                      "type": "string",
                      "description": "Organization description"
                    },
                    "logo": {
                      "type": "string",
                      "description": "Organization logo URL"
                    },
                    "website": {
                      "type": "string",
                      "description": "Organization website"
                    },
                    "phone": {
                      "type": "string",
                      "description": "Organization phone"
                    },
                    "email": {
                      "type": "string",
                      "description": "Organization email"
                    },
                    "address": {
                      "type": "string",
                      "description": "Organization address"
                    },
                    "city": {
                      "type": "string",
                      "description": "Organization city"
                    },
                    "state": {
                      "type": "string",
                      "description": "Organization state"
                    },
                    "country": {
                      "type": "string",
                      "description": "Organization country"
                    },
                    "branding": {
                      "type": "object",
                      "description": "Organization branding settings",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "organizationId": {
                          "type": "integer"
                        },
                        "accentColor": {
                          "type": "string",
                          "description": "Accent color for UI elements"
                        },
                        "backgroundColor": {
                          "type": "string",
                          "description": "Background color"
                        },
                        "faviconUrl": {
                          "type": "string",
                          "description": "Favicon URL"
                        },
                        "fontFamily": {
                          "type": "string",
                          "description": "Primary font family"
                        },
                        "headingFontFamily": {
                          "type": "string",
                          "description": "Heading font family"
                        },
                        "logoAltText": {
                          "type": "string",
                          "description": "Logo alt text"
                        },
                        "logoUrl": {
                          "type": "string",
                          "description": "Logo URL"
                        },
                        "primaryColor": {
                          "type": "string",
                          "description": "Primary brand color"
                        },
                        "secondaryColor": {
                          "type": "string",
                          "description": "Secondary brand color"
                        },
                        "textColor": {
                          "type": "string",
                          "description": "Primary text color"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Organization not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/organizations/by-email": {
      "post": {
        "summary": "Get organizations by user email",
        "description": "Retrieve all organizations that a user is a member of by their email address",
        "tags": [
          "Public - Organizations"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "User email address"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "List of organizations the user is a member of",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Organization ID"
                      },
                      "name": {
                        "type": "string",
                        "description": "Organization name"
                      },
                      "slug": {
                        "type": "string",
                        "description": "Organization slug"
                      },
                      "logo": {
                        "type": "string",
                        "description": "Organization logo URL"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - email is required"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/organizations/{slug}/membership": {
      "get": {
        "summary": "Check user membership in organization",
        "description": "Check if the current user is a member of the organization",
        "tags": [
          "Public - Organizations"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Organization slug"
          }
        ],
        "responses": {
          "200": {
            "description": "User membership information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "isMember": {
                      "type": "boolean"
                    },
                    "role": {
                      "type": "string"
                    },
                    "status": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Organization not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/organizations/{identifier}/currency": {
      "get": {
        "summary": "Get organization currency information",
        "description": "Retrieve currency information for an organization by its ID or slug",
        "tags": [
          "Public - Organizations"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "identifier",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Organization ID or slug"
          }
        ],
        "responses": {
          "200": {
            "description": "Organization currency information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "description": "Currency code (e.g., USD, EUR)"
                    },
                    "symbol": {
                      "type": "string",
                      "description": "Currency symbol (e.g., $, )"
                    },
                    "decimals": {
                      "type": "integer",
                      "description": "Number of decimal places"
                    },
                    "name": {
                      "type": "string",
                      "description": "Currency name"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Organization not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/plans/{id}": {
      "get": {
        "summary": "Get plan by ID",
        "description": "Retrieve a single plan by ID with club information",
        "tags": [
          "Public - Plans"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Plan ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Plan details"
          },
          "404": {
            "description": "Plan not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/pricing/calculate": {
      "post": {
        "summary": "Calculate price for a booking (public endpoint)",
        "description": "Calculate the price for a booking using applicable pricing rules. This endpoint is publicly accessible.",
        "tags": [
          "Public - Pricing"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "organizationId",
                  "startTime",
                  "endTime"
                ],
                "properties": {
                  "organizationId": {
                    "type": "integer"
                  },
                  "startTime": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "endTime": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "areaId": {
                    "type": "integer"
                  },
                  "instructorId": {
                    "type": "integer"
                  },
                  "classId": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Calculated price with adjustments"
          },
          "400": {
            "description": "Invalid input"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/pricing/sheet": {
      "post": {
        "summary": "Get pricing sheet for a resource (public endpoint)",
        "description": "Returns prices for all time slots in a day for a specific resource (area, instructor, etc.). Used to display prices under each slot.",
        "tags": [
          "Public - Pricing"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "organizationId",
                  "date"
                ],
                "properties": {
                  "organizationId": {
                    "type": "integer"
                  },
                  "date": {
                    "type": "string",
                    "format": "date",
                    "example": "2024-01-15"
                  },
                  "areaId": {
                    "type": "integer"
                  },
                  "instructorId": {
                    "type": "integer"
                  },
                  "slotDurationMinutes": {
                    "type": "integer",
                    "default": 30
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Pricing sheet with slot prices"
          },
          "400": {
            "description": "Invalid input"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/reviews/club/{clubId}": {
      "get": {
        "summary": "Get reviews for a club",
        "tags": [
          "Public Reviews"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "clubId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Club ID"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 20
            },
            "description": "Number of reviews to return"
          },
          {
            "in": "query",
            "name": "offset",
            "schema": {
              "type": "integer",
              "default": 0
            },
            "description": "Number of reviews to skip"
          },
          {
            "in": "query",
            "name": "rating",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 5
            },
            "description": "Filter by rating"
          }
        ],
        "responses": {
          "200": {
            "description": "List of reviews for the club"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/reviews/club/{clubId}/stats": {
      "get": {
        "summary": "Get review statistics for a club",
        "tags": [
          "Public Reviews"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "clubId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Club ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Review statistics for the club"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/reviews/area/{areaId}": {
      "get": {
        "summary": "Get reviews for an area",
        "tags": [
          "Public Reviews"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "areaId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Area ID"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 20
            },
            "description": "Number of reviews to return"
          },
          {
            "in": "query",
            "name": "offset",
            "schema": {
              "type": "integer",
              "default": 0
            },
            "description": "Number of reviews to skip"
          },
          {
            "in": "query",
            "name": "rating",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 5
            },
            "description": "Filter by rating"
          }
        ],
        "responses": {
          "200": {
            "description": "List of reviews for the area"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/reviews/area/{areaId}/stats": {
      "get": {
        "summary": "Get review statistics for an area",
        "tags": [
          "Public Reviews"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "areaId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Area ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Review statistics for the area"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/public/search/parse": {
      "post": {
        "summary": "Parse search query",
        "description": "Parse natural language search query and convert to structured search parameters",
        "tags": [
          "Public - Search"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "query": {
                    "type": "string",
                    "description": "Natural language search query"
                  }
                },
                "required": [
                  "query"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Parsed search parameters"
          },
          "400": {
            "description": "Query parameter is required"
          },
          "500": {
            "description": "Failed to parse search query"
          }
        }
      }
    },
    "/v1/public/search/clubs": {
      "get": {
        "summary": "Search clubs",
        "description": "Search for clubs with advanced filtering by location, distance, price, rating, amenities, dates, and sports. Returns enriched club data with areas, plans, classes, and instructors.",
        "tags": [
          "Public - Search"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "sports",
            "schema": {
              "type": "string"
            },
            "description": "Comma-separated list of sports to filter by"
          },
          {
            "in": "query",
            "name": "location",
            "schema": {
              "type": "string"
            },
            "description": "Location text to filter by (city, state, country, address)"
          },
          {
            "in": "query",
            "name": "lat",
            "schema": {
              "type": "number"
            },
            "description": "Latitude for distance-based search"
          },
          {
            "in": "query",
            "name": "lng",
            "schema": {
              "type": "number"
            },
            "description": "Longitude for distance-based search"
          },
          {
            "in": "query",
            "name": "distance",
            "schema": {
              "type": "number",
              "default": 50
            },
            "description": "Maximum distance in kilometers (used with lat/lng)"
          },
          {
            "in": "query",
            "name": "minPrice",
            "schema": {
              "type": "number"
            },
            "description": "Minimum price filter"
          },
          {
            "in": "query",
            "name": "maxPrice",
            "schema": {
              "type": "number"
            },
            "description": "Maximum price filter"
          },
          {
            "in": "query",
            "name": "rating",
            "schema": {
              "type": "number"
            },
            "description": "Minimum average rating filter"
          },
          {
            "in": "query",
            "name": "amenities",
            "schema": {
              "type": "string"
            },
            "description": "Comma-separated list of amenities to filter by"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string"
            },
            "description": "Start date for class/date range filtering (ISO format)"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string"
            },
            "description": "End date for class/date range filtering (ISO format)"
          },
          {
            "in": "query",
            "name": "types",
            "schema": {
              "type": "string"
            },
            "description": "Comma-separated list of entity types to include (areas,classes,plans,instructors)"
          }
        ],
        "responses": {
          "200": {
            "description": "List of clubs matching search criteria with enriched data"
          },
          "500": {
            "description": "Failed to fetch clubs"
          }
        }
      }
    },
    "/v1/public/sports": {
      "get": {
        "summary": "Get sports available in public clubs",
        "description": "Returns only sports that are actually used in public clubs (from clubs.sports, area_types.sports, and classes.sport)",
        "tags": [
          "Public - Sports"
        ],
        "responses": {
          "200": {
            "description": "List of sports used in public clubs",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "icon": {
                        "type": "string"
                      },
                      "category": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/public/user-calendar/auth-url": {
      "get": {
        "summary": "Get Google Calendar authorization URL",
        "description": "Generate OAuth authorization URL for connecting user's Google Calendar",
        "tags": [
          "Public - User Calendar"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "scope",
            "schema": {
              "type": "string",
              "default": "readonly"
            },
            "description": "OAuth scope (readonly or readwrite)"
          }
        ],
        "responses": {
          "200": {
            "description": "Authorization URL for Google Calendar OAuth flow"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Google Calendar not configured or failed to generate URL"
          }
        }
      }
    },
    "/v1/public/user-calendar/callback": {
      "get": {
        "summary": "Google Calendar OAuth callback",
        "description": "Handle OAuth callback from Google Calendar. Completes authentication and saves calendar integration.",
        "tags": [
          "Public - User Calendar"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "code",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Authorization code from Google OAuth"
          },
          {
            "in": "query",
            "name": "state",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "User ID (state parameter from auth URL)"
          }
        ],
        "responses": {
          "200": {
            "description": "Calendar connected successfully (HTML response)"
          },
          "400": {
            "description": "Invalid or missing authorization code/state"
          },
          "500": {
            "description": "Failed to complete authorization"
          }
        }
      }
    },
    "/v1/public/user-calendar/status": {
      "get": {
        "summary": "Get calendar connection status",
        "description": "Check if user has connected Google Calendar and get integration details",
        "tags": [
          "Public - User Calendar"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Connection status and integration details if connected"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Failed to get connection status"
          }
        }
      }
    },
    "/v1/public/user-calendar/calendars": {
      "get": {
        "summary": "List user's Google Calendars",
        "description": "Get list of available calendars for authenticated Google Calendar integration",
        "tags": [
          "Public - User Calendar"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of available calendars"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Calendar not connected"
          },
          "500": {
            "description": "Google Calendar not configured or failed to list calendars"
          }
        }
      }
    },
    "/v1/public/user-calendar/connect": {
      "post": {
        "summary": "Connect/select calendar",
        "description": "Update calendar selection and optionally enable sync",
        "tags": [
          "Public - User Calendar"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "calendarId": {
                    "type": "string",
                    "description": "Google Calendar ID"
                  },
                  "calendarName": {
                    "type": "string",
                    "description": "Calendar display name"
                  },
                  "syncEnabled": {
                    "type": "boolean",
                    "description": "Enable calendar sync"
                  }
                },
                "required": [
                  "calendarId",
                  "calendarName"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Calendar connected successfully"
          },
          "400": {
            "description": "Calendar ID and name are required"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Calendar not connected"
          },
          "500": {
            "description": "Failed to update calendar connection"
          }
        }
      }
    },
    "/v1/public/user-calendar/disconnect": {
      "delete": {
        "summary": "Disconnect calendar",
        "description": "Remove Google Calendar integration for user",
        "tags": [
          "Public - User Calendar"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Calendar disconnected successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Failed to disconnect calendar"
          }
        }
      }
    },
    "/v1/public/user-calendar/sync-settings": {
      "patch": {
        "summary": "Update sync settings",
        "description": "Enable or disable calendar sync",
        "tags": [
          "Public - User Calendar"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "syncEnabled": {
                    "type": "boolean",
                    "description": "Enable or disable sync"
                  }
                },
                "required": [
                  "syncEnabled"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Sync settings updated successfully"
          },
          "400": {
            "description": "syncEnabled must be a boolean"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Failed to update sync settings"
          }
        }
      }
    },
    "/v1/public/user-calendar/check-availability": {
      "post": {
        "summary": "Check calendar availability",
        "description": "Check if user is available during specified time range based on calendar events",
        "tags": [
          "Public - User Calendar"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "startTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Start time of availability check"
                  },
                  "endTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "End time of availability check"
                  }
                },
                "required": [
                  "startTime",
                  "endTime"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Availability check result"
          },
          "400": {
            "description": "Start time and end time are required"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Failed to check availability"
          }
        }
      }
    },
    "/v1/public/user-calendar/suggest-times": {
      "post": {
        "summary": "Get suggested alternative times",
        "description": "Get AI-suggested alternative times for scheduling based on calendar availability and preferences",
        "tags": [
          "Public - User Calendar"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "preferredStartTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Preferred start time"
                  },
                  "durationMinutes": {
                    "type": "number",
                    "description": "Duration of event in minutes"
                  },
                  "searchWindowDays": {
                    "type": "number",
                    "description": "Number of days to search ahead"
                  },
                  "maxSuggestions": {
                    "type": "number",
                    "description": "Maximum number of suggestions to return"
                  },
                  "preferredHoursStart": {
                    "type": "number",
                    "description": "Preferred start hour (24-hour format)"
                  },
                  "preferredHoursEnd": {
                    "type": "number",
                    "description": "Preferred end hour (24-hour format)"
                  }
                },
                "required": [
                  "preferredStartTime",
                  "durationMinutes"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "List of suggested alternative times"
          },
          "400": {
            "description": "Preferred start time and duration are required"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Failed to suggest alternative times"
          }
        }
      }
    },
    "/v1/sports": {
      "get": {
        "summary": "Get organization sports",
        "description": "Retrieve sports aggregated from all clubs in the organization, with fallback to all sports",
        "tags": [
          "Sports"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of organization sports in select format",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "value": {
                        "type": "string",
                        "description": "Sport ID"
                      },
                      "label": {
                        "type": "string",
                        "description": "Sport name"
                      },
                      "icon": {
                        "type": "string",
                        "description": "Iconify icon name"
                      },
                      "category": {
                        "type": "string",
                        "description": "Sport category"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/sports/select": {
      "get": {
        "summary": "Get sports formatted for select components",
        "description": "Retrieve sports formatted for use in select/dropdown components",
        "tags": [
          "Sports"
        ],
        "responses": {
          "200": {
            "description": "List of sports for select components",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "value": {
                        "type": "string",
                        "description": "Sport ID"
                      },
                      "label": {
                        "type": "string",
                        "description": "Sport name"
                      },
                      "icon": {
                        "type": "string",
                        "description": "Iconify icon name"
                      },
                      "category": {
                        "type": "string",
                        "description": "Sport category"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/sports/all": {
      "get": {
        "summary": "Get all available sports",
        "description": "Retrieve a list of all available sports with their details",
        "tags": [
          "Sports"
        ],
        "responses": {
          "200": {
            "description": "List of all sports",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "description": "Sport ID"
                      },
                      "name": {
                        "type": "string",
                        "description": "Sport name"
                      },
                      "description": {
                        "type": "string",
                        "description": "Sport description"
                      },
                      "icon": {
                        "type": "string",
                        "description": "Iconify icon name (e.g., mdi:tennis)"
                      },
                      "category": {
                        "type": "string",
                        "description": "Sport category",
                        "enum": [
                          "racquet",
                          "team",
                          "fitness",
                          "water",
                          "outdoor",
                          "other"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/sports/wizard": {
      "get": {
        "summary": "Get sports formatted for wizard components",
        "description": "Retrieve sports formatted for use in wizard/setup components",
        "tags": [
          "Sports"
        ],
        "responses": {
          "200": {
            "description": "List of sports for wizard components",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "description": "Sport ID"
                      },
                      "name": {
                        "type": "string",
                        "description": "Sport name"
                      },
                      "description": {
                        "type": "string",
                        "description": "Sport description"
                      },
                      "icon": {
                        "type": "string",
                        "description": "Iconify icon name"
                      },
                      "category": {
                        "type": "string",
                        "description": "Sport category",
                        "enum": [
                          "racquet",
                          "team",
                          "fitness",
                          "water",
                          "outdoor",
                          "other"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/sports/category/{category}": {
      "get": {
        "summary": "Get sports by category",
        "description": "Retrieve sports filtered by category",
        "tags": [
          "Sports"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "category",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "racquet",
                "team",
                "fitness",
                "water",
                "outdoor",
                "other"
              ]
            },
            "description": "Sport category"
          }
        ],
        "responses": {
          "200": {
            "description": "List of sports in category",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "description": "Sport ID"
                      },
                      "name": {
                        "type": "string",
                        "description": "Sport name"
                      },
                      "description": {
                        "type": "string",
                        "description": "Sport description"
                      },
                      "icon": {
                        "type": "string",
                        "description": "Iconify icon name"
                      },
                      "category": {
                        "type": "string",
                        "description": "Sport category"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid category"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/sports/{id}": {
      "get": {
        "summary": "Get sport by ID",
        "description": "Retrieve a specific sport by its ID",
        "tags": [
          "Sports"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Sport ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Sport details",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "Sport ID"
                    },
                    "name": {
                      "type": "string",
                      "description": "Sport name"
                    },
                    "description": {
                      "type": "string",
                      "description": "Sport description"
                    },
                    "icon": {
                      "type": "string",
                      "description": "Iconify icon name"
                    },
                    "category": {
                      "type": "string",
                      "description": "Sport category",
                      "enum": [
                        "racquet",
                        "team",
                        "fitness",
                        "water",
                        "outdoor",
                        "other"
                      ]
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Sport not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/stripe/webhooks": {
      "get": {
        "summary": "Test Stripe webhooks endpoint",
        "description": "Verify that the webhook endpoint is accessible",
        "tags": [
          "Stripe"
        ],
        "responses": {
          "200": {
            "description": "Webhook endpoint is accessible"
          }
        }
      },
      "post": {
        "summary": "Stripe webhook receiver",
        "description": "Webhook endpoint for receiving Stripe events (payment intents, charges, etc.)",
        "tags": [
          "Stripe"
        ],
        "parameters": [
          {
            "in": "header",
            "name": "stripe-signature",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Stripe webhook signature"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Webhook received and processed"
          },
          "400": {
            "description": "Missing or invalid signature"
          }
        }
      }
    },
    "/v1/stripe/connect/status": {
      "get": {
        "summary": "Get Stripe Connect status",
        "description": "Retrieve the Stripe Connect account status for the organization",
        "tags": [
          "Stripe"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Stripe Connect status"
          },
          "500": {
            "description": "Failed to get Stripe status"
          }
        }
      }
    },
    "/v1/stripe/connect/disconnect": {
      "delete": {
        "summary": "Disconnect Stripe Connect account",
        "description": "Disconnect and remove the Stripe Connect account integration",
        "tags": [
          "Stripe"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Stripe account disconnected successfully"
          },
          "400": {
            "description": "No Stripe account connected"
          },
          "500": {
            "description": "Failed to disconnect Stripe account"
          }
        }
      }
    },
    "/v1/stripe/invoice/{id}/refresh-payment-status": {
      "post": {
        "summary": "Refresh invoice payment status",
        "description": "Refresh payment status from Stripe and update invoice",
        "tags": [
          "Stripe"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Invoice ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Payment status refreshed"
          },
          "400": {
            "description": "No Stripe integration found for this invoice"
          },
          "404": {
            "description": "Invoice not found"
          },
          "500": {
            "description": "Failed to refresh payment status"
          }
        }
      }
    },
    "/v1/stripe/invoices/{invoiceId}/create-payment-link": {
      "post": {
        "summary": "Create payment link for invoice",
        "description": "Create a Stripe payment link for a specific invoice",
        "tags": [
          "Stripe"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "invoiceId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Invoice ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Payment link created"
          },
          "400": {
            "description": "Organization not set up to accept payments"
          },
          "500": {
            "description": "Failed to create payment link"
          }
        }
      }
    },
    "/v1/stripe/invoices/{invoiceId}/send-payment-link": {
      "post": {
        "summary": "Send payment link via email",
        "description": "Send a Stripe payment link to the invoice contact via email",
        "tags": [
          "Stripe"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "invoiceId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Invoice ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "paymentLinkUrl"
                ],
                "properties": {
                  "paymentLinkUrl": {
                    "type": "string",
                    "description": "Stripe payment link URL"
                  },
                  "customMessage": {
                    "type": "string",
                    "description": "Optional custom message for the email"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Payment link sent successfully"
          },
          "400": {
            "description": "Missing required fields or contact email not found"
          },
          "404": {
            "description": "Invoice not found"
          },
          "500": {
            "description": "Failed to send payment link email"
          }
        }
      }
    },
    "/v1/stripe/status": {
      "get": {
        "summary": "Get unified Stripe account status",
        "description": "Retrieve comprehensive Stripe account information",
        "tags": [
          "Stripe"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Stripe account status"
          },
          "500": {
            "description": "Failed to get Stripe status"
          }
        }
      }
    },
    "/v1/stripe/connect/create-account": {
      "post": {
        "summary": "Create Stripe Connect account",
        "description": "Create a new Stripe Express Connect account",
        "tags": [
          "Stripe"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Stripe Express account created"
          },
          "500": {
            "description": "Failed to create Express account"
          }
        }
      }
    },
    "/v1/stripe/connect/onboarding-link": {
      "post": {
        "summary": "Create Stripe onboarding link",
        "description": "Generate an onboarding link for Stripe Connect account setup",
        "tags": [
          "Stripe"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "returnUrl",
                  "refreshUrl"
                ],
                "properties": {
                  "returnUrl": {
                    "type": "string",
                    "format": "uri",
                    "description": "URL to return to after onboarding"
                  },
                  "refreshUrl": {
                    "type": "string",
                    "format": "uri",
                    "description": "URL to return to if onboarding is incomplete"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Onboarding link generated"
          },
          "400": {
            "description": "Missing required parameters"
          },
          "404": {
            "description": "No Stripe account found"
          },
          "500": {
            "description": "Failed to create account link"
          }
        }
      }
    },
    "/v1/stripe/refresh-status": {
      "post": {
        "summary": "Refresh Stripe account status",
        "description": "Refresh and sync account status from Stripe, request missing capabilities",
        "tags": [
          "Stripe"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Account status refreshed"
          },
          "404": {
            "description": "No Stripe account found"
          },
          "500": {
            "description": "Failed to refresh account status"
          }
        }
      }
    },
    "/v1/stripe/disconnect": {
      "delete": {
        "summary": "Disconnect Stripe account",
        "description": "Disconnect the Stripe Connect account",
        "tags": [
          "Stripe"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Stripe account disconnected successfully"
          },
          "500": {
            "description": "Failed to disconnect Stripe account"
          }
        }
      }
    },
    "/v1/upload/{cloudinaryId}": {
      "delete": {
        "summary": "Delete uploaded file",
        "description": "Delete a file from Cloudinary storage",
        "tags": [
          "Upload"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "cloudinaryId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Cloudinary file ID"
          }
        ],
        "responses": {
          "200": {
            "description": "File deleted successfully"
          },
          "400": {
            "description": "Failed to delete file"
          },
          "500": {
            "description": "Deletion error"
          }
        }
      }
    },
    "/v1/user/activities": {
      "get": {
        "summary": "Get user activity feed",
        "tags": [
          "User Activities"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 20
            },
            "description": "Maximum number of activities to return"
          },
          {
            "in": "query",
            "name": "offset",
            "schema": {
              "type": "integer",
              "default": 0
            },
            "description": "Number of activities to skip"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "all",
                "booking",
                "review",
                "favorite"
              ]
            },
            "description": "Filter activities by type"
          }
        ],
        "responses": {
          "200": {
            "description": "User activity feed",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Activity"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/bookings": {
      "get": {
        "summary": "Get user bookings",
        "description": "Retrieve all bookings for the authenticated user, optionally filtered by date and status",
        "tags": [
          "User - Bookings"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startTimeFrom",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Filter bookings starting from this date"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            },
            "description": "Filter by booking status"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer"
            },
            "description": "Maximum number of bookings to return"
          }
        ],
        "responses": {
          "200": {
            "description": "List of user bookings with all details"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Failed to fetch bookings"
          }
        }
      },
      "post": {
        "summary": "Create new booking",
        "description": "Create a new booking for the authenticated user for an area, class, or with an instructor",
        "tags": [
          "User - Bookings"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "areaId": {
                    "type": "integer",
                    "description": "Area ID (if booking an area)"
                  },
                  "classId": {
                    "type": "integer",
                    "description": "Class ID (if booking a class)"
                  },
                  "instructorId": {
                    "type": "integer",
                    "description": "Instructor ID (if booking an instructor)"
                  },
                  "startTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Booking start time (required for area/instructor, not for classes)"
                  },
                  "endTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Booking end time (required for area/instructor, not for classes)"
                  },
                  "notes": {
                    "type": "string",
                    "description": "Optional booking notes"
                  },
                  "playerEmails": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Optional list of player emails for group bookings"
                  }
                },
                "required": [
                  "startTime",
                  "endTime"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Booking created successfully"
          },
          "400": {
            "description": "Invalid input or missing required fields"
          },
          "404": {
            "description": "Area, class, or instructor not found"
          },
          "500": {
            "description": "Failed to create booking"
          }
        }
      }
    },
    "/v1/user/bookings/{id}": {
      "get": {
        "summary": "Get booking details",
        "description": "Retrieve detailed information for a specific booking",
        "tags": [
          "User - Bookings"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Booking ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Booking details"
          },
          "400": {
            "description": "Invalid booking ID"
          },
          "404": {
            "description": "Booking not found"
          },
          "500": {
            "description": "Failed to fetch booking"
          }
        }
      }
    },
    "/v1/user/bookings/{id}/cancel": {
      "patch": {
        "summary": "Cancel booking",
        "description": "Cancel a booking and receive refund based on cancellation policy",
        "tags": [
          "User - Bookings"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Booking ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Booking cancelled successfully with refund details"
          },
          "400": {
            "description": "Invalid booking ID"
          },
          "404": {
            "description": "Booking not found"
          },
          "500": {
            "description": "Failed to cancel booking"
          }
        }
      }
    },
    "/v1/user/bookings/{id}/pay": {
      "post": {
        "summary": "Pay for booking",
        "description": "Process payment for a booking using a stored payment method",
        "tags": [
          "User - Bookings"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Booking ID"
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "paymentMethodId": {
                    "type": "integer",
                    "description": "Stripe payment method ID"
                  },
                  "amount": {
                    "type": "number",
                    "description": "Amount to pay (if not specified, full amount due will be charged)"
                  },
                  "currency": {
                    "type": "string",
                    "default": "usd"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Payment processed successfully"
          },
          "400": {
            "description": "Invalid input or no amount due"
          },
          "403": {
            "description": "Access denied"
          },
          "404": {
            "description": "Booking or contact not found"
          },
          "500": {
            "description": "Failed to process payment"
          }
        }
      }
    },
    "/v1/user/bookings/{id}/checkout-session": {
      "post": {
        "summary": "Create checkout session for booking payment",
        "description": "Create a Stripe checkout session for paying a booking invoice",
        "tags": [
          "User - Bookings"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Booking ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Checkout session created with redirect URL"
          },
          "403": {
            "description": "Access denied"
          },
          "404": {
            "description": "Booking or contact not found"
          },
          "500": {
            "description": "Failed to create checkout session"
          }
        }
      }
    },
    "/v1/user/checkin-code": {
      "get": {
        "summary": "Get user checkin code",
        "description": "Generate a unique checkin code for the authenticated user",
        "tags": [
          "User - Checkins"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Checkin code generated successfully"
          },
          "401": {
            "description": "Not authenticated"
          },
          "500": {
            "description": "Failed to generate code"
          }
        }
      }
    },
    "/v1/user/checkin": {
      "post": {
        "summary": "Check in user",
        "description": "Process user checkin with code and club ID. No authentication required - code is cryptographically validated",
        "tags": [
          "User - Checkins"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string",
                    "description": "Checkin code (from QR code or manual entry)"
                  },
                  "clubId": {
                    "type": "integer",
                    "description": "Club ID where checkin is happening"
                  }
                },
                "required": [
                  "code",
                  "clubId"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Checkin successful"
          },
          "400": {
            "description": "Code or club ID is required"
          },
          "404": {
            "description": "Invalid code or club not found"
          },
          "500": {
            "description": "Failed to check in"
          }
        }
      }
    },
    "/v1/user/clubs": {
      "get": {
        "summary": "Get user's clubs",
        "description": "Retrieve list of clubs where user is a member or has marked as favourite",
        "tags": [
          "User - Clubs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of user's clubs with membership and favourite status"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Failed to fetch clubs"
          }
        }
      }
    },
    "/v1/user/clubs/{slug}/contact": {
      "post": {
        "summary": "Submit contact form for a club",
        "description": "Submit a contact form message to club managers (requires authentication)",
        "tags": [
          "User - Clubs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Club slug"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "subject",
                  "message"
                ],
                "properties": {
                  "subject": {
                    "type": "string",
                    "description": "Message subject"
                  },
                  "message": {
                    "type": "string",
                    "description": "Message content"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Contact form submitted successfully"
          },
          "400": {
            "description": "Bad request - invalid data or club has no managers"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Club not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/dashboard": {
      "get": {
        "summary": "Get user dashboard data",
        "description": "Retrieve aggregated dashboard statistics including bookings, memberships, sports breakdown, and user level",
        "tags": [
          "User - Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Dashboard data with statistics and user level"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Failed to fetch dashboard data"
          }
        }
      }
    },
    "/v1/user/favourite-clubs": {
      "get": {
        "summary": "Get user's favourite clubs",
        "description": "Retrieve list of clubs marked as favourite by the authenticated user",
        "tags": [
          "User - Clubs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of favourite clubs with organization details"
          },
          "500": {
            "description": "Failed to fetch favourite clubs"
          }
        }
      },
      "post": {
        "summary": "Add club to favourites",
        "description": "Mark a club as favourite for the authenticated user",
        "tags": [
          "User - Clubs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "clubId": {
                    "type": "integer",
                    "description": "Club ID to add to favourites"
                  }
                },
                "required": [
                  "clubId"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Club added to favourites successfully"
          },
          "400": {
            "description": "Club ID is required"
          },
          "404": {
            "description": "Club not found"
          },
          "409": {
            "description": "Club already in favourites"
          },
          "500": {
            "description": "Failed to add favourite club"
          }
        }
      }
    },
    "/v1/user/favourite-clubs/{clubId}": {
      "delete": {
        "summary": "Remove club from favourites",
        "description": "Remove a club from the user's favourite clubs list",
        "tags": [
          "User - Clubs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "clubId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Club ID to remove from favourites"
          }
        ],
        "responses": {
          "200": {
            "description": "Club removed from favourites successfully"
          },
          "404": {
            "description": "Favourite club not found"
          },
          "500": {
            "description": "Failed to remove favourite club"
          }
        }
      }
    },
    "/v1/user/instructor/profile": {
      "get": {
        "summary": "Get instructor profile",
        "description": "Retrieve the authenticated instructor's profile information",
        "tags": [
          "User - Instructor"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Instructor profile details"
          },
          "401": {
            "description": "Unauthorized or not an instructor"
          },
          "404": {
            "description": "Instructor profile not found"
          },
          "500": {
            "description": "Failed to fetch instructor profile"
          }
        }
      },
      "put": {
        "summary": "Update instructor profile",
        "description": "Update instructor profile information including sports, rates, certifications, and contact details",
        "tags": [
          "User - Instructor"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "sports": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "typeId": {
                    "type": "integer"
                  },
                  "experience": {
                    "type": "string"
                  },
                  "hourlyRate": {
                    "type": "number"
                  },
                  "operatingHours": {
                    "type": "object"
                  },
                  "bio": {
                    "type": "string"
                  },
                  "certifications": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "address": {
                    "type": "string"
                  },
                  "phone": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Instructor profile updated successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized or not an instructor"
          },
          "404": {
            "description": "Instructor profile not found"
          },
          "500": {
            "description": "Failed to update instructor profile"
          }
        }
      }
    },
    "/v1/user/instructor/bookings": {
      "get": {
        "summary": "Get instructor's bookings",
        "description": "Retrieve all bookings for the authenticated instructor, optionally filtered by date range",
        "tags": [
          "User - Instructor"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "fromDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Filter bookings from this date onwards"
          },
          {
            "in": "query",
            "name": "toDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Filter bookings until this date"
          }
        ],
        "responses": {
          "200": {
            "description": "List of instructor's bookings with all details"
          },
          "401": {
            "description": "Unauthorized or not an instructor"
          },
          "404": {
            "description": "Instructor profile not found"
          },
          "500": {
            "description": "Failed to fetch instructor bookings"
          }
        }
      },
      "post": {
        "summary": "Create booking as instructor",
        "description": "Create a booking on behalf of another user (requires instructor role)",
        "tags": [
          "User - Instructor"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "contactId": {
                    "type": "integer"
                  },
                  "userId": {
                    "type": "integer"
                  },
                  "contactEmail": {
                    "type": "string"
                  },
                  "contactName": {
                    "type": "string"
                  },
                  "startTime": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "endTime": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "areaId": {
                    "type": "integer"
                  },
                  "classId": {
                    "type": "integer"
                  },
                  "instructorId": {
                    "type": "integer"
                  },
                  "notes": {
                    "type": "string"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "confirmed",
                      "pending"
                    ]
                  },
                  "playerEmails": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Booking created successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized or not an instructor"
          },
          "404": {
            "description": "Instructor profile not found"
          },
          "500": {
            "description": "Failed to create booking"
          }
        }
      }
    },
    "/v1/user/instructor/bookings/{id}": {
      "patch": {
        "summary": "Update instructor booking",
        "description": "Update or cancel a booking created by the instructor",
        "tags": [
          "User - Instructor"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Booking ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "contactId": {
                    "type": "integer"
                  },
                  "startTime": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "endTime": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "areaId": {
                    "type": "integer"
                  },
                  "classId": {
                    "type": "integer"
                  },
                  "instructorId": {
                    "type": "integer"
                  },
                  "notes": {
                    "type": "string"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "confirmed",
                      "pending"
                    ]
                  },
                  "playerEmails": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Booking updated successfully"
          },
          "400": {
            "description": "Invalid booking ID or validation error"
          },
          "401": {
            "description": "Unauthorized or not an instructor"
          },
          "403": {
            "description": "Booking does not belong to instructor"
          },
          "404": {
            "description": "Booking or instructor not found"
          },
          "500": {
            "description": "Failed to update booking"
          }
        }
      }
    },
    "/v1/user/instructor/contacts": {
      "get": {
        "summary": "Get instructor contacts",
        "description": "Get list of members and drop-ins for creating/assigning instructor bookings, with optional search",
        "tags": [
          "User - Instructor"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "Search contacts by name, email, or phone"
          }
        ],
        "responses": {
          "200": {
            "description": "List of contacts for instructor bookings"
          },
          "401": {
            "description": "Unauthorized or not an instructor"
          },
          "500": {
            "description": "Failed to fetch contacts"
          }
        }
      }
    },
    "/v1/user/instructor/classes": {
      "get": {
        "summary": "Get instructor's classes",
        "description": "Retrieve all classes taught by the authenticated instructor, optionally filtered by date range",
        "tags": [
          "User - Instructor"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "fromDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Filter classes from this date onwards"
          },
          {
            "in": "query",
            "name": "toDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Filter classes until this date"
          }
        ],
        "responses": {
          "200": {
            "description": "List of instructor's classes with details"
          },
          "401": {
            "description": "Unauthorized or not an instructor"
          },
          "404": {
            "description": "Instructor profile not found"
          },
          "500": {
            "description": "Failed to fetch classes"
          }
        }
      }
    },
    "/v1/user/instructor/classes/{id}": {
      "patch": {
        "summary": "Update instructor class",
        "description": "Update details of a class taught by the instructor",
        "tags": [
          "User - Instructor"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Class ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "startTime": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "endTime": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "price": {
                    "type": "number"
                  },
                  "maxCapacity": {
                    "type": "integer"
                  },
                  "visibility": {
                    "type": "string",
                    "enum": [
                      "Private",
                      "Member_only",
                      "Public"
                    ]
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "cancelled",
                      "completed"
                    ]
                  },
                  "sport": {
                    "type": "string"
                  },
                  "areaId": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Class updated successfully"
          },
          "400": {
            "description": "Invalid class ID or validation error"
          },
          "401": {
            "description": "Unauthorized or not an instructor"
          },
          "404": {
            "description": "Class or instructor not found"
          },
          "500": {
            "description": "Failed to update class"
          }
        }
      }
    },
    "/v1/user/invoices": {
      "get": {
        "summary": "Get user invoices",
        "description": "Retrieve all invoices for the authenticated user",
        "tags": [
          "User - Invoices"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of user invoices with line items and organization details"
          },
          "500": {
            "description": "Failed to fetch invoices"
          }
        }
      }
    },
    "/v1/user/invoices/{id}/charge": {
      "post": {
        "summary": "Charge invoice",
        "description": "Process payment for an invoice using a stored payment method",
        "tags": [
          "User - Invoices"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Invoice ID"
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "paymentMethodId": {
                    "type": "integer",
                    "description": "Payment method ID"
                  },
                  "amount": {
                    "type": "number",
                    "description": "Amount to charge (if not specified, invoice total will be charged)"
                  },
                  "currency": {
                    "type": "string",
                    "default": "usd"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Payment processed successfully"
          },
          "400": {
            "description": "Invalid input or failed validation"
          },
          "403": {
            "description": "Access denied"
          },
          "404": {
            "description": "Invoice or contact not found"
          },
          "500": {
            "description": "Failed to process payment"
          }
        }
      }
    },
    "/v1/user/invoices/{id}/checkout-session": {
      "post": {
        "summary": "Create checkout session for invoice",
        "description": "Create a Stripe checkout session to pay for an invoice",
        "tags": [
          "User - Invoices"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Invoice ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "bookingId": {
                    "type": "integer",
                    "description": "Associated booking ID (optional)"
                  },
                  "returnUrl": {
                    "type": "string",
                    "description": "URL to redirect to after payment"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Checkout session created successfully"
          },
          "400": {
            "description": "Invoice already paid or invalid input"
          },
          "403": {
            "description": "Access denied"
          },
          "404": {
            "description": "Invoice or contact not found"
          },
          "500": {
            "description": "Failed to create checkout session"
          }
        }
      }
    },
    "/v1/user/memberships": {
      "get": {
        "summary": "Get user memberships",
        "description": "Retrieve all active and inactive memberships for the authenticated user",
        "tags": [
          "User - Memberships"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of user memberships with plan details"
          },
          "500": {
            "description": "Failed to fetch memberships"
          }
        }
      },
      "post": {
        "summary": "Create new membership",
        "description": "Create a new membership for the authenticated user with a selected plan",
        "tags": [
          "User - Memberships"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "planId": {
                    "type": "integer",
                    "description": "Plan ID to create membership for"
                  },
                  "startDate": {
                    "type": "string",
                    "format": "date",
                    "description": "Membership start date"
                  },
                  "endDate": {
                    "type": "string",
                    "format": "date",
                    "description": "Membership end date (optional)"
                  },
                  "autoRenew": {
                    "type": "boolean",
                    "description": "Enable auto-renewal (defaults to plan setting)"
                  }
                },
                "required": [
                  "planId",
                  "startDate"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Membership created successfully"
          },
          "400": {
            "description": "Invalid input or plan not found"
          },
          "500": {
            "description": "Failed to create membership"
          }
        }
      }
    },
    "/v1/user/messages": {
      "get": {
        "summary": "Get messages for organization by slug",
        "description": "Retrieve messages for a specific organization using organization slug",
        "tags": [
          "User - Messages"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationSlug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Organization slug"
          },
          {
            "in": "query",
            "name": "contactId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by contact ID"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            },
            "description": "Filter by message status"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string"
            },
            "description": "Filter by message type"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer"
            },
            "description": "Limit number of results"
          },
          {
            "in": "query",
            "name": "offset",
            "schema": {
              "type": "integer"
            },
            "description": "Offset for pagination"
          }
        ],
        "responses": {
          "200": {
            "description": "List of messages",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Message"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Create a new message",
        "description": "Create a new message for organization",
        "tags": [
          "User - Messages"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "organizationSlug": {
                    "type": "string",
                    "description": "Organization slug"
                  },
                  "subject": {
                    "type": "string",
                    "description": "Message subject"
                  },
                  "content": {
                    "type": "string",
                    "description": "Message content"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "email",
                      "sms",
                      "push"
                    ],
                    "description": "Message type"
                  },
                  "recipients": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "Array of recipient user IDs"
                  },
                  "replyToMessageId": {
                    "type": "integer",
                    "description": "ID of message being replied to"
                  },
                  "isDraft": {
                    "type": "boolean",
                    "description": "Whether this is a draft"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Message created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/messages/{id}/thread": {
      "get": {
        "summary": "Get message thread",
        "description": "Retrieve a message and all its replies for organization",
        "tags": [
          "User - Messages"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Message ID"
          },
          {
            "in": "query",
            "name": "organizationSlug",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Organization slug"
          }
        ],
        "responses": {
          "200": {
            "description": "Message thread with replies",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "original": {
                      "$ref": "#/components/schemas/Message"
                    },
                    "replies": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Message"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Message not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/messages/{id}/reply": {
      "post": {
        "summary": "Reply to a message",
        "description": "Send a reply to a specific message",
        "tags": [
          "User - Messages"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Message ID to reply to"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "content"
                ],
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "Reply content"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Reply sent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Original message not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/notifications": {
      "get": {
        "summary": "Get user notifications",
        "description": "Retrieve notifications for the authenticated user",
        "tags": [
          "User - Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "category",
            "schema": {
              "type": "string",
              "enum": [
                "booking",
                "payment",
                "message",
                "task",
                "reminder",
                "system",
                "promotion",
                "social"
              ]
            },
            "description": "Filter by notification category"
          },
          {
            "in": "query",
            "name": "priority",
            "schema": {
              "type": "string",
              "enum": [
                "low",
                "medium",
                "high",
                "urgent"
              ]
            },
            "description": "Filter by notification priority"
          },
          {
            "in": "query",
            "name": "isRead",
            "schema": {
              "type": "boolean"
            },
            "description": "Filter by read status"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 50
            },
            "description": "Number of notifications to return"
          },
          {
            "in": "query",
            "name": "offset",
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0
            },
            "description": "Number of notifications to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "List of notifications"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/notifications/stats": {
      "get": {
        "summary": "Get notification statistics",
        "description": "Get notification statistics for the authenticated user",
        "tags": [
          "User - Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Notification statistics"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/notifications/{id}/read": {
      "patch": {
        "summary": "Mark notification as read",
        "description": "Mark a specific notification as read",
        "tags": [
          "User - Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Notification ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Notification marked as read"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Notification not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/notifications/read-all": {
      "patch": {
        "summary": "Mark all notifications as read",
        "description": "Mark all notifications as read for the authenticated user",
        "tags": [
          "User - Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "All notifications marked as read"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/notifications/{id}": {
      "delete": {
        "summary": "Delete notification",
        "description": "Delete a specific notification",
        "tags": [
          "User - Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Notification ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Notification deleted"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Notification not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/notifications/subscriptions": {
      "get": {
        "summary": "Get notification subscriptions",
        "description": "Get notification subscription preferences for the authenticated user",
        "tags": [
          "User - Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Notification subscriptions"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "put": {
        "summary": "Update notification subscriptions",
        "description": "Update notification subscription preferences for the authenticated user",
        "tags": [
          "User - Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "category": {
                      "type": "string",
                      "enum": [
                        "booking",
                        "payment",
                        "message",
                        "task",
                        "reminder",
                        "system",
                        "promotion",
                        "social"
                      ]
                    },
                    "channels": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "in_app",
                          "email",
                          "sms",
                          "push",
                          "webhook"
                        ]
                      }
                    },
                    "isEnabled": {
                      "type": "boolean"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Subscriptions updated"
          },
          "400": {
            "description": "Invalid subscription data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/notifications/push/register": {
      "post": {
        "summary": "Register push subscription",
        "description": "Register a push notification subscription for the authenticated user",
        "tags": [
          "User - Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "endpoint",
                  "keys"
                ],
                "properties": {
                  "endpoint": {
                    "type": "string",
                    "format": "uri"
                  },
                  "keys": {
                    "type": "object",
                    "properties": {
                      "p256dh": {
                        "type": "string"
                      },
                      "auth": {
                        "type": "string"
                      }
                    }
                  },
                  "userAgent": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Push subscription registered"
          },
          "400": {
            "description": "Invalid subscription data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/notifications/push/vapid-key": {
      "get": {
        "summary": "Get VAPID public key",
        "description": "Get the VAPID public key for push notification registration",
        "tags": [
          "User - Notifications"
        ],
        "responses": {
          "200": {
            "description": "VAPID public key"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/notifications/push/test": {
      "post": {
        "summary": "Test push notification",
        "description": "Send a test push notification to the authenticated user",
        "tags": [
          "User - Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Test notification sent"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/notifications/websocket/token": {
      "get": {
        "summary": "Get WebSocket connection token",
        "description": "Get a token for connecting to the notification WebSocket",
        "tags": [
          "User - Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "WebSocket connection token"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/overview": {
      "get": {
        "summary": "Get user overview analytics",
        "description": "Retrieve aggregated overview statistics for the current user",
        "tags": [
          "User - Overview"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Overview statistics"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/payment-methods/checkout-session": {
      "post": {
        "summary": "Create checkout session for payment method collection",
        "description": "Creates a Stripe checkout session for collecting payment methods",
        "tags": [
          "User - Payment Methods"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "organizationId": {
                    "type": "integer",
                    "description": "Organization ID (optional, uses user's organization if not provided)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Checkout session created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "sessionId": {
                      "type": "string",
                      "description": "Checkout session ID"
                    },
                    "url": {
                      "type": "string",
                      "description": "Checkout URL to redirect user to"
                    },
                    "customerId": {
                      "type": "string",
                      "description": "Stripe customer ID"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/payment-methods/confirm": {
      "post": {
        "summary": "Confirm checkout session and save payment method",
        "description": "Confirms a checkout session and saves the payment method to the database",
        "tags": [
          "User - Payment Methods"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "sessionId"
                ],
                "properties": {
                  "sessionId": {
                    "type": "string",
                    "description": "Checkout session ID from Stripe"
                  },
                  "organizationId": {
                    "type": "integer",
                    "description": "Organization ID (optional)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Payment method saved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "Payment method ID"
                    },
                    "type": {
                      "type": "string",
                      "description": "Payment method type"
                    },
                    "card": {
                      "type": "object",
                      "description": "Card details (if applicable)"
                    },
                    "us_bank_account": {
                      "type": "object",
                      "description": "Bank account details (if applicable)"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/payment-methods": {
      "get": {
        "summary": "Get user's payment methods",
        "description": "Retrieve all payment methods for the authenticated user",
        "tags": [
          "User - Payment Methods"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "organizationId",
            "schema": {
              "type": "integer"
            },
            "description": "Organization ID (optional, uses user's organization if not provided)"
          }
        ],
        "responses": {
          "200": {
            "description": "List of payment methods",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Payment method ID"
                      },
                      "type": {
                        "type": "string",
                        "description": "Payment method type"
                      },
                      "lastFour": {
                        "type": "string",
                        "description": "Last four digits"
                      },
                      "brand": {
                        "type": "string",
                        "description": "Card brand or bank name"
                      },
                      "expiryMonth": {
                        "type": "integer",
                        "description": "Expiry month (for cards)"
                      },
                      "expiryYear": {
                        "type": "integer",
                        "description": "Expiry year (for cards)"
                      },
                      "isDefault": {
                        "type": "boolean",
                        "description": "Whether this is the default payment method"
                      },
                      "createdAt": {
                        "type": "string",
                        "format": "date-time",
                        "description": "Creation date"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/payment-methods/default": {
      "put": {
        "summary": "Set default payment method",
        "description": "Set a payment method as the default for the user",
        "tags": [
          "User - Payment Methods"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "paymentMethodId"
                ],
                "properties": {
                  "paymentMethodId": {
                    "type": "integer",
                    "description": "Payment method ID to set as default"
                  },
                  "organizationId": {
                    "type": "integer",
                    "description": "Organization ID (optional)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Default payment method updated successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Payment method not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/payment-methods/{paymentMethodId}": {
      "delete": {
        "summary": "Delete payment method",
        "description": "Delete a payment method for the user",
        "tags": [
          "User - Payment Methods"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "paymentMethodId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Payment method ID to delete"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "organizationId": {
                    "type": "integer",
                    "description": "Organization ID (optional)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Payment method deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Payment method not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/payments": {
      "get": {
        "summary": "Get user's payments",
        "description": "Retrieve all payments for the current user",
        "tags": [
          "User - Payments"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            },
            "description": "Filter by payment status"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Start date for date range filter"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "End date for date range filter"
          }
        ],
        "responses": {
          "200": {
            "description": "List of payments"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/payments/{id}": {
      "get": {
        "summary": "Get payment details",
        "description": "Retrieve a specific payment by ID for the current user",
        "tags": [
          "User - Payments"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Payment ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Payment details"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Payment not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/transactions/{id}/payments": {
      "get": {
        "summary": "Get payments for a transaction",
        "description": "Retrieve all payments linked to a specific transaction for the current user",
        "tags": [
          "User - Payments"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Transaction ID"
          }
        ],
        "responses": {
          "200": {
            "description": "List of payments for the transaction"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Transaction not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/profile": {
      "get": {
        "summary": "Get user profile",
        "description": "Retrieve the authenticated user's profile information",
        "tags": [
          "User - Profile"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "User profile information"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Failed to fetch profile"
          }
        }
      },
      "put": {
        "summary": "Update user profile (full replacement)",
        "description": "Completely replace user profile information",
        "tags": [
          "User - Profile"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  },
                  "phone": {
                    "type": "string"
                  },
                  "language": {
                    "type": "string"
                  },
                  "profileImage": {
                    "type": "string"
                  },
                  "address": {
                    "type": "string"
                  },
                  "city": {
                    "type": "string"
                  },
                  "state": {
                    "type": "string"
                  },
                  "postalCode": {
                    "type": "string"
                  },
                  "country": {
                    "type": "string"
                  },
                  "countryCode": {
                    "type": "string"
                  },
                  "currency": {
                    "type": "string"
                  },
                  "dateOfBirth": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profile updated successfully"
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Failed to update profile"
          }
        }
      },
      "patch": {
        "summary": "Partially update user profile",
        "description": "Update specific fields of user's profile",
        "tags": [
          "User - Profile"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profile updated successfully"
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Failed to update profile"
          }
        }
      }
    },
    "/v1/auth/me": {
      "get": {
        "summary": "Get current user profile (alias)",
        "description": "Retrieve the authenticated user's profile information (alias for /v1/user/profile)",
        "tags": [
          "User - Profile"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "User profile information"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Failed to fetch profile"
          }
        }
      },
      "put": {
        "summary": "Update current user profile (alias)",
        "description": "Completely replace user profile information (alias for /v1/user/profile)",
        "tags": [
          "User - Profile"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  },
                  "phone": {
                    "type": "string"
                  },
                  "language": {
                    "type": "string"
                  },
                  "profileImage": {
                    "type": "string"
                  },
                  "address": {
                    "type": "string"
                  },
                  "city": {
                    "type": "string"
                  },
                  "state": {
                    "type": "string"
                  },
                  "postalCode": {
                    "type": "string"
                  },
                  "country": {
                    "type": "string"
                  },
                  "countryCode": {
                    "type": "string"
                  },
                  "currency": {
                    "type": "string"
                  },
                  "dateOfBirth": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profile updated successfully"
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Failed to update profile"
          }
        }
      },
      "patch": {
        "summary": "Partially update current user profile (alias)",
        "description": "Update specific fields of user's profile (alias for /v1/user/profile)",
        "tags": [
          "User - Profile"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profile updated successfully"
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Failed to update profile"
          }
        }
      }
    },
    "/v1/user/household": {
      "get": {
        "summary": "Get user's household",
        "description": "Retrieve the authenticated user's household information and members",
        "tags": [
          "User - Household"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Household information with members list"
          },
          "404": {
            "description": "User or household not found"
          },
          "500": {
            "description": "Failed to get household"
          }
        }
      }
    },
    "/v1/user/household/members/{userId}": {
      "delete": {
        "summary": "Remove household member",
        "description": "Remove a member from the user's household",
        "tags": [
          "User - Household"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "User ID of household member to remove"
          }
        ],
        "responses": {
          "200": {
            "description": "Household member removed successfully"
          },
          "400": {
            "description": "Invalid user ID or missing organization context"
          },
          "403": {
            "description": "Access denied - not household owner"
          },
          "404": {
            "description": "Household or member not found"
          },
          "500": {
            "description": "Failed to remove household member"
          }
        }
      },
      "put": {
        "summary": "Update household member",
        "description": "Update information for a household member (name, phone, dateOfBirth, role)",
        "tags": [
          "User - Household"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "User ID of household member to update"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "phone": {
                    "type": "string"
                  },
                  "dateOfBirth": {
                    "type": "string",
                    "format": "date"
                  },
                  "role": {
                    "type": "string",
                    "enum": [
                      "owner",
                      "spouse",
                      "dependent",
                      "parent"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Household member updated successfully"
          },
          "400": {
            "description": "Invalid user ID or validation error"
          },
          "403": {
            "description": "Cannot update household role"
          },
          "404": {
            "description": "Household or member not found"
          },
          "500": {
            "description": "Failed to update household member"
          }
        }
      }
    },
    "/v1/user/household/members": {
      "post": {
        "summary": "Add family member to household",
        "description": "Add a family member (dependent, spouse, parent) to user's household. Can auto-generate email for dependents without email.",
        "tags": [
          "User - Household"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Family member's full name"
                  },
                  "email": {
                    "type": "string",
                    "description": "Email address (auto-generated for dependents if not provided)"
                  },
                  "phone": {
                    "type": "string"
                  },
                  "dateOfBirth": {
                    "type": "string",
                    "format": "date"
                  },
                  "role": {
                    "type": "string",
                    "enum": [
                      "owner",
                      "spouse",
                      "dependent",
                      "parent"
                    ]
                  },
                  "householdName": {
                    "type": "string"
                  },
                  "clubId": {
                    "type": "integer"
                  },
                  "acceptedDocumentIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "Document IDs to mark as accepted by parent on behalf of dependent"
                  }
                },
                "required": [
                  "name",
                  "role"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Family member added successfully"
          },
          "400": {
            "description": "Validation error or user already in household"
          },
          "404": {
            "description": "User or organization not found"
          },
          "500": {
            "description": "Failed to add family member"
          }
        }
      }
    },
    "/v1/user/progression": {
      "get": {
        "summary": "Get current user's progression levels",
        "description": "Returns progression levels for the authenticated user (only for enabled tracks)",
        "tags": [
          "User - Progression"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of user progression levels"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/progression/history": {
      "get": {
        "summary": "Get current user's progression history",
        "description": "Returns progression update history for the authenticated user",
        "tags": [
          "User - Progression"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of progression updates"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/reviews": {
      "post": {
        "summary": "Create a new review",
        "tags": [
          "User Reviews"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "clubId",
                  "rating"
                ],
                "properties": {
                  "clubId": {
                    "type": "integer",
                    "description": "Club ID"
                  },
                  "areaId": {
                    "type": "integer",
                    "description": "Area ID (optional)"
                  },
                  "bookingId": {
                    "type": "integer",
                    "description": "Booking ID (optional)"
                  },
                  "rating": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 5,
                    "description": "Rating from 1 to 5"
                  },
                  "title": {
                    "type": "string",
                    "maxLength": 100,
                    "description": "Review title"
                  },
                  "comment": {
                    "type": "string",
                    "maxLength": 1000,
                    "description": "Review comment"
                  },
                  "photos": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "url"
                    },
                    "maxItems": 5,
                    "description": "Array of photo URLs"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Review created successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/reviews/{id}": {
      "put": {
        "summary": "Update a review",
        "tags": [
          "User Reviews"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Review ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "rating": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 5
                  },
                  "title": {
                    "type": "string",
                    "maxLength": 100
                  },
                  "comment": {
                    "type": "string",
                    "maxLength": 1000
                  },
                  "photos": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "url"
                    },
                    "maxItems": 5
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Review updated successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Not authorized to update this review"
          },
          "404": {
            "description": "Review not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "summary": "Delete a review",
        "tags": [
          "User Reviews"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Review ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Review deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Not authorized to delete this review"
          },
          "404": {
            "description": "Review not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/reviews/booking/{bookingId}/can-review": {
      "get": {
        "summary": "Check if user can review a booking",
        "tags": [
          "User Reviews"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "bookingId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Booking ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Review eligibility status"
          },
          "400": {
            "description": "Invalid booking ID"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/transactions": {
      "get": {
        "summary": "Get user's transactions",
        "description": "Retrieve all transactions for the current user",
        "tags": [
          "User - Transactions"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "paymentStatus",
            "schema": {
              "type": "string"
            },
            "description": "Filter by payment status"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Start date for date range filter"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "End date for date range filter"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 50
            }
          },
          {
            "in": "query",
            "name": "offset",
            "schema": {
              "type": "integer",
              "default": 0
            }
          },
          {
            "in": "query",
            "name": "sortBy",
            "schema": {
              "type": "string",
              "default": "date"
            }
          },
          {
            "in": "query",
            "name": "sortOrder",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "desc"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of transactions"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/waitlist": {
      "get": {
        "summary": "Get my waitlist entries",
        "description": "Retrieve all waitlist entries for the authenticated user",
        "tags": [
          "User - Waitlist"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of user's waitlist entries"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "summary": "Join waitlist",
        "description": "Add yourself to the waitlist for a resource",
        "tags": [
          "User - Waitlist"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "clubId",
                  "requestedDate"
                ],
                "properties": {
                  "clubId": {
                    "type": "integer"
                  },
                  "classId": {
                    "type": "integer"
                  },
                  "areaId": {
                    "type": "integer"
                  },
                  "instructorId": {
                    "type": "integer"
                  },
                  "requestedDate": {
                    "type": "string",
                    "format": "date"
                  },
                  "requestedStartTime": {
                    "type": "string",
                    "pattern": "^\\d{2}:\\d{2}$"
                  },
                  "requestedEndTime": {
                    "type": "string",
                    "pattern": "^\\d{2}:\\d{2}$"
                  },
                  "notes": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successfully joined waitlist"
          },
          "400": {
            "description": "Validation error or already on waitlist"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/waitlist/{id}/position": {
      "get": {
        "summary": "Get my position in waitlist",
        "description": "Get the current position in queue for a waitlist entry",
        "tags": [
          "User - Waitlist"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Waitlist position",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "position": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Waitlist entry not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/waitlist/{id}": {
      "delete": {
        "summary": "Leave waitlist",
        "description": "Remove yourself from the waitlist",
        "tags": [
          "User - Waitlist"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully removed from waitlist"
          },
          "404": {
            "description": "Waitlist entry not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/waitlist/{id}/confirm": {
      "post": {
        "summary": "Confirm waitlist booking",
        "description": "Confirm that you want the available spot (converts waitlist to booking)",
        "tags": [
          "User - Waitlist"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Booking created successfully"
          },
          "400": {
            "description": "Cannot confirm (expired or no capacity)"
          },
          "404": {
            "description": "Waitlist entry not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/user/waitlist/{id}/decline": {
      "post": {
        "summary": "Decline waitlist booking",
        "description": "Decline the available spot (removes from waitlist and offers to next person)",
        "tags": [
          "User - Waitlist"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Spot declined successfully"
          },
          "404": {
            "description": "Waitlist entry not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v1/utils/currency": {
      "get": {
        "summary": "Get currency by country",
        "description": "Get the currency code for a specific country",
        "tags": [
          "Utilities"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "countryCode",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ISO country code (e.g., 'US', 'GB', 'DE')"
          },
          {
            "in": "query",
            "name": "country",
            "schema": {
              "type": "string"
            },
            "description": "Alternative query parameter for country code"
          }
        ],
        "responses": {
          "200": {
            "description": "Currency code for the country"
          },
          "400": {
            "description": "countryCode query parameter is required"
          }
        }
      }
    },
    "/v1/webhooks/email-inbound": {
      "post": {
        "summary": "SendGrid inbound email webhook",
        "description": "Webhook endpoint for receiving inbound emails from SendGrid Inbound Parse",
        "tags": [
          "Webhooks"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "from",
                  "to",
                  "subject"
                ],
                "properties": {
                  "headers": {
                    "type": "string",
                    "description": "Email headers including In-Reply-To and References"
                  },
                  "text": {
                    "type": "string",
                    "description": "Plain text email body"
                  },
                  "html": {
                    "type": "string",
                    "description": "HTML email body"
                  },
                  "from": {
                    "type": "string",
                    "description": "Sender email address"
                  },
                  "to": {
                    "type": "string",
                    "description": "Recipient email address(es)"
                  },
                  "subject": {
                    "type": "string",
                    "description": "Email subject"
                  },
                  "envelope": {
                    "type": "string",
                    "description": "JSON string with envelope info including messageId"
                  },
                  "charsets": {
                    "type": "string",
                    "description": "JSON string with charset info"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Email processed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "messageId": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing required email fields"
          },
          "500": {
            "description": "Failed to process inbound email"
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "User Activities",
      "description": "API for fetching user activity feed"
    }
  ]
}